(this["webpackJsonpicra-ts"]=this["webpackJsonpicra-ts"]||[]).push([[0],{318:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(27),c=n.n(r),s=n(6),l=n(12),o=n(5),d=n(344),u={title:"NZDRC2",layout:"sidebar"},b={siteSettings:u,entities:[],entityValues:[],entityTypes:[],entityTypePermissions:[],entityFields:[],entityFieldPermissions:[],entityActions:[],entityActionPermissions:[],entityConnections:[],entityConnectionPermissions:[],notifications:[],templates:[],roles:[]},j={current:function(){}},m=function(e){return{all:function(t){return t&&b[e]?Array.prototype.filter.call(b[e],t):b[e]||[]},find:function(t){return Array.prototype.find.call(b[e],"function"===typeof t?t:function(e){return e.id===t})},save:function(t){if("object"===typeof(i=t)&&"undefined"===typeof i.id){var n=Object(o.a)(Object(o.a)({},t),{},{id:Object(d.a)(),created:(new Date).toISOString()});return Array.prototype.push.call(b[e],n),f(),j.current(),n}var i,a=!1;return b[e]=b[e].map((function(e){return e.id===t.id?(a=!0,t):e})),a||Array.prototype.push.call(b[e],t),f(),j.current(),t},remove:function(t){b[e]=b[e].filter((function(e){return e.id!==t})),f(),j.current()}}},x={siteSettings:{set:function(e,t){b.siteSettings[e]=t,j.current(),f()},get:function(e){return b.siteSettings[e]}},entities:m("entities"),entityValues:m("entityValues"),entityTypes:m("entityTypes"),entityTypePermissions:m("entityTypePermissions"),entityFields:m("entityFields"),entityFieldPermissions:m("entityFieldPermissions"),entityActions:m("entityActions"),entityActionPermissions:m("entityActionPermissions"),entityConnections:m("entityConnections"),entityConnectionPermissions:m("entityConnectionPermissions"),notifications:m("notifications"),templates:m("templates"),roles:m("roles")},f=function(){return localStorage.setItem("data",JSON.stringify(b))},y=function(){localStorage.removeItem("data"),b.siteSettings=u,b.entities=[],b.entityValues=[],b.entityTypes=[],b.entityTypePermissions=[],b.entityFields=[],b.entityFieldPermissions=[],b.entityActions=[],b.entityActionPermissions=[],b.entityConnections=[],b.entityConnectionPermissions=[],b.notifications=[],b.templates=[],b.roles=[]};!function(){var e=JSON.parse(localStorage.getItem("data")||"null");e&&(b.siteSettings=e.siteSettings||{},b.entities=e.entities||[],b.entityValues=e.entityValues||[],b.entityTypes=e.entityTypes||[],b.entityTypePermissions=e.entityTypePermissions||[],b.entityFields=e.entityFields||[],b.entityFieldPermissions=e.entityFieldPermissions||[],b.entityActions=e.entityActions||[],b.entityActionPermissions=e.entityActionPermissions||[],b.entityConnections=e.entityConnections||[],b.entityConnectionPermissions=e.entityConnectionPermissions||[],b.notifications=e.notifications||[],b.templates=e.templates||[],b.roles=e.roles||[])}();var p=x,v=n(16),h=n(3),g=n.p+"static/media/workflow-logo-white-text.c64a9d8e.svg",O=n.p+"static/media/workflow-logo.b7adb00c.svg",N=n(28),k=n(18),w=n(11),A=n.n(w),C=n(14),T=n(17),I=n(1),S=function(e){e.show;var t=e.className,n=e.children;return Object(I.jsx)(T.b.div,{className:Object(h.a)(t,"relative z-40"),style:{originY:0},variants:{hidden:{y:-24},visible:{y:0}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:n})},F=function(e){var t=e.show,n=e.className,i=e.children;return Object(I.jsx)(T.a,{children:t&&Object(I.jsx)(T.b.div,{className:Object(h.a)(n,"relative z-40"),style:{originY:0},variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:i})})},D=[];var E=function(e){return new Promise((function(t){var n=document.createElement("div");document.body.appendChild(n),D.push(n);r.render(Object(I.jsx)(e,{resolve:function(e){return t(e)},close:function(){r.unmountComponentAtNode(n),D.splice(D.findIndex((function(e){return e===n})),1),document.contains(n)&&document.body.removeChild(n)}}),n)}))},P=function(e){var t=e.className;return Object(I.jsx)("div",{className:Object(h.a)("border-t border-black dark:border-white border-opacity-10 dark:border-opacity-10",t)})},M=function(e){var t=e.show,n=e.style,a=e.children,r=Object(i.useState)(t),c=Object(s.a)(r,2),l=c[0],d=c[1],u=Object(i.useState)(!1),b=Object(s.a)(u,2),j=b[0],m=b[1],x=Object(i.useState)(t),f=Object(s.a)(x,2),y=f[0],p=f[1];return Object(i.useEffect)((function(){t?(m(!0),setTimeout((function(){return p(!0)}),1),setTimeout((function(){return m(!1)}),400)):(m(!0),setTimeout((function(){return p(!1)}),1),setTimeout((function(){return m(!1)}),400))}),[t]),Object(I.jsx)(T.a,{children:y&&Object(I.jsx)(T.b.div,{style:Object(o.a)({originY:0,padding:"0.5rem",margin:"-0.5rem",overflow:j?"hidden":"visible"},n),variants:{hidden:{height:0},visible:{height:"auto"}},transition:{type:"tween",ease:"easeOut",duration:.3},onAnimationComplete:function(){return d(!1)},initial:l?"visible":"hidden",animate:"visible",exit:"hidden",children:a})})},V=n(345),z=function(e){return void 0!==e&&""!==e&&!1!==e&&null!==e},R=function(e){return"string"===typeof e.to},B=function(e){return"function"===typeof e.onClick},H=function(e){return"submit"===e.type},L=function(e){return e.actions instanceof Array},q=function(e){return!!e.menu},Q=function(e){return"undefined"!==typeof e.to},G=function(e){return"undefined"!==typeof e.url},W=function(e){return"string"===typeof e.to},X=function(e){return"function"===typeof e.onClick},Y={0:"",1:"pt-1",2:"pt-2",3:"pt-3",4:"pt-4",6:"pt-6",8:"pt-8"},U=function(e){var t=e.space,n=void 0===t?6:t,a=e.dividers,r=e.className,c=e.children,s=i.Children.toArray(c).reduce((function(e,t,r){var c,s,l=null===t||void 0===t?void 0:t.type,d=(null===t||void 0===t||null===(c=t.props)||void 0===c?void 0:c.children)||null,u=Object(V.a)(["children","show"],t.props)||null,b=(null===t||void 0===t||null===(s=t.props)||void 0===s?void 0:s.show)||null;return l===i.Fragment?e.concat(d):[].concat(Object(v.a)(e),[l===M?Object(I.jsx)(M,Object(o.a)(Object(o.a)({show:b},u),{},{children:Object(I.jsxs)("div",{className:Object(h.a)(r>0&&Y[n||0]),children:[a&&r>0&&Object(I.jsx)(P,{className:Y[n||0]}),d]})})):t])}),[]);return Object(I.jsx)("div",{className:Object(h.a)("flex flex-col",r),children:s.filter(z).map((function(e,t){return e.type===M?Object(I.jsx)(i.Fragment,{children:e},t):Object(I.jsxs)("div",{className:Object(h.a)(t>0&&Y[n||0]),children:[a&&t>0&&Object(I.jsx)(P,{className:Y[n||0]}),e]},t)}))})},K=n(4),J=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var n;t.current&&e&&("function"===typeof(null===(n=t.current)||void 0===n?void 0:n.focus)&&setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),100))}),[e]),t},Z={xs:"px-2.5 py-1.5 text-xs leading-4",sm:"px-3 py-2 text-sm leading-4",md:"px-4 py-2 text-sm leading-5",lg:"px-4 py-2 text-base leading-6",xl:"px-6 py-3 text-base leading-6",inline:""},_={none:"",sm:"rounded-sm",rounded:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},$={primary:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0 border-primary-500","bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-500 active:bg-primary-700 dark:active:bg-primary-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-primary-300 dark:focus:ring-primary-300 dark:ring-offset-gray-800","disabled:opacity-50")},secondary:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150","disabled:cursor-not-allowed","border-gray-300 focus:border-primary-500 dark:border-gray-600 dark:focus:border-primary-500","text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white","bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750","focus:outline-none dark:focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-500","disabled:opacity-50")},light:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-gray-800 dark:text-white","border-0 border-gray-500","bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500 active:bg-gray-300 dark:active:bg-gray-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-300 dark:ring-offset-gray-800","disabled:opacity-50")},save:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0","bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-500 hover:bg-emerald-400 dark:hover:bg-emerald-400 active:bg-emerald-600 dark:active:bg-emerald-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-emerald-300 dark:focus:ring-emerald-700")},danger:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0","bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-500 active:bg-red-700 dark:active:bg-red-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-red-300 dark:focus:ring-red-300")},menu:{span:"flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:bg-primary-200","text-gray-400 hover:text-gray-500 focus:text-gray-500 dark:hover:text-gray-300","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400")},"menu-danger":{span:"inline-flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:bg-red-200","text-red-400 hover:text-red-500 focus:text-red-500 dark:hover:text-red-300","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-red-800 dark:focus:bg-red-900 dark:hover:text-red-400")},"sidebar-menu":{span:"flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-gray-700 focus:bg-gray-600","text-gray-400 hover:text-gray-300 focus:text-gray-200","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400")},"sub-menu":{span:"flex",button:"flex items-center justify-between text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750"},borderless:{span:"inline hover",button:Object(h.a)("inline text-left border border-transparent hover:border-gray-300 focus:bg-gray-50 transition ease-in-out duration-150 dark:hover:border-gray-600 dark:focus:bg-gray-750","focus:border-primary-500 dark:focus:border-primary-500","focus:outline-none focus:ring-1 focus:ring-primary-500")},invisible:{span:"inline",button:Object(h.a)("inline-flex items-center text-left border border-transparent","hover:bg-gray-800 dark:hover:bg-gray-100 bg-opacity-10 hover:bg-opacity-10 dark:hover:bg-opacity-10","focus:outline-none focus:ring-2 focus:ring-primary-500")},none:{span:"",button:""}},ee=Object(i.forwardRef)((function(e,t){var n=e.onClick,i=e.type,a=void 0===i?"button":i,r=e.intent,c=void 0===r?"secondary":r,s=e.size,l=void 0===s?"md":s,d=e.rounded,u=void 0===d?"rounded":d,b=e.disabled,j=e.isLoading,m=e.className,x=e.as,f=void 0===x?"button":x,y=e.children,p=f,v={};return"button"===f&&(v.type=a),Object(I.jsx)("span",{className:Object(h.a)("inline-flex select-none",$[c].span,_[u]),ref:t,children:Object(I.jsxs)(p,Object(o.a)(Object(o.a)({},v),{},{className:Object(h.a)("focus:outline-none",$[c].button,Z[l],_[u],m),onClick:n,disabled:b||j||!1,children:[j&&Object(I.jsx)(Le,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),y]}))})})),te=function(e){var t=e.resolve,n=e.close,a=e.title,r=e.message,c=e.buttonLabel,l=void 0===c?"Yes":c,o=e.dismissable,d=void 0===o||o,u=e.intent,b=void 0===u?"danger":u,j=e.onAccept,m=Object(i.useState)(!0),x=Object(s.a)(m,2),f=x[0],y=x[1],p=Object(i.useState)(!1),v=Object(s.a)(p,2),g=v[0],O=v[1],N=Object(i.useRef)(null),k=J(),w=function(e){y(!1),t(e),setTimeout((function(){n()}),300)},T=function(){var e=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=9;break}return O(!0),e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:return e.next=6,j();case 6:w(!0),e.next=10;break;case 9:w(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(F,{show:f,children:Object(I.jsx)("div",{className:"fixed inset-0 w-screen h-screen flex p-4 justify-center bg-black bg-opacity-50 overflow-y-auto z-60 backdrop-filter backdrop-grayscale",onClick:function(e){e.target===N.current&&d&&!g&&w(!1)},ref:N,children:Object(I.jsx)(S,{show:f,className:"w-full pointer-events-none sm:flex sm:justify-center sm:items-start",children:Object(I.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-xl sm:max-w-lg sm:w-full pointer-events-auto",ref:d?N:void 0,children:[Object(I.jsx)("div",{className:"bg-white dark:bg-gray-700 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(I.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(I.jsx)("div",{className:Object(h.a)("mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",{"bg-red-100 text-red-600":"danger"===b,"bg-indigo-100 text-indigo-600":"primary"===b}),children:Object(I.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(I.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(I.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:a}),r&&Object(I.jsx)("div",{className:"mt-2 text-sm leading-5 text-gray-500 dark:text-gray-300",children:r})]})]})}),Object(I.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-750 px-4 py-3 sm:px-6 flex flex-col-reverse sm:flex-row justify-end sm:space-x-3",children:[Object(I.jsx)("span",{className:Object(h.a)($.danger.span,_.md),children:Object(I.jsx)("button",{onClick:function(){return w(!1)},type:"button",className:Object(h.a)($.secondary.button,Z.md,_.md,"w-full sm:w-auto justify-center"),disabled:g,tabIndex:1,children:"Cancel"})}),Object(I.jsx)("span",{className:Object(h.a)($[b].span,_.md),children:Object(I.jsx)("button",{onClick:T,type:"button",className:Object(h.a)($[b].button,Z.md,_.md,"w-full sm:w-auto justify-center mb-3 sm:mb-0"),disabled:g,ref:k,tabIndex:2,children:Object(I.jsxs)("div",{className:"flex items-center",children:[g&&Object(I.jsx)(Le,{className:"animate-spin -ml-1 mr-3 w-4 h-4"}),l]})})})]})]})})})})},ne=function(){var e=Object(C.a)(A.a.mark((function e(t){var n,i,a,r,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,i=t.message,a=t.intent,r=t.buttonLabel,c=t.onAccept,e.next=3,E((function(e){var t=e.resolve,s=e.close;return Object(I.jsx)(te,{resolve:t,close:s,title:n,message:i,buttonLabel:r,onAccept:c,dismissable:!0,intent:a})}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ie={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"};function ae(e){var t=e.close,n=e.resolve,r=e.children,c=e.size,l=void 0===c?"md":c,o=e.mode,d=void 0===o?"":o,u=e.dismissable,b=void 0===u||u,j=a.a.useState(!0),m=Object(s.a)(j,2),x=m[0],f=m[1],y=Object(i.useCallback)((function(e){n(e),f(!1),setTimeout((function(){t()}),500)}),[t,n]),p=Object(i.useRef)(null);return Object(I.jsx)(T.a,{children:x&&Object(I.jsx)(T.b.div,{style:{originY:0},variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(I.jsx)("div",{className:Object(h.a)("fixed z-40 inset-0 overflow-hidden",d),onClick:function(e){e.target===p.current&&b&&y(!1)},ref:p,children:Object(I.jsxs)("div",{className:"absolute z-40 inset-0 overflow-hidden",children:[Object(I.jsx)("div",{className:"absolute z-40 inset-0 bg-black bg-opacity-50 transition-opacity backdrop-filter backdrop-grayscale",onClick:function(){return y(!1)}}),Object(I.jsx)("section",{className:Object(h.a)("absolute z-40 inset-y-0 right-0 w-full flex",ie[l]),children:Object(I.jsx)(T.b.div,{className:"pointer-events-none flex-1",variants:{hidden:{x:"100%"},visible:{x:"0%"}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(I.jsx)("div",{className:"pointer-events-auto h-full w-full",children:r(y)})})})]})})})})}function re(e){var t=e.dismissable,n=e.size,i=e.mode,a=void 0===i?"":i,r=e.children;return E((function(e){var i=e.resolve,c=e.close;return Object(I.jsx)(ae,{resolve:i,close:c,children:r,dismissable:t,size:n,mode:a})}))}var ce=document.createElement("div");ce.className="flex flex-col justify-start fixed inset-0 pointer-events-none z-50",document.body.appendChild(ce);var se=n(99),le=(n(329),n(330),n(331),n(332)),oe=[{name:"New Year's Day",date:new Date("1 Jan 2021")},{name:"Day after New Year's Day",date:new Date("4 Jan 2021")},{name:"Waitangi Day",date:new Date("8 Feb 2021")},{name:"Good Friday",date:new Date("2 Apr 2021")},{name:"Easter Monday",date:new Date("5 Apr 2021")},{name:"Anzac Day",date:new Date("26 Apr 2021")},{name:"Queen's Birthday",date:new Date("7 Jun 2021")},{name:"Labour Day",date:new Date("25 Oct 2021")},{name:"Christmas Day",date:new Date("27 Dec 2021")},{name:"Boxing Day",date:new Date("28 Dec 2021")},{name:"New Year's Day",date:new Date("3 Jan 2022")},{name:"Day after New Year's Day",date:new Date("4 Jan 2022")},{name:"Waitangi Day",date:new Date("7 Feb 2022")},{name:"Good Friday",date:new Date("15 Apr 2022")},{name:"Easter Monday",date:new Date("18 Apr 2022")},{name:"Anzac Day",date:new Date("25 Apr 2022")},{name:"Queen's Birthday",date:new Date("6 Jun 2022")},{name:"Matariki",date:new Date("24 Jun 2022")},{name:"Labour Day",date:new Date("24 Oct 2022")},{name:"Christmas Day",date:new Date("26 Dec 2022")},{name:"Boxing Day",date:new Date("27 Dec 2022")}],de=(Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"47b2fb659de09b1f9d18500c4539ef93efd0e340"}).REACT_APP_ENV,Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"47b2fb659de09b1f9d18500c4539ef93efd0e340"}).REACT_APP_SITE||"dev"),ue=n(343),be=(n(326),n(346),n(166)),je=n(167),me=n(154),xe=n(168);function fe(e){var t=a.a.useRef(null),n=a.a.useRef(null),i=a.a.useRef((function(){})),r=a.a.useCallback((function(){t.current&&n.current&&(i.current&&i.current(),i.current=Object(be.a)(t.current,n.current,Object(o.a)(Object(o.a)({},e),{},{modifiers:[je.a,me.a,xe.a].concat(Object(v.a)((null===e||void 0===e?void 0:e.modifiers)||[]))})).destroy)}),[t,n,i,e]);return a.a.useMemo((function(){return[function(e){t.current=e,r()},function(e){n.current=e,r()}]}),[t,n,r])}var ye=n(341),pe=n(155),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)("ignore-dismissable-".concat(Math.floor(999999*Math.random()))),l=Object(s.a)(c,1),o=l[0],d=Object(i.useCallback)((function(){e.onClose&&e.onClose(),r(!1)}),[e]),u=Object(i.useState)(a),b=Object(s.a)(u,2),j=b[0],m=b[1];Object(i.useEffect)((function(){a!==j&&(e.onOpen&&a&&e.onOpen(),m(a))}),[a,e,j]),Object(i.useEffect)((function(){var e=function(e){return"Escape"===e.key&&r(!1)};return a?window.addEventListener("keyup",e):window.removeEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[a,d]);var x=Object(pe.a)((function(e){r(!1)}),{ignoreClass:o});return{open:a,setOpen:r,ignoreClass:o,ref:x}},he=function(e){var t=e.placement,n=void 0===t?"bottom-end":t,i=e.className,a=e.children,r=e.menu,c=e.maxWidth,l=fe({placement:n,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,0]}}]}),o=Object(s.a)(l,2),d=o[0],u=o[1],b=ve(),j=b.open,m=b.setOpen,x=b.ignoreClass,f=b.ref;return Object(I.jsxs)("div",{className:Object(h.a)("block text-left",i),children:[Object(I.jsx)("div",{ref:d,className:x,children:a({onClick:function(){return m((function(e){return!e}))}})}),Object(I.jsx)("div",{ref:u,className:"z-20",children:Object(I.jsx)("div",{ref:f,children:Object(I.jsx)(T.a,{children:j&&Object(I.jsx)(T.b.div,{className:Object(h.a)(i,"relative z-60"),style:{originY:0},variants:{hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(I.jsx)("div",{className:"mt-2 rounded-md shadow-lg focus:outline-none",style:{maxWidth:c?"number"===typeof c?c+"px":c:"auto"},children:Object(I.jsx)("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 whitespace-nowrap",children:r})})})})})})]})},ge={primary:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:bg-gray-750 h-10",secondary:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:focus:bg-gray-750 active:bg-gray-200 dark:active:bg-gray-700 h-10",save:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-green-300 hover:bg-opacity-25 dark:hover:bg-green-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-green-100 hover:text-green-600 font-normal dark:text-green-200 dark:hover:bg-opacity-50 dark:hover:text-green-100 dark:focus:bg-green-400 active:bg-green-200 dark:active:bg-green-300 h-10",danger:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-red-100 hover:text-red-600 font-normal dark:text-red-200 dark:hover:bg-opacity-50 dark:hover:text-red-100 dark:focus:bg-red-400 active:bg-red-200 dark:active-bg-red-300 h-10",submit:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal h-10",cancel:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",menu:"block","sidebar-menu":"","sub-menu":"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750",anchor:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",borderless:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",invisible:"",none:"",light:"","menu-danger":""},Oe=function(e){var t=e.action;if(!z(t))return null;var n=t.iconSide||"left";return Object(I.jsxs)("div",{className:"flex items-center justify-between",children:[Object(I.jsxs)("div",{className:"flex items-center",children:["left"===n&&t.icon?Object(I.jsx)("span",{className:Object(h.a)(t.title?"-ml-1 mr-3 opacity-75":"-ml-1 -mr-1"),children:t.icon}):null,t.title]}),"right"===n&&t.icon?Object(I.jsx)("span",{className:"-mr-1 ml-2",children:t.icon}):null]})},Ne=function e(t){var n=t.actions,a=t.intent,r=t.placement,c=void 0===r?"bottom-end":r,o=t.offset,d=void 0===o?10:o,u=t.hoverable,b=void 0!==u&&u,j=t.disabled,m=void 0!==j&&j,x=t.size,f=t.rounded,y=void 0===f?"rounded":f,p=t.className,g=t.children,O=fe({placement:c,strategy:"fixed",modifiers:[{name:"offset",options:{offset:d instanceof Array?d:[0,d]}}]}),N=Object(s.a)(O,2),k=N[0],w=N[1],A=Object(i.useState)(!1),C=Object(s.a)(A,2),S=C[0],F=C[1],D=Object(i.useState)(),E=Object(s.a)(D,2),P=E[0],M=E[1],V=n.filter(z)[0]instanceof Array?n.filter(z).reduce((function(e,t,n){return 0===n?Object(v.a)(t):[].concat(Object(v.a)(e),[{divider:!0}],Object(v.a)(t.filter(z)))}),[]):n.filter(z),Q=Object(i.useRef)(!1);return Object(I.jsx)("div",{className:Object(h.a)("block text-left w-full",p),onMouseOver:function(){b&&(F(!0),P&&clearTimeout(P))},onMouseOut:function(){b&&M(setTimeout((function(){F(!1)}),100))},children:Object(I.jsx)(ye.a,{children:function(t){var n=t.open;return n!==Q.current&&(Q.current=n,n&&window.dispatchEvent(new Event("resize"))),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{className:Object(h.a)(a&&$[a].span,_[y]),children:Object(I.jsx)(ye.a.Button,{className:Object(h.a)(a&&$[a].button,x&&Z[x],_[y]),disabled:m,ref:k,children:g})}),Object(I.jsx)("div",{ref:w,className:"z-20 whitespace-nowrap",children:Object(I.jsx)(T.a,{children:(n||S)&&!m&&Object(I.jsx)(T.b.div,{style:{originY:0},variants:{hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.3},initial:"hidden",animate:"visible",exit:"hidden",children:Object(I.jsx)(ye.a.Items,{static:!0,className:"max-w-screen origin-top-right bg-white dark:bg-gray-900 rounded-md shadow-lg outline-none",children:Object(I.jsx)("div",{className:"p-2 rounded-md ring-1 ring-black ring-opacity-5",children:V.filter(z).map((function(t,n){return R(t)?Object(I.jsx)(ye.a.Item,{disabled:t.disabled,children:function(e){var i=e.active;return Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(t.to),className:Object(h.a)(ge[t.intent||"secondary"],"flex items-center",{"ring-2 ring-indigo-500 hover:ring-0":i}),state:t.state,replace:t.replace,children:Object(I.jsx)(Oe,{action:t})},n)}},n):B(t)?!t.disabled&&Object(I.jsx)(ye.a.Item,{disabled:t.disabled,onClick:function(){console.log("menu.item click")},children:function(e){var i=e.active;return Object(I.jsx)("button",{onClick:function(e){t.disableDismiss&&e.preventDefault(),e.stopPropagation(),t.onClick(e)},className:Object(h.a)(ge[t.intent||"secondary"],{"ring-2 ring-indigo-500 hover:ring-0":i}),type:"button",children:Object(I.jsx)(Oe,{action:t})},n)}},n):H(t)?!t.disabled&&Object(I.jsx)(ye.a.Item,{disabled:t.disabled,children:function(e){var i=e.active;return Object(I.jsx)("button",{className:Object(h.a)(ge[t.intent||"secondary"],{"ring-2 ring-indigo-500 hover:ring-0":i}),type:"submit",children:Object(I.jsx)(Oe,{action:t})},n)}},n):L(t)?Object(I.jsx)(e,{actions:t.actions,intent:t.intent||"sub-menu",placement:t.placement,offset:t.offset||[-4,-1],hoverable:t.hoverable,children:Object(I.jsx)(ye.a.Item,{disabled:t.disabled,children:function(e){var n=e.active;return Object(I.jsx)("div",{className:Object(h.a)(ge[t.intent||"secondary"],"flex items-center",{"ring-2 ring-indigo-500 hover:ring-0":n}),children:Object(I.jsx)(Oe,{action:t})})}})},n):q(t)?Object(I.jsx)(he,{menu:t.menu,placement:t.placement,className:t.className,maxWidth:t.maxWidth,children:function(e){var n=e.onClick;return Object(I.jsx)("span",{className:"block",children:Object(I.jsx)(ee,{intent:t.intent||"secondary",onClick:n,children:Object(I.jsx)(Oe,{action:t})})})}},n):function(e){return!0===(null===e||void 0===e?void 0:e.divider)}(t)?Object(I.jsx)("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"},n):null}))})})})})})]})}})})},ke={0:{wrapper:"",item:""},1:{wrapper:"-ml-1 -mt-1",item:"pl-1 pt-1"},2:{wrapper:"-ml-2 -mt-2",item:"pl-2 pt-2"},3:{wrapper:"-ml-3 -mt-3",item:"pl-3 pt-3"},4:{wrapper:"-ml-4 -mt-4",item:"pl-4 pt-4"},6:{wrapper:"-ml-6 -mt-6",item:"pl-6 pt-6"},8:{wrapper:"-ml-8 -mt-8",item:"pl-8 pt-8"}},we=function(e){var t=e.space,n=void 0===t?3:t,a=e.children,r=e.className,c=i.Children.toArray(a);return Object(I.jsx)("div",{className:Object(h.a)("flex flex-wrap",ke[n||0].wrapper,r),children:c.map((function(e,t){return Object(I.jsx)("div",{className:Object(h.a)("flex items-center",ke[n||0].item),children:e},t)}))})},Ae=function(e){var t=e.action;return z(t)?(B(t)||H(t))&&t.isLoading?Object(I.jsx)(I.Fragment,{children:t.title}):Object(I.jsxs)(I.Fragment,{children:["left"!==t.iconSide&&t.iconSide||!t.icon?null:Object(I.jsx)("span",{className:Object(h.a)(t.title?"-ml-1 mr-2":""),children:t.icon}),t.title,"right"===t.iconSide&&t.icon?Object(I.jsx)("span",{className:"-mr-1 ml-2",children:t.icon}):null]}):null},Ce=function(e){var t=e.actions,n=void 0===t?[]:t,i=e.className,a=(n instanceof Array?n:[n]).filter(z);return Object(I.jsx)(we,{className:Object(h.a)("inline-flex",i),children:a.map((function(e,t){return R(e)?Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(e.to),className:e.className,state:e.state,replace:e.replace,children:Object(I.jsx)(ee,{intent:e.intent,size:e.size,rounded:e.rounded,children:Object(I.jsx)(Ae,{action:e})})},t):B(e)?Object(I.jsx)(ee,{intent:e.intent,onClick:function(t){t.stopPropagation(),e.onClick&&e.onClick(t)},disabled:e.disabled||e.isLoading||!1,className:e.className,type:e.type,isLoading:e.isLoading,size:e.size,rounded:e.rounded,children:Object(I.jsx)(Ae,{action:e})},t):H(e)?Object(I.jsx)(ee,{intent:e.intent,disabled:e.disabled||e.isLoading||!1,className:e.className,type:e.type,isLoading:e.isLoading,size:e.size,rounded:e.rounded,children:Object(I.jsx)(Ae,{action:e})},t):L(e)?Object(I.jsx)(Ne,{actions:e.actions,intent:e.intent||"secondary",placement:e.placement,offset:e.offset,hoverable:e.hoverable,className:e.className,disabled:e.disabled,size:e.size||"md",rounded:e.rounded,children:Object(I.jsx)(Ae,{action:e})},t):q(e)?Object(I.jsx)(he,{menu:e.menu,placement:e.placement,className:e.className,maxWidth:e.maxWidth,children:function(t){var n=t.onClick;return Object(I.jsx)(ee,{intent:e.intent,disabled:e.disabled,size:e.size,onClick:n,children:Object(I.jsx)(Ae,{action:e})})}},t):function(e){return!!e.render}(e)?Object(I.jsx)("div",{children:e.render},t):null}))})},Te=function(e){var t=e.title,n=e.className,a=e.children,r=Object(i.useRef)(null),c=Object(i.useRef)(void 0),l=Object(i.useState)(!1),o=Object(s.a)(l,2),d=o[0],u=o[1],b=Object(i.useCallback)((function(){if(r.current){var e=r.current,t=e.clientWidth,n=e.clientHeight,i=e.scrollWidth,a=e.scrollHeight;u(a>n||i>t)}}),[]);return Object(i.useEffect)((function(){var e=function(){c.current&&clearTimeout(c.current),c.current=setTimeout(b,500)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[b]),Object(i.useEffect)(b,[b]),Object(I.jsx)("span",{ref:r,className:Object(h.a)("overflow-ellipsis overflow-hidden",n),title:d?t:"",children:a})},Ie=n(347),Se={1:"col-span-1",2:"col-span-2",3:"col-span-3",4:"col-span-4",5:"col-span-5",6:"col-span-6",7:"col-span-7",8:"col-span-8",9:"col-span-9",10:"col-span-10",11:"col-span-11",12:"col-span-12"},Fe={sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"},De=function(e){return function(t){return e.reduce((function(e,n){return e||t.visibility===n}),!1)}},Ee=function(e){var t=e.schema,n=e.items,a=e.getKey,r=void 0===a?function(e,t){return t}:a,c=e.isStriped,l=void 0!==c&&c,o=e.className,d=function(e){var t=Object(i.useMemo)((function(){return e.map((function(e){return window.matchMedia(e)}))}),[e]),n=Object(i.useCallback)((function(){return t.map((function(e){return e.matches}))}),[t]),a=Object(i.useState)(n),r=Object(s.a)(a,2),c=r[0],l=r[1];return Object(i.useEffect)((function(){var e=function(){return l(n)};return t.forEach((function(t){return t.addListener(e)})),function(){return t.forEach((function(t){return t.removeListener(e)}))}}),[n,t]),c}(Object.values(Fe).map((function(e){return"(min-width: ".concat(e,")")}))),u=Object(s.a)(d,5),b={sm:u[0],md:u[1],lg:u[2],xl:u[3],xxl:u[4]},j=t.cols.filter(z).filter(De([void 0,"all","screen-only"])).filter((function(e){return!e.responsive||b[e.responsive]})),m=j.map((function(e){return e.width||"minmax(0, auto)"})).join(" "),x=t.actions;return Object(I.jsx)("div",{className:Object(h.a)(o),children:Object(I.jsxs)("div",{className:"grid border-t border-gray-200 dark:border-gray-600",style:{gridTemplateColumns:z(x)?m.concat(" minmax(auto, max-content)"):m},children:[j.map((function(e,t){return Object(I.jsx)("div",{className:Object(h.a)("px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300",e.className),children:e.title},t)})),z(x)&&Object(I.jsx)("div",{className:"px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300"}),n.map((function(e,t){return Object(I.jsxs)("div",{className:"contents group",children:[j.map((function(n,i){return Object(I.jsx)("div",{className:Object(h.a)("min-h-11 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600",0===i&&"font-medium",!n.truncate&&"px-5 py-4",l&&t%2&&"bg-gray-50 dark:bg-gray-750",n.className),children:n.truncate?Object(I.jsx)(Te,{title:Object(Ie.a)(n.value(e,t)),className:"px-6 py-4",children:n.value(e,t)}):n.value?n.value(e,t):null},i)})),(null===x||void 0===x?void 0:x.length)?Object(I.jsx)("div",{className:Object(h.a)("px-5 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600",l&&t%2&&"bg-gray-50 dark:bg-gray-750"),children:Object(I.jsx)(Ce,{actions:x(e,t),className:"flex-nowrap"})}):null]},r(e,t))})),0===n.length&&Object(I.jsx)("div",{className:"contents group",children:Object(I.jsx)("div",{className:Object(h.a)(Se[j.length+((null===x||void 0===x?void 0:x.length)?1:0)],"px-6 py-3","whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 select-none"),children:"No items"})})]})})},Pe=function(e,t){for(var n=e.split(" "),i=function(e){var i=t[e];n.find((function(e){return i.pattern.test(e)}))||n.push(i.defaultValue)},a=0;a<t.length;a++)i(a);return n.join(" ")};function Me(e){return!isNaN(e.valueOf())}var Ve=function(e){return e instanceof Date?e:new Date(e||"")},ze=function(e){var t;return null===(t=oe.find((function(t){return Object(le.a)(t.date,e)})))||void 0===t?void 0:t.name},Re=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},Be=function(e){return e.trim().replace(/\s/g,"-").toLowerCase()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pe(e,[{pattern:/^w-\d+$/,defaultValue:"w-5"},{pattern:/^h-\d+$/,defaultValue:"h-5"}])},Le=function(e){var t=e.className;return Object(I.jsxs)("svg",{className:He(Object(h.a)(t)),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(I.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(I.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},qe=function(e){e.size,e.spin;var t=e.className,n=void 0===t?"":t,i=Object(N.a)(e,["size","spin","className"]);return Object(I.jsx)("div",Object(o.a)(Object(o.a)({className:"flex flex-col justify-center items-center p-2 ".concat(n)},i),{},{children:Object(I.jsx)(Le,{className:"w-10 h-10 animate-spin"})}))};var Qe=function(e,t){var n=Object(i.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(i){return t}})),a=Object(s.a)(n,2),r=a[0],c=a[1];return[r,function(t){var n=t instanceof Function?t(r):t;c(n),window.localStorage.setItem(e,JSON.stringify(n))}]},Ge=function(e){var t=e.message,n=e.enabled,a=void 0===n||n,r=e.intent,c=void 0===r?"light":r,l=e.children,o=Object(i.useRef)(null),d=Object(i.useState)(!1),u=Object(s.a)(d,2),b=u[0],j=u[1],m=Object(i.useState)(0),x=Object(s.a)(m,2),f=x[0],y=x[1],p=Object(i.useState)(0),v=Object(s.a)(p,2),g=v[0],O=v[1];return Object(I.jsxs)("div",{ref:o,onMouseOver:function(){return o.current&&a?(y(o.current.offsetLeft+o.current.offsetWidth),O(o.current.offsetTop),void j(!0)):null},onMouseOut:function(){j(!1)},children:[Object(I.jsx)("div",{children:l}),Object(I.jsx)("div",{className:"flex items-center absolute z-10 ml-6 w-80 pointer-events-none",style:{left:"".concat(f,"px"),top:"".concat(g,"px")},children:Object(I.jsx)(T.a,{children:b&&Object(I.jsx)(T.b.div,{style:{originX:0},variants:{hidden:{opacity:0,x:-30},visible:{opacity:1,x:0}},transition:{type:"tween",ease:"easeOut",duration:.1},initial:"hidden",animate:"visible",exit:"hidden",children:Object(I.jsx)("div",{className:Object(h.a)("rounded px-3 py-2 text-sm font-medium shadow-lg",{"bg-white text-gray-900 dark:bg-primary-900 dark:text-white":"light"===c,"bg-primary-900 text-white dark:bg-primary-200 dark:text-primary-900 antialiased":"dark"===c}),children:t})})})})]})},We={primary:{wrapper:"bg-gray-800 dark:bg-gray-900 antialiased",link:{active:"text-white bg-gradient-to-r from-primary-600 to-primary-500 text-white dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800",inactive:"text-gray-200 hover:text-white hover:bg-gray-700 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800"}},secondary:{wrapper:"bg-white dark:bg-gray-700 antialiased shadow",link:{active:"text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800",inactive:"text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"}},white:{wrapper:"bg-white antialiased shadow",link:{active:"text-gray-900 bg-gray-50 focus:bg-gray-200",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"}}},Xe=function(e,t,n){return function(i){var a=i.isCurrent,r=i.isPartiallyCurrent;return(e.exact?a:r)?{className:Object(h.a)("group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150",t&&"justify-center",We[n].link.active)}:{className:Object(h.a)("group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150",t&&"justify-center",We[n].link.inactive)}}},Ye=function(e){var t=e.route,n=e.min,i=e.intent,a=e.children;return G(t)?Object(I.jsxs)("a",{href:t.url,className:Object(h.a)("group flex items-center justify-center py-2 px-2.5 text-sm leading-5 rounded focus:outline-none transition ease-in-out duration-150",We[i].link.inactive,n&&"justify-center"),target:"_blank",rel:"noopener noreferrer",children:[Object(I.jsx)("div",{className:"flex items-center justify-center",children:a}),!n&&Object(I.jsx)("div",{className:"flex-1 flex justify-end",children:Object(I.jsx)(K.r,{className:"opacity-25 w-4 h-4"})})]}):Q(t)?Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(t.to),getProps:Xe(t,n,i),children:a}):null},Ue=function e(t){var n=t.link,i=t.min,a=t.intent,r=Object(l.f)(),c=!!Q(n)&&0===r.pathname.indexOf(n.to);return Object(I.jsxs)("div",{children:[n&&Object(I.jsx)(Ge,{message:n.tooltip||n.title,enabled:i,children:Object(I.jsxs)(Ye,{route:n,min:i,intent:a,children:[Object(I.jsx)("div",{className:Object(h.a)("opacity-75 pointer-events-none",i?"mr-0":"mr-3"),children:n.icon}),!i&&n.title]})}),c&&n.children&&n.children.length>0&&Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("div",{className:"p-1 rounded-md space-y-1 border-2 border-gray-700",children:n.children.filter((function(e){return e})).map((function(t,n){return Object(I.jsx)(e,{link:t,intent:a,min:i},n)}))})})]})},Ke=function(e){var t=e.header,n=e.footer,i=e.links,a=e.intent,r=e.name,c=e.className,l=Qe("sidebar-".concat(r,"-min"),!1),o=Object(s.a)(l,2),d=o[0],u=o[1];return Object(I.jsxs)("div",{className:Object(h.a)("flex flex-col h-screen relative",d?"w-16":"w-64",We[a].wrapper,c),children:[Object(I.jsx)("div",{className:Object(h.a)("absolute right-0 top-0 h-full -mr-2 w-4 z-40 group",{"cursor-right":d,"cursor-left":!d}),onClick:function(){return u((function(e){return!e}))},children:Object(I.jsx)("div",{className:"group-hover:opacity-100 opacity-0 transition-opacity ease-in-out duration-200 w-1 h-full ml-1.5 bg-primary-600"})}),Object(I.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto overflow-x-visible",children:[t&&t(d),Object(I.jsx)("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:i.filter(z).map((function(e,t){return Object(I.jsx)(Ue,{link:e,intent:a,min:d},t)}))})]}),n&&n(d)]})},Je=function(e){var t;return null===(t=document.querySelector("html"))||void 0===t?void 0:t.classList[e?"add":"remove"]("dark")},Ze=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=window.matchMedia("(prefers-color-scheme: dark)");return Object(i.useEffect)((function(){if(null!==n)Je(n);else{var e=function(e){return Je(e.matches)};if(Je(r.matches),r.hasOwnProperty("addEventListener"))return r.addEventListener("change",e),function(){return r.removeEventListener("change",e)}}}),[n,r]),[n,a]},_e=function(e){var t=e.intent,n=void 0===t?"light":t,i=e.className,a=function(){var e=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=Ze(),c=Object(s.a)(r,2),l=c[0],o=c[1];return Object(I.jsx)("div",{className:Object(h.a)("max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-end",i),children:{}&&Object(I.jsx)("div",{className:"flex items-center space-x-2",children:Object(I.jsx)(Ce,{actions:[{title:Object(I.jsx)("div",{className:"flex items-center space-x-4",children:Object(I.jsx)("div",{className:Object(h.a)("text-sm font-medium","dark"===n&&"text-gray-200 antialiased"),children:"Your Name"})}),icon:Object(I.jsx)(K.j,{className:Object(h.a)("w-5 h-5 opacity-75","dark"===n&&"text-white")}),iconSide:"right",intent:"invisible",placement:"bottom-end",size:"xs",actions:[[{title:"Colour Scheme",icon:Object(I.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",placement:"left-start",hoverable:!0,actions:[{title:"Dark Mode",icon:Object(I.jsx)(K.i,{className:Object(h.a)("w-4 h-4",!0===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(!0)}},{title:"Light Mode",icon:Object(I.jsx)(K.i,{className:Object(h.a)("w-4 h-4",!1===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(!1)}},{title:"System Preference",icon:Object(I.jsx)(K.i,{className:Object(h.a)("w-4 h-4",null===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(null)}}]}],[{title:"Logout",icon:Object(I.jsx)(K.s,{className:"w-4 h-4"}),iconSide:"left",onClick:a}]]}]})})})},$e=function(e){var t=e.links,n=e.withTopbar,a=void 0!==n&&n,r=Object(i.useState)(!1),c=Object(s.a)(r,2),o=c[0],d=c[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"md:hidden bg-gray-800 dark:bg-gray-900 flex justify-between p-4",children:[Object(I.jsx)(l.a,{to:"/dashboard",children:Object(I.jsx)("img",{src:"data:image/png;base64,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",alt:"ICRA",className:"h-10"})}),Object(I.jsxs)("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white",onClick:function(){return d((function(e){return!e}))},children:[Object(I.jsx)("svg",{className:Object(h.a)("h-6 w-6",{block:!o,hidden:o}),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(I.jsx)("svg",{className:Object(h.a)("h-6 w-6",{block:o,hidden:!o}),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),Object(I.jsx)("div",{className:Object(h.a)("md:hidden bg-gray-800 dark:bg-gray-900 antialiased"),children:Object(I.jsx)(M,{show:o,children:Object(I.jsxs)("div",{className:"px-2 pt-2 pb-3 sm:px-3",children:[t.filter(z).map((function(e,t){return Q(e)?Object(I.jsxs)(l.a,{to:e.to,getProps:function(e){var t=e.isCurrent;return{className:Object(h.a)({"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700":!t,"flex items-center px-3 py-2 rounded-md text-base font-medium text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700":t})}},onClick:function(){return d(!1)},children:[Object(I.jsx)("div",{className:"mr-3",children:e.icon}),e.title]},t):G(e)?Object(I.jsxs)("a",{href:e.url,className:"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",children:[Object(I.jsx)("div",{className:"mr-3",children:e.icon}),e.title]},t):null})),a&&Object(I.jsx)(_e,{intent:"dark"})]})})})]})},et=n(94),tt=n(95),nt=n(100),it=n(98),at=function(e){Object(nt.a)(n,e);var t=Object(it.a)(n);function n(){return Object(et.a)(this,n),t.apply(this,arguments)}return Object(tt.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.props.action()}},{key:"render",value:function(){return null}}]),n}(i.Component),rt=function(e){var t=e.action;return Object(I.jsx)(l.b,{children:function(e){var n=e.location;return Object(I.jsx)(at,{location:n,action:t})}})},ct=[{number:"0.0.0",date:"2021-07-29",new:["Everything is new"],change:[],bug:[]}],st=n(158),lt=n.n(st),ot=function(e){var t=e.children,n=ct.sort((function(e,t){return lt.a.gt(e.number,t.number)?-1:1})),a=Object(i.useRef)(null),r=p.entityTypes.all(),c=Object(i.useMemo)((function(){return[{title:"Home",to:"/home",icon:Object(I.jsx)(K.A,{className:"w-5 h-5"}),exact:!0}].concat(Object(v.a)(r.filter((function(e){return e.mainNav})).map((function(e){return{title:e.plural||e.name,to:"/".concat(e.key),icon:Object(I.jsx)(K.x,{className:"w-5 h-5"}),exact:!0}}))),[{title:"Settings",to:"/settings",icon:Object(I.jsx)(K.l,{className:"w-5 h-5"}),exact:!1}])}),[r]);return Object(I.jsxs)("div",{className:"h-screen flex flex-col md:flex-row md:overflow-hidden bg-gray-200 dark:bg-gray-800",children:[Object(I.jsx)($e,{links:c}),Object(I.jsx)(Ke,{name:"main",intent:"primary",links:c,className:"hidden md:flex",header:function(e){return Object(I.jsx)("div",{className:Object(h.a)("flex items-center",e?"justify-center":"pl-5"),children:Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup","/dashboard"),children:Object(I.jsx)("img",{src:e?O:g,alt:"ICRA",className:Object(h.a)("my-5 h-12",e?"ml-2":"")})})})},footer:function(e){return Object(I.jsxs)("div",{className:Object(h.a)("flex justify-between items-center",e?"flex-col space-y-2":"p-4"),children:[Object(I.jsx)("div",{className:Object(h.a)("text-gray-400 text-sm font-medium cursor-default",e?"text-center":""),children:e?"v".concat(n[0].number):"Version: ".concat(n[0].number)}),"livetest"===de?Object(I.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-red-300 bg-red-400 dark:bg-red-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"LiveTest"}):"demo"===de?Object(I.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Demo"}):"staging"===de?Object(I.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Staging"}):"dev"===de?Object(I.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-indigo-300 bg-indigo-400 dark:bg-indigo-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Dev"}):null]})}}),Object(I.jsx)("div",{className:"flex flex-col flex-1 md:w-0 md:overflow-hidden",children:Object(I.jsxs)("main",{className:"flex-1 relative z-0 md:overflow-y-auto focus:outline-none",ref:a,children:[Object(I.jsx)("div",{className:"max-w-7xl mx-auto",children:Object(I.jsx)("div",{className:"border-b border-gray-300 dark:border-gray-700",children:Object(I.jsx)(_e,{})})}),Object(I.jsx)(i.Suspense,{fallback:Object(I.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(I.jsx)(qe,{})}),children:Object(I.jsx)("div",{className:"relative z-10",children:t})})]})}),Object(I.jsx)(rt,{action:function(){var e;(null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.scrollTo)&&a.current.scrollTo(0,0)}})]})},dt=function(e){var t=e.children,n=Object(i.useRef)(null),a=p.entityTypes.all(),r=Object(i.useMemo)((function(){return[{title:"Home",to:"/home",icon:Object(I.jsx)(K.A,{className:"w-5 h-5"}),exact:!0}].concat(Object(v.a)(a.filter((function(e){return e.mainNav})).map((function(e){return{title:e.plural||e.name,to:"/".concat(e.key),icon:Object(I.jsx)(K.x,{className:"w-5 h-5"}),exact:!0}}))),[{title:"Settings",to:"/settings",icon:Object(I.jsx)(K.l,{className:"w-5 h-5"}),exact:!1}])}),[a]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"min-h-screen bg-gray-200 dark:bg-gray-800",children:[Object(I.jsx)($e,{links:r.filter(z),withTopbar:!0}),Object(I.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 hidden md:block",children:Object(I.jsx)("nav",{className:"bg-gray-800 dark:bg-gray-900",children:Object(I.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:Object(I.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-0",children:[Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsx)("div",{className:"flex-shrink-0",children:Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup","/dashboard"),children:Object(I.jsx)("img",{src:g,alt:"ICRA",className:"h-10"})})}),Object(I.jsx)("div",{className:"hidden md:block",children:Object(I.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:r.filter(z).map((function(e,t){return Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(e.to),className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:e.title},t)}))})})]}),Object(I.jsx)("div",{className:"hidden md:block",children:Object(I.jsx)(_e,{intent:"dark"})})]})})})}),Object(I.jsx)("main",{ref:n,className:"relative z-0",children:Object(I.jsx)(i.Suspense,{fallback:Object(I.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(I.jsx)(qe,{})}),children:Object(I.jsx)("div",{className:"relative z-20",children:t})})})]}),Object(I.jsx)(rt,{action:function(){var e;window.scrollTo(0,0),null===n||void 0===n||null===(e=n.current)||void 0===e||e.scrollTo(0,0)}})]})},ut=function(e){var t=e.className,n=e.children;return Object(I.jsx)("div",{className:Object(h.a)("bg-white dark:bg-gray-700 shadow rounded-none sm:rounded-md",t),children:n})},bt=function(e){var t=e.className,n=e.children;return Object(I.jsx)("div",{className:Object(h.a)("px-4 py-5 sm:p-6",t),children:n})},jt=function(e){var t=e.className,n=e.children;return Object(I.jsx)("div",{className:Object(h.a)("bg-gray-50 dark:bg-gray-750 sm:rounded-b-md px-4 py-4 sm:px-6",t),children:n})},mt=function(e){var t=e.className,n=e.header,i=e.footer,a=e.children;return Object(I.jsxs)(ut,{className:Object(h.a)(t),children:[n,a&&Object(I.jsx)(bt,{children:a}),i&&Object(I.jsx)(jt,{children:i})]})},xt=function(e){var t=e.className;return Object(I.jsx)("div",{className:Object(h.a)("px-4 py-2 text-sm opacity-0 leading-5 pointer-events-none",t),children:"\xa0"})},ft=function(e){var t=e.title,n=void 0===t?"":t,a=e.pageTitle,r=e.actions,c=void 0===r?[]:r,s=e.infoList,l=e.className;return Object(i.useEffect)((function(){var e=a||n;document.title="".concat(e," - ").concat(p.siteSettings.get("title"))}),[n,a]),Object(I.jsx)("div",{className:Object(h.a)(l),children:Object(I.jsx)("div",{className:"pt-3 lg:pt-6 antialiased",children:Object(I.jsx)("div",{className:"max-w-7xl mx-auto px-4 mb-8 sm:px-6 lg:px-8",children:Object(I.jsxs)("div",{className:"md:flex md:items-start md:justify-between flex-wrap",children:[Object(I.jsxs)("div",{className:"mr-4 my-3 flex-1 mb-6 md:mb-0",children:[Object(I.jsx)("h2",{className:"flex items-center text-2xl leading-8 font-bold text-gray-900 dark:text-white sm:text-3xl sm:leading-9 whitespace-nowrap",children:n}),s&&Object(I.jsx)("div",{className:"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap",children:s.filter(z).map((function(e,t){return Object(I.jsxs)("div",{className:"mt-2 flex items-center text-sm leading-5 text-gray-600 dark:text-gray-300 sm:mr-6",children:[e.icon&&Object(I.jsx)("div",{className:"flex-shrink-0 mr-1.5 text-gray-500 dark:text-gray-200",children:e.icon}),e.title]},t)}))})]}),c.filter(z).length>0?Object(I.jsx)("div",{className:"my-3 flex",children:Object(I.jsx)(Ce,{actions:c})}):Object(I.jsx)("div",{className:"my-3 hidden md:block",children:Object(I.jsx)(xt,{})})]})})})})},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pe(e,[{pattern:/^max-w-\dxl$/,defaultValue:"max-w-7xl"}])},pt=function(e){var t=e.className,n=e.children;return Object(I.jsx)("div",{className:yt(Object(h.a)("w-full mx-auto pb-8 sm:px-6 lg:px-8",t)),children:n})},vt=function(){var e,t;y(),f(),p.siteSettings.set("title","NZDRC2"),p.siteSettings.set("layout","sidebar");var n={id:Object(d.a)(),key:"user",name:"User",plural:"Users",mainNav:!0},i={id:Object(d.a)(),key:"case",name:"Case",plural:"Cases",mainNav:!0},a={id:Object(d.a)(),key:"event",name:"Event",plural:"Events",mainNav:!1};p.entityTypes.save(n),p.entityTypes.save(i),p.entityTypes.save(a),[{id:Object(d.a)(),entityTypeId:i.id,key:"case-number",name:"Case Number",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:i.id,key:"type",name:"Type",type:"option",options:["Review","Mediation","Hybrid"],defaultValue:"Review"},{id:Object(d.a)(),entityTypeId:i.id,key:"claim-number",name:"Claim Number",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:i.id,key:"complexity",name:"Complexity",type:"option",options:["Standard","Complex"]},{id:Object(d.a)(),entityTypeId:i.id,key:"closed-date",name:"Closed Date",type:"date",options:[]},{id:Object(d.a)(),entityTypeId:i.id,key:"status",name:"Status",type:"option",options:["Pending","Open","Closed"]}].forEach(p.entityFields.save),[{id:Object(d.a)(),entityTypeId:a.id,key:"start-date",name:"Start Date",type:"date",options:[]},{id:Object(d.a)(),entityTypeId:a.id,key:"end-date",name:"End Date",type:"date",options:[]},{id:Object(d.a)(),entityTypeId:a.id,key:"type",name:"Type",type:"option",options:["Review","Mediation","CMC"],defaultValue:"CMC"},{id:Object(d.a)(),entityTypeId:a.id,key:"decision-date",name:"Decision Date",type:"date",options:[]},{id:Object(d.a)(),entityTypeId:a.id,key:"postponed",name:"Postponed",type:"boolean",options:[]}].forEach(p.entityFields.save),[{id:Object(d.a)(),entityTypeId:n.id,key:"first-name",name:"First Name",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:n.id,key:"last-name",name:"Last Name",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:n.id,key:"email",name:"Email",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:n.id,key:"phone",name:"Phone",type:"string",options:[]},{id:Object(d.a)(),entityTypeId:n.id,key:"active",name:"Active",type:"boolean",options:[],defaultValue:"true"}].forEach(p.entityFields.save),[{id:Object(d.a)(),entityTypeId:i.id,key:"close-case",name:"Close Case",changes:[]}].forEach(p.entityActions.save);[].forEach(p.entityActions.save),p.entityConnections.save({id:Object(d.a)(),key:"events",name:"Events",entityTypeId:i.id,relationId:a.id,type:"one-to-many"}),p.entityConnections.save({id:Object(d.a)(),key:"attendees",name:"Attendees",entityTypeId:a.id,relationId:n.id,type:"one-to-many"}),p.entityConnections.save({id:Object(d.a)(),key:"applicant",name:"Applicant",entityTypeId:n.id,relationId:i.id,type:"one-to-many"}),p.notifications.save({id:Object(d.a)(),name:"Event Reminder 2 days",focus:a.id,enabled:!0,triggerType:"date",triggerRepeat:2,triggerEvery:"",triggerYearIn:"",triggerMonthOn:"",triggerWeekOn:"",triggerDayAt:"",triggerAction:"",obeyTriggerTiming:!0,triggerTimingType:"before",triggerTiming:"day",triggerDate:(null===(e=p.entityFields.find((function(e){return e.entityTypeId===a.id&&"start-date"===e.key})))||void 0===e?void 0:e.id)||"",ruleGroups:[{rules:[{entity:a.id,field:(null===(t=p.entityFields.find((function(e){return e.entityTypeId===a.id&&"postponed"===e.key})))||void 0===t?void 0:t.id)||"",operator:"false",value:""}]}],subject:"Upcoming Conference",content:"<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>"}),p.templates.save({id:Object(d.a)(),name:"Event Reminder 2 days",content:"<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>"});var r=p.roles.save({id:Object(d.a)(),name:"Administrator"}),c=p.roles.save({id:Object(d.a)(),name:"Case Manager"}),s=p.roles.save({id:Object(d.a)(),name:"Reviewer"}),l=p.roles.save({id:Object(d.a)(),name:"Applicant"});[r,c,s].forEach((function(e){p.entityTypes.all().forEach((function(t){p.entityTypePermissions.save({id:Object(d.a)(),entityTypeId:t.id,roleId:e.id,view:!0,modify:!0,remove:!0}),p.entityFields.all((function(e){return e.entityTypeId===t.id})).forEach((function(t){p.entityFieldPermissions.save({id:Object(d.a)(),entityFieldId:t.id,roleId:e.id,view:!0,modify:!0})})),p.entityActions.all((function(e){return e.entityTypeId===t.id})).forEach((function(t){p.entityActionPermissions.save({id:Object(d.a)(),entityActionId:t.id,roleId:e.id,perform:!0})})),p.entityConnections.all((function(e){return e.entityTypeId===t.id})).forEach((function(t){p.entityConnectionPermissions.save({id:Object(d.a)(),entityConnectionId:t.id,roleId:e.id,view:!0,modify:!0,remove:!0})}))}))})),p.entityTypes.all().forEach((function(e){p.entityTypePermissions.save({id:Object(d.a)(),entityTypeId:e.id,roleId:l.id,view:!0,modify:!1,remove:!1}),p.entityFields.all((function(t){return t.entityTypeId===e.id})).forEach((function(e){p.entityFieldPermissions.save({id:Object(d.a)(),entityFieldId:e.id,roleId:l.id,view:!0,modify:!1})})),p.entityActions.all((function(t){return t.entityTypeId===e.id})).forEach((function(e){p.entityActionPermissions.save({id:Object(d.a)(),entityActionId:e.id,roleId:l.id,perform:!1})})),p.entityConnections.all((function(t){return t.entityTypeId===e.id})).forEach((function(e){p.entityConnectionPermissions.save({id:Object(d.a)(),entityConnectionId:e.id,roleId:l.id,view:!0,modify:!1,remove:!1})}))}))};localStorage.getItem("data")||vt();var ht=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Home"}),Object(I.jsx)(pt,{children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsxs)("div",{className:"rounded-md bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25 p-4",children:[Object(I.jsx)("span",{className:"font-medium",children:"Note:"})," Modules haven't been properly figured out yet, so that stuff is only a visual mockup"]}),Object(I.jsxs)("div",{className:"rounded-md bg-primary-400 text-primary-800 dark:bg-primary-500 dark:text-primary-300 bg-opacity-25 dark:bg-opacity-25 p-4 space-y-3",children:[Object(I.jsx)("p",{children:"Feel free to play around with the forms, create stuff, edit stuff, delete stuff. You can come back to this page to reset the data."}),Object(I.jsx)("p",{children:"Any changes you make are contained within your browser, so nothing is real."})]}),Object(I.jsx)(Ce,{actions:[{title:"Clear Database",onClick:function(){return y()}},{title:"Reset Database",onClick:function(){return vt()}}]})]})})})]})},gt=n.p+"static/media/undraw_not_found_60pq.faf05e44.svg",Ot=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Not Found"}),Object(I.jsx)(pt,{children:Object(I.jsx)("div",{className:"p-4",children:Object(I.jsx)("img",{src:gt,alt:"not found",width:"500",className:"mx-auto"})})})]})},Nt=function(e){if(e){var t=p.entityFields.find(e.entityFieldId);switch(null===t||void 0===t?void 0:t.type){case"string":case"option":return e.stringValue;case"date":return e.dateValue?Object(se.a)(e.dateValue,"dd/MM/yyyy"):void 0;case"number":return e.numberValue;case"boolean":return e.booleanValue?Object(I.jsx)(K.i,{className:"w-4 h-4"}):Object(I.jsx)(K.B,{className:"w-4 h-4"})}}},kt=function(e,t){return e.created&&t.created?new Date(t.created).valueOf()-new Date(e.created).valueOf():0},wt=function(e){var t=e.entityTypeId,n=p.entityTypes.find(t),a=p.entityFields.all((function(e){return e.entityTypeId===t})),r=Object(i.useState)(a),c=Object(s.a)(r,2),o=c[0],d=c[1],u={cols:a.filter((function(e){return o.includes(e)})).map((function(e,t){return{title:e.name,value:function(n){var i=Nt(function(e,t){return p.entityValues.all((function(n){return n.entityId===e.id&&n.entityFieldId===(null===t||void 0===t?void 0:t.id)})).sort(kt)[0]}(n,e));return 0===t?Object(I.jsx)(l.a,{to:n.id,className:"anchor",children:i||"-"}):i||"-"}}})),actions:function(e){return[{icon:Object(I.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit ".concat(null===n||void 0===n?void 0:n.name),icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/".concat(null===n||void 0===n?void 0:n.key,"/").concat(e.id,"/edit")}],[{title:"Delete ".concat(null===n||void 0===n?void 0:n.name),icon:Object(I.jsx)(K.z,{className:"w-5 h-5"}),intent:"danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){p.entities.remove(e.id)}})}}]]}]}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:(null===n||void 0===n?void 0:n.plural)||(null===n||void 0===n?void 0:n.name)||"-",actions:[{title:"Create ".concat(null===n||void 0===n?void 0:n.name),intent:"primary",to:"/".concat(null===n||void 0===n?void 0:n.key,"/create")}]}),Object(I.jsx)(pt,{children:Object(I.jsx)(ut,{className:"overflow-hidden",children:Object(I.jsxs)("div",{className:"relative",children:[Object(I.jsx)("div",{className:"absolute top-0 right-0 h-[42px] flex items-center mr-1",children:Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.b,{className:"w-4 h-4"}),intent:"menu",actions:a.map((function(e){return{title:e.name,icon:o.includes(e)?Object(I.jsx)(K.i,{className:"w-4 h-4"}):Object(I.jsx)("div",{className:"w-4 h-4"}),iconSide:"left",disableDismiss:!0,onClick:function(){return d((function(t){return o.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(v.a)(t),[e])}))}}}))}})}),Object(I.jsx)(Ee,{schema:u,items:p.entities.all((function(e){return e.entityTypeId===(null===n||void 0===n?void 0:n.id)})),className:"-my-px"})]})})})]})},At={1:"",2:"sm:w-1/2",3:"sm:w-1/3"},Ct=function(e){var t=e.items,n=e.columns,i=void 0===n?2:n,a=e.className,r=t.filter(z).filter((function(e){return e.value})).reduce((function(e,t){return e[e.length-1].length<i?(e[e.length-1].push(t),e):[].concat(Object(v.a)(e),[[t]])}),[[]]);return Object(I.jsx)("div",{className:Object(h.a)(a),children:Object(I.jsx)("dl",{className:"flex flex-col space-y-8",children:r.map((function(e,t){return Object(I.jsx)("div",{className:"flex flex-col sm:flex-row sm:space-x-8 space-y-8 sm:space-y-0",children:e.map((function(e,t){return Object(I.jsxs)("div",{className:Object(h.a)("w-full",At[i]),children:[Object(I.jsx)("dt",{className:"text-sm leading-5 text-gray-500 dark:text-gray-300",children:e.title}),Object(I.jsx)("dd",{className:"mt-1 text-sm leading-5 break-all text-gray-900 dark:text-white",children:e.value})]},t)}))},t)}))})})},Tt=function(e){var t=e.entityTypeId,n=(e.id,p.entityTypes.find(t)),i=p.entityFields.all((function(e){return e.entityTypeId===t})),a=i.map((function(e){return p.entityValues.all((function(t){return t.entityFieldId===e.id})).sort(kt)[0]})),r="View ".concat(null===n||void 0===n?void 0:n.name);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:r,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/".concat(null===n||void 0===n?void 0:n.key)}}),Object(I.jsx)("div",{children:r})]})}),Object(I.jsx)(pt,{children:Object(I.jsx)(mt,{children:Object(I.jsx)(Ct,{items:i.map((function(e,t){return{title:e.name,value:Nt(a[t])}}))})})})]})},It=n(13);var St=function(e){var t,n=e.children,i=e.className,a=e.context;return Object(I.jsx)(It.b,{value:a,children:Object(I.jsx)(It.a,{className:i,children:(t=n,"function"===typeof t?n(a):n)})})},Ft=function(e){var t=e.onSubmit,n=Object(N.a)(e,["onSubmit"]),i=function(){var e=Object(C.a)(A.a.mark((function e(n,i){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,i);case 2:i.setSubmitting(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(It.e)(Object(o.a)({onSubmit:i},n))},Dt=function(e){return function(t){return(null===e||void 0===e?void 0:e.required)&&!t?e.required:(null===e||void 0===e?void 0:e.min)&&+t<+e.min.value?e.min.message:(null===e||void 0===e?void 0:e.max)&&+t>+e.max.value?e.max.message:void 0}};function Et(e,t){return e.values[t]}function Pt(e,t){return Object(It.c)(e.values,t)}var Mt=function(e){var t=e.as,n=void 0===t?"input":t,a=e.name,r=e.label,c=e.type,l=void 0===c?"text":c,u=e.className,b=e.autoFocus,j=void 0!==b&&b,m=e.hideOptional,x=void 0!==m&&m,f=e.validations,y=void 0===f?{}:f,p=e.placeholder,v=e.disabled,g=void 0!==v&&v,O=e.description,k=e.inputProps,w=void 0===k?{}:k,A=null===y||void 0===y?void 0:y.required,C=J(j),T=n,S=Object(It.d)({name:a,type:l,validate:Dt(y)}),F=Object(s.a)(S,3),D=F[0].value,E=F[1],P=E.error,M=E.touched,V=F[2],z=V.setValue,R=V.setTouched,B=Object(It.f)(),H=Object(i.useState)(Object(d.a)()),L=Object(s.a)(H,1)[0],q=w.className,Q=Object(N.a)(w,["className"]);return Object(I.jsxs)("div",{className:Object(h.a)(u),children:[r&&Object(I.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",onClick:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.focus()},children:[r," ",!A&&!x&&Object(I.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(I.jsx)("div",{className:"text-[0px] leading-none select-none",children:L}),Object(I.jsx)("div",{className:Object(h.a)("relative rounded-md",r&&"mt-1"),children:Object(I.jsx)(T,Object(o.a)({ref:C,type:l,value:D,onChange:function(e){return z(e.target.value)},onBlur:function(){R(!0)},placeholder:p,disabled:g||B.isSubmitting,className:Object(h.a)("form-input block w-full sm:text-sm sm:leading-5",q,P&&M&&"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500")},"input"===T?Q:{}))}),O&&Object(I.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:O}),P&&M&&Object(I.jsx)("p",{className:"mt-2 text-sm text-red-600",children:P})]})},Vt=n(165),zt=function(e){var t=e.name,n=e.label,a=e.options,r=e.clearable,c=e.disabled,l=void 0!==c&&c,u=e.description,b=e.placeholder,j=e.validations,m=void 0===j?{}:j,x=e.hideOptional,f=void 0!==x&&x,y=e.className,p=e.autoFocus,v=e.onChange,g=null===m||void 0===m?void 0:m.required,O=Object(It.d)({name:t,validate:Dt(m)}),k=Object(s.a)(O,3),w=k[0],A=w.value,C=w.onBlur,T=k[1],S=T.error,F=T.touched,D=k[2],E=D.setValue,P=D.setTouched,M=Object(It.f)(),V=Object(i.useState)(Object(d.a)()),z=Object(s.a)(V,1)[0];return Object(I.jsxs)("div",{className:Object(h.a)(y),children:[Object(I.jsxs)("label",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200",children:[n&&Object(I.jsxs)(I.Fragment,{children:[n," ",!g&&!f&&Object(I.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(I.jsx)("div",{className:"text-[0px] leading-none select-none",children:z}),Object(I.jsx)(Vt.a,{options:a,value:a.find((function(e){var t,n;return e.value===A||null!==A&&e.value===+A||void 0!==(null===(t=e.value)||void 0===t?void 0:t.id)&&(null===(n=e.value)||void 0===n?void 0:n.id)===(null===A||void 0===A?void 0:A.id)}))||null,onChange:function(e){P(!0),E(e?e.value:null),v&&v(e?e.value:null)},onBlur:function(e){P(!0),C(e)},inputProps:{autoComplete:"none",autoCorrect:"off",spellCheck:"off"},className:Object(h.a)("react-select-container font-normal",n&&"mt-1",S&&F&&"react-select-container-error"),classNamePrefix:"react-select",placeholder:b,isClearable:r,isDisabled:l||M.isSubmitting,autoFocus:p,menuPlacement:"auto",components:{ClearIndicator:function(e){var t=e.hasValue,n=e.innerProps,i=n.ref,a=Object(N.a)(n,["ref"]);return t?Object(I.jsx)("span",Object(o.a)(Object(o.a)({ref:i},a),{},{children:Object(I.jsx)(K.B,{className:"mr-8 w-5 h-5 cursor-pointer text-gray-400 hover:text-red-500"})})):null},DropdownIndicator:function(e){e.innerProps.ref;return null}}})]}),u&&!S&&!F&&Object(I.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:u}),S&&F&&Object(I.jsx)("p",{className:"mt-2 text-sm text-red-600",children:S})]})},Rt=n(333),Bt=n(334),Ht=n(335),Lt=n(336),qt=n(337),Qt=n(162),Gt=n(163),Wt=n(338),Xt=n(342),Yt=n(339),Ut=n(340),Kt=n(161),Jt=n.n(Kt),Zt=["Mo","Tu","We","Th","Fr","Sa","Su"],_t=function(e){return e&&e instanceof Date&&Me(e)},$t=function(e){var t=e.name,n=e.label,a=e.description,r=e.placeholder,c=void 0===r?"DD/MM/YYYY":r,l=e.hideOptional,o=e.validations,d=void 0===o?{}:o,u=e.placement,b=void 0===u?"bottom-end":u,j=e.offset,m=void 0===j?10:j,x=e.disabled,f=e.minDate,y=e.maxDate,p=e.inputDisabled,v=e.disableHolidays,g=void 0!==v&&v,O=e.autoFocus,N=void 0!==O&&O,k=e.className,w=e.inputClassName,A=null===d||void 0===d?void 0:d.required,C=Object(It.d)({name:t,validate:Dt(d)}),T=Object(s.a)(C,3),S=T[0],F=S.value,D=S.onBlur,E=T[1],P=E.error,M=E.touched,V=T[2],z=V.setValue,R=V.setTouched,B=Object(It.f)(),H=Object(i.useState)(_t(F)?Object(se.a)(F,"dd/MM/yyyy"):""),L=Object(s.a)(H,2),q=L[0],Q=L[1],G=Object(i.useState)(Object(Rt.a)(_t(F)?F:new Date)),W=Object(s.a)(G,2),X=W[0],Y=W[1],U=Object(i.useState)(),Z=Object(s.a)(U,2),_=Z[0],$=Z[1];Object(i.useEffect)((function(){if(_!==F)if(F){var e=Ve(F);Q(_t(e)?Object(se.a)(e,"dd/MM/yyyy"):""),$(F)}else Q(""),Y(new Date)}),[_,F]);var ee=ve({onOpen:function(){try{if(F){var e=Ve(F);Q(Object(se.a)(e,"dd/MM/yyyy")),Y(e)}}catch(P){console.log("error",P),Q(""),Y(new Date)}}}),te=ee.open,ne=ee.setOpen,ie=ee.ignoreClass,ae=ee.ref,re=fe({placement:b,strategy:"fixed",modifiers:[{name:"offset",options:{offset:m instanceof Array?m:[0,m]}}]}),ce=Object(s.a)(re,2),oe=ce[0],de=ce[1],ue=new Array(Object(Bt.a)(Object(Rt.a)(X))-1).fill(null).map((function(e,t){return Object(Ht.a)(Object(Lt.a)(Object(qt.a)(X,1)),t)})).reverse(),be=new Array(7-Object(Bt.a)(Object(Lt.a)(X))).fill(null).map((function(e,t){return Object(Qt.a)(Object(Rt.a)(Object(Gt.a)(X,1)),t)})),je=new Array(Object(Wt.a)(X)).fill(null).map((function(e,t){return Object(Qt.a)(Object(Rt.a)(X),t)})),me=J(N);return Object(I.jsxs)("div",{className:Object(h.a)(k),ref:ae,children:[Object(I.jsxs)("label",{children:[n&&Object(I.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200",children:[n," ",!A&&!l&&Object(I.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(I.jsxs)("div",{className:Object(h.a)("relative rounded-md",n&&"mt-1"),children:[Object(I.jsx)("input",{type:"text",value:q,onChange:function(e){return Q(e.target.value)},placeholder:c,disabled:B.isSubmitting||x,ref:Jt()(oe,me),onClick:function(){return ne(!0)},onKeyDown:function(e){p?e.preventDefault():ne(!1)},onBlur:function(e){if(q){var t=Object(Xt.a)(q,"dd/MM/yyyy",new Date);Me(t)?(z(t),R(!0)):Q(_t(F)?Object(se.a)(F,"dd/MM/yyyy"):"")}else z(null),R(!0);D(e)},className:Object(h.a)("form-input block w-full sm:text-sm sm:leading-5",P&&M&&"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500",w,ie)}),Object(I.jsx)("div",{className:Object(h.a)(!te&&"hidden","z-10"),ref:de,children:Object(I.jsxs)("div",{className:"mt rounded-md shadow-lg bg-white dark:bg-gray-700 w-80 overflow-hidden",children:[Object(I.jsxs)("div",{className:"flex items-center dark:bg-gray-750 p-4 border-b border-gray-100 dark:border-gray-600",children:[Object(I.jsx)("button",{type:"button",onClick:function(){return Y((function(e){return Object(qt.a)(e,1)}))},className:"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md",children:Object(I.jsx)(K.c,{className:"w-4 h-4"})}),Object(I.jsx)("div",{className:"flex-1 flex items-center justify-center text-sm font-medium",children:Object(se.a)(X,"MMMM yyyy")}),Object(I.jsx)("button",{type:"button",onClick:function(){return Y((function(e){return Object(Gt.a)(e,1)}))},className:"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md",children:Object(I.jsx)(K.d,{className:"w-4 h-4"})})]}),Object(I.jsxs)("div",{className:"p-4 grid grid-cols-7",children:[Zt.map((function(e,t){return Object(I.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded m-1 cursor-default text-sm text-gray-400",children:e},t)})),ue.map((function(e,t){return Object(I.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium",children:Object(se.a)(e,"d")},t)})),je.map((function(e,t){return Object(I.jsx)("button",{type:"button",className:Object(h.a)("col-span-1 w-7 h-7 flex items-center justify-center rounded m-2 cursor-pointer disabled:pointer-events-none text-sm font-medium hover:bg-indigo-100 dark:hover:bg-gray-800 disabled:opacity-50",Object(le.a)(new Date,e)&&"text-indigo-400 ring-2 ring-indigo-300",F&&Object(le.a)(Ve(F),e)&&"bg-indigo-600 text-white"),onClick:function(){return function(e){z(e),R(!0),ne(!1),Q(Object(se.a)(e,"dd/MM/yyyy"))}(e)},disabled:f&&Object(Yt.a)(e,f)||y&&Object(Ut.a)(e,y)||g&&!!ze(e),title:ze(e),children:Object(se.a)(e,"d")},t)})),be.map((function(e,t){return Object(I.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium",children:Object(se.a)(e,"d")},t)}))]})]})})]})]}),a&&!P&&!M&&Object(I.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:a}),P&&M&&Object(I.jsx)("p",{className:"mt-2 text-sm text-red-600",children:P})]})},en=function(e){var t,n=e.checked,i=e.color;return Object(I.jsx)("span",{role:"checkbox",tabIndex:0,"aria-checked":"false",className:Object(h.a)("relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline",(t={},Object(k.a)(t,i,n),Object(k.a)(t,"bg-gray-200 dark:bg-gray-800",!n),t)),children:Object(I.jsx)("span",{"aria-hidden":"true",className:Object(h.a)("translate-x-0 inline-block h-5 w-5 rounded-full shadow transform transition ease-in-out duration-200",{"translate-x-5 bg-white dark:bg-white":n,"translate-x-0 bg-white dark:bg-gray-400":!n})})})},tn=function(e){var t=e.name,n=e.label,i=e.disabled,a=e.color,r=void 0===a?"bg-primary-500 dark:bg-primary-500":a,c=e.className,l=e.autoFocus,d=Object(It.d)({name:t,type:"checkbox"}),u=Object(s.a)(d,1)[0],b=u.value,j=Object(It.f)();return Object(I.jsx)("div",{className:Object(h.a)(c),children:Object(I.jsxs)("label",{className:"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer",children:[Object(I.jsx)(en,{checked:b,color:r}),n&&Object(I.jsx)("span",{className:"ml-3",children:n}),Object(I.jsx)("input",Object(o.a)(Object(o.a)({},u),{},{type:"checkbox",disabled:i||j.isSubmitting,className:"hidden",autoFocus:l}))]})})},nn=function(e){var t=e.entityTypeId,n=e.mode,a=e.id,r=p.entityTypes.find(t),c=p.entityFields.all((function(e){return e.entityTypeId===t})),d=Object(i.useState)({fields:c.reduce((function(e,t){var n=p.entityValues.all((function(e){return e.entityFieldId===t.id&&e.entityId===a})).sort(kt)[0];return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},t.key,{id:(null===n||void 0===n?void 0:n.id)||void 0,stringValue:(null===n||void 0===n?void 0:n.stringValue)||"",dateValue:(null===n||void 0===n?void 0:n.dateValue)||"",booleanValue:(null===n||void 0===n?void 0:n.booleanValue)||!1,numberValue:(null===n||void 0===n?void 0:n.numberValue)||""}))}),{})}),u=Object(s.a)(d,1)[0],b=Ft({initialValues:u,onSubmit:function(e){if(t){var n=p.entities.save(Object(o.a)({entityTypeId:t},a?{id:a}:{}));Object.entries(e.fields).forEach((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1],r=p.entityFields.find((function(e){return e.key===i}));if(r){var c=!1;switch(r.type){case"string":case"option":u.fields[r.key].stringValue!==a.stringValue&&(c=!0);break;case"number":u.fields[r.key].numberValue!==a.numberValue&&(c=!0);break;case"boolean":u.fields[r.key].booleanValue!==a.booleanValue&&(c=!0);break;case"date":u.fields[r.key].dateValue!==a.dateValue&&(c=!0)}!c&&a.id||p.entityValues.save(Object(o.a)(Object(o.a)({},a),{},{id:void 0,entityId:n.id,entityFieldId:null===r||void 0===r?void 0:r.id}))}})),Object(l.e)("".concat("/nzdrc-mockup","/").concat(null===r||void 0===r?void 0:r.key))}}}),j="create"===n?"Create ".concat(null===r||void 0===r?void 0:r.plural):"Edit ".concat(null===r||void 0===r?void 0:r.plural);return Object(I.jsxs)(St,{context:b,children:[Object(I.jsx)(ft,{pageTitle:j,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/".concat(null===r||void 0===r?void 0:r.key)}}),Object(I.jsx)("div",{children:j})]})}),Object(I.jsx)(pt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(mt,{children:Object(I.jsx)(U,{children:c.map((function(e){return"string"===e.type?Object(I.jsx)(Mt,{name:"fields.".concat(e.key,".stringValue"),label:e.name},e.key):"number"===e.type?Object(I.jsx)(Mt,{name:"fields.".concat(e.key,".numberValue"),label:e.name,type:"number"},e.key):"date"===e.type?Object(I.jsx)($t,{name:"fields.".concat(e.key,".dateValue"),label:e.name},e.key):"boolean"===e.type?Object(I.jsx)(tn,{name:"fields.".concat(e.key,".booleanValue"),label:e.name},e.key):"option"===e.type?Object(I.jsx)(zt,{name:"fields.".concat(e.key,".stringValue"),label:e.name,options:e.options.map((function(e){return{label:e,value:e}}))},e.key):null}))})}),Object(I.jsx)("div",{className:"flex items-center justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit",disabled:b.isSubmitting}]})})]})})]})},an=[{title:"Entity Types",to:"/settings/entity-types",icon:Object(I.jsx)(K.m,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Roles",to:"/settings/roles",icon:Object(I.jsx)(K.a,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Templates",to:"/settings/templates",icon:Object(I.jsx)(K.o,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Notifications",to:"/settings/notifications",icon:Object(I.jsx)(K.t,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Modules",to:"/settings/modules",icon:Object(I.jsx)(K.w,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Site Settings",to:"/settings/site-settings",icon:Object(I.jsx)(K.l,{className:"w-5 h-5"}),show:function(){return!0},exact:!0}],rn=function(e){var t=e.children;return"/settings"===Object(l.f)().pathname?(Object(l.e)(an[0].to),null):Object(I.jsx)(I.Fragment,{children:t})},cn={primary:{wrapper:"bg-gray-800 dark:bg-gray-900 antialiased",link:{active:"text-white bg-gray-700 dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800",inactive:"text-gray-200 hover:text-white hover:bg-gray-900 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800"},toggle:"text-gray-400 hover:text-gray-300 hover:bg-gray-700"},secondary:{wrapper:"bg-white dark:bg-gray-700 antialiased shadow",link:{active:"text-primary-900 dark:text-gray-100 bg-primary-100 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800",inactive:"text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-600 hover:bg-primary-50 focus:text-gray-900 focus:bg-gray-100 dark:focus:bg-gray-800 dark:focus:text-gray-200"},toggle:"text-gray-400 hover:text-gray-500 hover:bg-gray-100"},white:{wrapper:"bg-white antialiased shadow",link:{active:"text-gray-900 bg-gray-50 focus:bg-gray-200",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"},toggle:"text-gray-400 hover:text-gray-500 hover:bg-gray-100"}},sn=function(e){var t=e.link,n=e.intent,i=e.min,a=void 0!==i&&i;return Object(I.jsx)("div",{children:t&&Object(I.jsx)(Ge,{message:t.tooltip||t.title,enabled:a,intent:"dark",children:Object(I.jsxs)(on,{route:t,intent:n,children:[Object(I.jsx)("div",{className:"opacity-75 pointer-events-none mr-3",children:t.icon}),Object(I.jsx)("div",{className:Object(h.a)(a&&"lg:hidden"),children:t.title})]})})})},ln=function(e,t){return function(n){var i=n.isCurrent,a=n.isPartiallyCurrent;return(e.exact?i:a)?{className:Object(h.a)("group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",cn[t].link.active)}:{className:Object(h.a)("group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",cn[t].link.inactive)}}},on=function(e){var t=e.route,n=e.intent,i=e.children;return G(t)?Object(I.jsxs)("a",{href:t.url,className:Object(h.a)("group flex items-center justify-center p-2 text-sm leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",cn[n].link.inactive,"justify-center"),target:"_blank",rel:"noopener noreferrer",children:[Object(I.jsx)("div",{className:"flex items-center justify-center",children:i}),Object(I.jsx)("div",{className:"flex-1 flex justify-end",children:Object(I.jsx)(K.r,{className:"opacity-25 w-4 h-4"})})]}):Q(t)?Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(t.to),getProps:ln(t,n),children:i}):null},dn=function(e){var t=e.links,n=e.intent,i=void 0===n?"secondary":n,a=e.min,r=void 0!==a&&a,c=e.className,s=void 0===c?null:c;return Object(I.jsx)("nav",{className:Object(h.a)("space-y-1",s),children:t.filter(z).map((function(e,t){return Object(I.jsx)(sn,{link:e,intent:i,min:r},t)}))})},un=function(e){var t=e.links,n=e.className,i=e.children,a=Qe("case-min",!1),r=Object(s.a)(a,2),c=r[0],l=r[1];return Object(I.jsx)(pt,{className:n,children:Object(I.jsx)(ut,{className:"relative",children:Object(I.jsx)("div",{className:"max-w-full",children:Object(I.jsxs)("div",{className:Object(h.a)("grid grid-cols-1 max-w-full",c?"md:grid-cols-[62px,minmax(0,1fr)]":"md:grid-cols-[20rem,minmax(0,1fr)]"),children:[Object(I.jsx)("div",{className:"p-3",children:Object(I.jsx)(dn,{links:t,min:c})}),Object(I.jsxs)("div",{className:"relative mt-6 lg:mt-0 border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-gray-600",children:[Object(I.jsx)("div",{className:"absolute top-0 left-0 h-full group z-10",children:Object(I.jsx)("div",{className:Object(h.a)("w-1 -ml-0.5 h-full bg-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-100 ease-linear",c?"cursor-right":"cursor-left"),onClick:function(){return l(!c)}})}),Object(I.jsx)("div",{children:i})]})]})})})})},bn={sm:"px-2 py-0.5 -my-0.5 text-xs leading-5",md:"px-2.5 py-0.5 -my-0.5 text-sm leading-6"},jn={gray:"bg-gray-400 text-gray-800 dark:bg-gray-500 dark:text-gray-300 bg-opacity-25 dark:bg-opacity-25",red:"bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25",orange:"bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25",yellow:"bg-yellow-400 text-yellow-800 dark:bg-yellow-500 dark:text-yellow-300 bg-opacity-25 dark:bg-opacity-25",green:"bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25",teal:"bg-teal-400 text-teal-800 dark:bg-teal-500 dark:text-teal-300 bg-opacity-25 dark:bg-opacity-25",blue:"bg-blue-400 text-blue-800 dark:bg-blue-500 dark:text-blue-300 bg-opacity-25 dark:bg-opacity-25",indigo:"bg-indigo-400 text-indigo-800 dark:bg-indigo-500 dark:text-indigo-300 bg-opacity-25 dark:bg-opacity-25",purple:"bg-purple-400 text-purple-800 dark:bg-purple-500 dark:text-purple-300 bg-opacity-25 dark:bg-opacity-25",pink:"bg-pink-400 text-pink-800 dark:bg-pink-500 dark:text-pink-300 bg-opacity-25 dark:bg-opacity-25"},mn=function(e){var t=e.color,n=e.size,i=void 0===n?"md":n,a=e.icon,r=e.className,c=e.children;return Object(I.jsxs)("span",{className:Object(h.a)("inline-flex items-center font-medium",jn[t],bn[i],"rounded",r),children:[void 0!==a?a:Object(I.jsx)("svg",{className:"mr-2 h-2 w-2",fill:"currentColor",viewBox:"0 0 8 8",children:Object(I.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),c]})},xn=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.className;return Object(I.jsxs)("div",{className:Object(h.a)("flex justify-between items-center flex-wrap sm:flex-nowrap",a),children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{className:"text-lg leading-5 font-medium text-gray-900 dark:text-white",children:t}),n&&Object(I.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300",children:n})]}),Object(I.jsx)("div",{className:"flex-shrink-0",children:i&&i.filter(z).length>0?Object(I.jsx)(Ce,{actions:i}):Object(I.jsx)(xt,{})})]})},fn=function(){var e={cols:[{title:"Name",value:function(e){return e.name}},{title:"Enabled",value:function(e){return Object(I.jsx)(mn,{color:e.enabled?"green":"red",icon:e.enabled?Object(I.jsx)(K.i,{className:"w-5 h-5"}):Object(I.jsx)(K.B,{className:"w-5 h-5"})})},width:"minmax(auto, max-content)"}],actions:function(e){return[{icon:Object(I.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/notifications/".concat(e.id,"/edit")},{title:"Test",icon:Object(I.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0}],[{title:"Delete",intent:"danger",icon:Object(I.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){p.notifications.remove(e.id)}})}}]]}]}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Notifications",actions:[{title:"Create Notification",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/notifications/create"}]})}),Object(I.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(I.jsx)(Ee,{schema:e,items:p.notifications.all(),className:"-mb-px"})})]})})]})},yn=function(e){var t=e.children,n=e.isOptional,i=e.onClick;return Object(I.jsx)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",onClick:i,children:t&&Object(I.jsxs)(I.Fragment,{children:[t," ",n&&Object(I.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]})})},pn=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.vertical,r=void 0!==a&&a,c=e.children;return Object(I.jsxs)("div",{className:Object(h.a)(r?"flex flex-col space-y-6":"md:grid md:grid-cols-3 md:gap-6"),children:[Object(I.jsxs)("div",{className:"md:col-span-1",children:[Object(I.jsx)("h3",{className:"-mt-1 text-lg font-medium leading-6 text-gray-900 dark:text-white",children:t}),n&&Object(I.jsx)("div",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300",children:n}),i&&Object(I.jsx)("div",{className:"mt-2",children:Object(I.jsx)(Ce,{actions:i})})]}),Object(I.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:c})]})},vn={dark:{border:"border-b border-gray-600",tab:"",tabInactive:"whitespace-nowrap py-2 border-b border-transparent font-medium text-sm leading-5 text-white hover:text-gray-100 hover:border-gray-500 focus:outline-none focus:text-gray-100 focus:border-gray-300 antialiased",tabActive:"whitespace-nowrap py-2 border-b border-indigo-500 font-medium text-sm leading-5 text-indigo-300 focus:outline-none focus:text-indigo-600 focus:border-indigo-400 antialiased"},light:{border:"border-b border-gray-300 dark:border-gray-600 font-medium text-sm leading-5",tab:"whitespace-nowrap py-4 px-4 border-b -mb-px",tabInactive:"border-transparent text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300",tabActive:"border-indigo-600 text-indigo-600 dark:border-white dark:text-white focus:outline-none focus:text-indigo-800 dark:focus:text-indigo-400 focus:border-indigo-700"},card:{border:"",tab:"whitespace-nowrap px-4 py-3 dark:bg-gray-700 rounded-tl-md rounded-tr-md px-4 mr-2 font-medium text-sm leading-5 shadow",tabInactive:"bg-gray-100 dark:bg-gray-750 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 relative z-10",tabActive:"bg-white text-black dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700 relative z-20"},buttons:{border:"",tab:"whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5",tabInactive:"bg-gray-200 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300",tabActive:"bg-gray-700 text-white dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700"},links:{border:"",tab:"whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5",tabInactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:text-gray-700",tabActive:"text-indigo-600 dark:text-indigo-300 focus:outline-none focus:text-indigo-800"}},hn=function(e){var t=e.items,n=e.theme,i=void 0===n?"dark":n,a=e.activeIndex,r=e.getActiveIndex,c=e.className,s=t.filter(z),o=void 0!==r?r(s):a||0;return Object(I.jsxs)("div",{className:Object(h.a)(c),children:[Object(I.jsx)("div",{className:"sm:hidden",children:Object(I.jsx)("select",{className:"form-input block w-full dark:bg-gray-800 dark:placeholder-gray-400 dark:border-gray-600",value:o,onChange:function(e){var t=+e.target.value,n=s[t];W(n)?Object(l.e)(n.to,{state:n.state,replace:n.replace}):X(n)&&n.onClick(n,t)},children:s.map((function(e,t){return Object(I.jsx)("option",{value:t,children:e.simpleTitle||e.title},t)}))})}),Object(I.jsx)("div",{className:"hidden sm:block py-2",children:Object(I.jsx)("div",{className:vn[i].border,children:Object(I.jsx)("div",{className:"flex items-end overflow-x-auto px-2 -m-2 overflow-y-hidden -mb-2",children:s.map((function(e,t){return W(e)?Object(I.jsx)(l.a,{to:"".concat("/nzdrc-mockup").concat(e.to),state:e.state,replace:e.replace,children:Object(I.jsxs)("div",{className:Object(h.a)("cursor-pointer",vn[i].tab,t===o?vn[i].tabActive:vn[i].tabInactive),children:[e.title,e.errors&&e.errors>0&&Object(I.jsx)(mn,{color:"red",className:"ml-2",children:e.errors})]})},t):X(e)?Object(I.jsxs)("div",{className:Object(h.a)("cursor-pointer",vn[i].tab,(void 0!==e.key?e.key:t)===o?vn[i].tabActive:vn[i].tabInactive),onClick:function(){return e.onClick(e,t)},children:[e.title,e.errors&&e.errors>0&&Object(I.jsx)(mn,{color:"red",className:"ml-2",children:e.errors})]},t):null}))})})})]})},gn=n(125),On=[{label:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(K.n,{className:"w-5 h-5 text-gray-500"}),Object(I.jsx)("div",{children:"Action"})]}),value:"action"},{label:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(K.y,{className:"w-5 h-5 text-gray-500"}),Object(I.jsx)("div",{children:"Repeat"})]}),value:"repeat"},{label:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(K.g,{className:"w-5 h-5 text-gray-500"}),Object(I.jsx)("div",{children:"Date"})]}),value:"date"}],Nn=[{label:"day",value:"day"},{label:"week",value:"week"},{label:"month",value:"month"},{label:"year",value:"year"}],kn=[{label:"monday",value:"monday"},{label:"tuesday",value:"tuesday"},{label:"wednesday",value:"wednesday"},{label:"thursday",value:"thursday"},{label:"friday",value:"friday"},{label:"saturday",value:"saturday"},{label:"sunday",value:"sunday"}],wn=[{label:"january",value:"january"},{label:"february",value:"february"},{label:"march",value:"march"},{label:"april",value:"april"},{label:"may",value:"may"},{label:"june",value:"june"},{label:"july",value:"july"},{label:"august",value:"august"},{label:"september",value:"september"},{label:"october",value:"october"},{label:"november",value:"november"},{label:"december",value:"december"}],An=function(e){return new Array(e).fill(null).map((function(e,t){return{label:Re(t+1),value:t+1}}))},Cn=function(e){return{january:An(31),february:An(28),march:An(31),april:An(30),may:An(31),june:An(30),july:An(31),august:An(31),september:An(30),october:An(31),november:An(30),december:An(31)}[e]},Tn=[{label:"minute",value:"minute"},{label:"hour",value:"hour"},{label:"day",value:"day"},{label:"week",value:"week"},{label:"month",value:"month"},{label:"year",value:"year"}],In=[{label:"before",value:"before"},{label:"after",value:"after"}],Sn=n(43),Fn=n.n(Sn),Dn=function(e,t){var n=t.setFieldValue,a=t.getFieldProps(e),r=t.getFieldMeta(a.name),c=Object(i.useRef)(a.value);Object(i.useEffect)((function(){c.current=a.value}),[a.value]);var s=Object(i.useCallback)((function(e){c.current=Fn()(c.current,{$push:[e]}),n(a.name,c.current)}),[a.name,n]),l=Object(i.useCallback)((function(e,t){var i=c.current[e],r=c.current[t];c.current=Fn()(c.current,{$splice:[[e,1,r],[t,1,i]]}),n(a.name,c.current)}),[a.name,n]),o=Object(i.useCallback)((function(e,t){var i=c.current[e];c.current=Fn()(c.current,{$splice:[[e,1],[t,0,i]]}),n(a.name,c.current)}),[a.name,n]),d=Object(i.useCallback)((function(e,t){c.current=Fn()(c.current,{$splice:[[e,0,t]]}),n(a.name,c.current)}),[a.name,n]),u=Object(i.useCallback)((function(e){return c.current=Fn()(c.current,{$unshift:[e]}),n(a.name,c.current),c.current.length}),[a.name,n]),b=Object(i.useCallback)((function(e){var t=c.current[e];return c.current=Fn()(c.current,{$splice:[[e,1]]}),n(a.name,c.current),t}),[a.name,n]),j=Object(i.useCallback)((function(){var e=c.current.length-1,t=c.current[e];return c.current=Fn()(c.current,{$splice:[[e,1]]}),n(a.name,c.current),t}),[a.name,n]),m=Object(i.useCallback)((function(e,t){c.current=Fn()(c.current,{$splice:[[e,1,t]]}),n(a.name,c.current)}),[a.name,n]);return{field:a,values:a.value||[],meta:r,arrayHelpers:{push:s,swap:l,move:o,insert:d,unshift:u,remove:b,pop:j,replace:m}}},En=n(164),Pn=n.n(En),Mn={toolbar:[[{header:[1,2,!1]}],["bold","italic",{color:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]]},Vn=Object(i.forwardRef)((function(e,t){var n=e.name,i=e.label,a=e.className,r=e.validations,c=void 0===r?{}:r,l=e.hideOptional,o=e.disabled,d=e.modules,u=e.actions,b=Object(It.f)(),j=Object(It.d)({name:n,validate:Dt(c)}),m=Object(s.a)(j,3),x=m[0].value,f=m[1],y=f.error,p=f.touched,v=m[2],g=v.setValue,O=v.setTouched,N=!!c.required;return Object(I.jsxs)("div",{className:Object(h.a)(a),children:[i&&Object(I.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",children:[i," ",!N&&!l&&Object(I.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(I.jsxs)("div",{className:Object(h.a)("relative h-full",i&&"mt-1"),children:[u&&Object(I.jsx)("div",{className:"absolute top-0 right-0 mr-1.5 h-11 flex items-center",children:Object(I.jsx)(Ce,{actions:u})}),Object(I.jsx)(Pn.a,{ref:t,value:x||"",onChange:function(e){g(e)},onBlur:function(e){O(!0)},modules:d||Mn,readOnly:o||b.isSubmitting,className:"h-full"})]}),y&&p&&Object(I.jsx)("p",{className:"mt-2 text-sm text-red-600",children:y})]})})),zn=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(s.a)(n,2),r=a[0],c=a[1];return Object(I.jsx)("div",{className:Object(h.a)(r?"fixed z-[9999] w-screen h-screen":"static","top-0 left-0"),children:t(c,r)})},Rn=function(e,t){var n=p.entityTypes.find((function(e){return"user"===e.key}));return[{title:"Recipient",icon:Object(I.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",hoverable:!0,placement:"left-start",actions:p.entityFields.all((function(e){return e.entityTypeId===(null===n||void 0===n?void 0:n.id)})).map((function(t){return{title:t.name,onClick:function(){return e("{{recipient-".concat(t.key,"}}"))}}}))}].concat(Object(v.a)(p.entityTypes.all().map((function(t){return{title:t.name,icon:Object(I.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",hoverable:!0,placement:"left-start",actions:p.entityFields.all((function(e){return e.entityTypeId===t.id})).map((function(n){return{title:n.name,onClick:function(){return e("{{".concat(t.key,"-").concat(n.key,"}}"))}}}))}}))))},Bn=function(e){var t=e.name,n=e.label,a=e.validations,r=(e.focus,Object(i.useRef)(null)),c=function(e){var t,n=null===(t=r.current)||void 0===t?void 0:t.getEditor(),i=null===n||void 0===n?void 0:n.getSelection(),a=null===n||void 0===n?void 0:n.getText();if(n&&a){var c=null===i||void 0===i?void 0:i.index,s=null===i||void 0===i?void 0:i.length;c?(s&&n.deleteText(c,s),n.insertText(c,e)):n.insertText(n.getText().length-1,e)}};return Object(I.jsx)(zn,{children:function(e,i){return Object(I.jsxs)("div",{className:Object(h.a)(i&&"bg-white h-full"),children:[!i&&n&&Object(I.jsx)(yn,{children:n}),Object(I.jsx)(Vn,{name:t,validations:a,className:Object(h.a)(!i&&n&&"mt-1",i&&"h-full pb-10"),ref:r,actions:[{title:"Insert Tag",icon:Object(I.jsx)(K.j,{className:"w-4 h-4"}),iconSide:"right",intent:"secondary",size:"sm",actions:Rn(c)||[]},{icon:i?Object(I.jsx)(K.B,{className:"w-4 h-4 -mx-1"}):Object(I.jsx)(K.e,{className:"w-4 h-4 -mx-1"}),size:"sm",onClick:function(){return e((function(e){return!e}))}}]})]})}})},Hn=function(e){var t=e.path,n=e.remove,i=Object(It.f)(),a=Dn("".concat(t,".rules"),i),r=a.values,c=a.arrayHelpers,s=c.push,l=c.remove;return Object(I.jsxs)("div",{className:"relative",children:[Object(I.jsx)("div",{className:"absolute top-0 right-0 -mr-3 -my-3",children:Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(gn.a,{className:"w-4 h-4 -mx-1 text-red-500"}),intent:"secondary",size:"sm",rounded:"full",onClick:n}})}),Object(I.jsxs)(U,{className:"p-4 rounded-md bg-gray-100 dark:bg-gray-750",children:[r.map((function(e,n){return Object(I.jsx)(Ln,{path:"".concat(t,".rules[").concat(n,"]"),remove:function(){return l(n)},prefix:0===n?"IF":"AND"},n)})),Object(I.jsx)(Ce,{actions:{title:"Add condition",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),onClick:function(){return s({entity:"",field:"",operator:"",value:""})}}})]})]})},Ln=function(e){var t,n=e.path,i=e.prefix,a=e.remove,r=Object(It.f)(),c=Pt(r,"".concat(n,".entity")),s=Pt(r,"".concat(n,".field")),l=Pt(r,"".concat(n,".operator")),o=p.entityFields.find(s),d=(null===o||void 0===o?void 0:o.type)||"string",u=(null===o||void 0===o?void 0:o.options)||[];return Object(I.jsxs)("div",{className:"flex items-center justify-between space-x-3",children:[Object(I.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[Object(I.jsx)("span",{className:"text-sm font-medium text-center p-1 w-full max-w-[50px] rounded-full bg-white dark:bg-gray-800 text-indigo-600 dark:text-indigo-400 border border-gray-300 dark:border-gray-600",children:i}),Object(I.jsx)(zt,{name:"".concat(n,".entity"),options:p.entityTypes.all().map((function(e){return{value:e.id,label:e.name}})),className:"w-full max-w-[100px]"}),Object(I.jsx)(zt,{name:"".concat(n,".field"),options:p.entityFields.all((function(e){return e.entityTypeId===c})).map((function(e){return{value:e.id,label:e.name}}))||[],className:"w-full max-w-[200px]"}),Object(I.jsx)(zt,{name:"".concat(n,".operator"),options:(t=d,{date:[{label:"is before",value:"isBefore"},{label:"is after",value:"isAfter"},{label:"is same minute as",value:"sameMinute"},{label:"is same hour as",value:"sameHour"},{label:"is same day as",value:"sameDay"}],string:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"},{label:"includes",value:"stringIncludes"},{label:"doesn't include",value:"stringNotIncludes"},{label:"starts with",value:"stringStarts"},{label:"ends with",value:"stringEnds"},{label:"is empty",value:"stringEmpty"},{label:"is not empty",value:"stringNotEmpty"}],number:[{label:"is",value:"numberEquals"},{label:"is greater than",value:"numberGT"},{label:"is at least",value:"numberGTE"},{label:"is lesser than",value:"numberLT"},{label:"is at most",value:"numberLTE"}],boolean:[{label:"is true",value:"true"},{label:"is false",value:"false"}],users:[{label:"includes",value:"collectionIncludes"},{label:"doesn't include",value:"collectionNotIncludes"}],user:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"}],option:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"}]}[t]||[]),className:"w-full max-w-[200px]"}),"date"===d?Object(I.jsx)($t,{name:"".concat(n,".value"),className:"w-full max-w-[200px]"}):"string"===d&&"stringEmpty"!==l&&"stringNotEmpty"!==l?Object(I.jsx)(Mt,{name:"".concat(n,".value"),className:"w-full max-w-[200px]"}):"option"===d?Object(I.jsx)(zt,{name:"".concat(n,".value"),options:u.map((function(e){return{value:e,label:e}})),className:"w-full max-w-[200px]"}):null]}),Object(I.jsx)("div",{children:Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(gn.a,{className:"w-4 h-4 text-red-500 -mx-2"}),intent:"invisible",onClick:a}})})]})},qn=function(e){var t=e.id,n=e.mode,a=p.notifications.find(t),r=Ft({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",focus:(null===a||void 0===a?void 0:a.focus)||"",enabled:(null===a||void 0===a?void 0:a.enabled)||!1,enabledDate:(null===a||void 0===a?void 0:a.enabledDate)||void 0,triggerType:(null===a||void 0===a?void 0:a.triggerType)||"action",triggerRepeat:(null===a||void 0===a?void 0:a.triggerRepeat)||1,triggerEvery:(null===a||void 0===a?void 0:a.triggerEvery)||"",triggerYearIn:(null===a||void 0===a?void 0:a.triggerYearIn)||"",triggerMonthOn:(null===a||void 0===a?void 0:a.triggerMonthOn)||"",triggerWeekOn:(null===a||void 0===a?void 0:a.triggerWeekOn)||"",triggerDayAt:(null===a||void 0===a?void 0:a.triggerDayAt)||"",triggerAction:(null===a||void 0===a?void 0:a.triggerAction)||"",obeyTriggerTiming:(null===a||void 0===a?void 0:a.obeyTriggerTiming)||!0,triggerTimingType:(null===a||void 0===a?void 0:a.triggerTimingType)||"",triggerTiming:(null===a||void 0===a?void 0:a.triggerTiming)||"",triggerDate:(null===a||void 0===a?void 0:a.triggerDate)||"",ruleGroups:(null===a||void 0===a?void 0:a.ruleGroups)||[],subject:(null===a||void 0===a?void 0:a.subject)||"",content:(null===a||void 0===a?void 0:a.content)||""},onSubmit:function(e){p.notifications.save(Object(o.a)(Object(o.a)({id:Object(d.a)()},a||{}),e)),Object(l.e)("/settings/notifications")}}),c=Dn("ruleGroups",r),s=c.values,u=c.arrayHelpers,b=u.push,j=u.remove,m=Et(r,"triggerType"),x=Et(r,"triggerRepeat"),f=Et(r,"triggerEvery"),y=Et(r,"triggerYearIn"),v=Et(r,"triggerMonthOn"),h=Et(r,"triggerWeekOn"),g=Et(r,"triggerTiming"),O=Et(r,"triggerTimingType"),N=Et(r,"enabled"),k=Et(r,"subject"),w=Et(r,"focus"),T=On.findIndex((function(e){return e.value===m})),S="create"===n?"Create Notification":"Edit Notification";return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:S,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/notifications"}}),Object(I.jsx)("div",{children:S})]})}),Object(I.jsx)(pt,{children:Object(I.jsx)(St,{context:r,children:Object(I.jsxs)(U,{dividers:!0,children:[Object(I.jsx)(pn,{title:"Details",subtitle:"Basic information about the notification",children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"Notification is about"}),Object(I.jsx)(zt,{name:"focus",options:p.entityTypes.all().map((function(e){return{value:e.id,label:e.name}})),validations:{required:"Focus is required"},className:"w-[150px]"})]}),Object(I.jsx)(tn,{name:"enabled",label:"Enabled"}),Object(I.jsx)(M,{show:!!N,children:Object(I.jsx)($t,{name:"enabledDate",label:"Enabled from"})})]})})}),Object(I.jsxs)(pn,{title:"Trigger",subtitle:Object(I.jsxs)("div",{className:"space-y-3",children:[Object(I.jsx)("div",{children:"Choose how to trigger the notification"}),Object(I.jsxs)("ul",{className:"list-disc pl-5 text-xs",children:[Object(I.jsxs)("li",{children:[Object(I.jsx)("strong",{children:"Action"}),": When a certain action occurs within the platform"]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("strong",{children:"Repeat"}),": On a recurring schedule"]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("strong",{children:"Date"}),": Relative to a defined date"]})]})]}),children:[Object(I.jsx)("div",{className:"pl-2",children:Object(I.jsx)(hn,{activeIndex:T,theme:"card",items:On.map((function(e,t){return{title:Object(I.jsx)("div",{className:"flex items-center space-x-3",children:e.label}),simpleTitle:Object(Ie.a)(e.label),onClick:function(){return r.setFieldValue("triggerType",e.value)}}}))})}),Object(I.jsx)("div",{className:"relative z-10",children:Object(I.jsx)(mt,{children:Object(I.jsx)(U,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{className:"action"===m?"":"hidden",children:Object(I.jsx)("div",{className:"w-[300px]",children:Object(I.jsx)(zt,{name:"triggerAction",options:p.entityActions.all((function(e){return e.entityTypeId===w})).map((function(e){return{value:e.id,label:e.name}})),placeholder:"Select action..."})})}),Object(I.jsx)(U,{className:"repeat"===m?"":"hidden",children:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"Every"}),Object(I.jsx)("div",{className:"w-[60px]",children:Object(I.jsx)(Mt,{name:"triggerRepeat",validations:{required:"required",min:{value:1,message:"Every must be at least 1"}},placeholder:"",type:"number",inputProps:{min:1}})}),Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerEvery",options:Nn.map((function(e){return{label:e.label+((x||1)>1?"s":""),value:e.value}})),placeholder:""})})]}),"year"===f&&Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"in"}),Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerYearIn",options:wn,validations:{required:"Time is required"},placeholder:""})})]}),("month"===f||"year"===f&&z(y))&&Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"on the"}),Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerMonthOn",options:"month"===f?(Cn(y||"february")||[]).concat([{label:"last day",value:1/0}]):Cn(y||"february")||[],validations:{required:"Time is required"},placeholder:""})})]}),"week"===f&&Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"on"}),Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerWeekOn",options:kn,validations:{required:"Time is required"},placeholder:""})})]}),("day"===f||z(h)||z(v))&&Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"at"}),Object(I.jsx)("div",{className:"w-[130px]",children:Object(I.jsx)(Mt,{name:"triggerDayAt",type:"time"})})]})]})}),Object(I.jsx)(U,{className:"date"===m?"":"hidden",children:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)("div",{className:"w-[60px]",children:Object(I.jsx)(Mt,{name:"triggerRepeat",validations:{required:"required",min:{value:1,message:"min 1"}},placeholder:"",type:"number",inputProps:{min:1}})}),Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerTiming",options:Tn.map((function(e){return{label:e.label+((x||1)>1?"s":""),value:e.value}})),placeholder:""})}),g&&Object(I.jsx)("div",{className:"w-[100px]",children:Object(I.jsx)(zt,{name:"triggerTimingType",options:In,validations:{required:"required"},placeholder:""})}),O&&Object(I.jsx)("div",{className:"w-[200px]",children:Object(I.jsx)(zt,{name:"triggerDate",options:p.entityFields.all((function(e){return e.entityTypeId===w&&"date"===e.type})).map((function(e){return{value:e.id,label:e.name}})),validations:{required:"required"},placeholder:""})})]})})]})})})})]}),Object(I.jsx)(pn,{title:"Conditions",subtitle:"Fine grained controls over if the notification gets sent",children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[s.map((function(e,t){return Object(I.jsxs)(i.Fragment,{children:[Object(I.jsx)(Hn,{path:"ruleGroups[".concat(t,"]"),remove:function(){return j(t)}}),t!==s.length-1&&Object(I.jsx)("div",{className:"flex justify-center",children:Object(I.jsx)("span",{className:"text-sm font-medium px-4 py-1 rounded-full bg-indigo-600 text-white",children:"OR"})})]},t)})),Object(I.jsx)(Ce,{actions:{title:"Add condition set",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),onClick:function(){return b({rules:[]})}}})]})})}),Object(I.jsx)(pn,{title:"Template",subtitle:Object(I.jsxs)("div",{className:"space-y-3",children:[Object(I.jsx)("div",{children:"Customise the content of the email message"}),Object(I.jsx)("div",{children:"Use the tag reference to add placeholders for real values"}),Object(I.jsx)(Ce,{actions:[{title:"Import Template",icon:Object(I.jsx)(K.j,{className:"w-5 h-5"}),iconSide:"right",placement:"bottom-start",actions:p.templates.all().map((function(e){return{title:e.name,onClick:function(){var t=Object(C.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,""===r.values.content||"<p><br></p>"===r.values.content){t.next=6;break}return t.next=4,ne({title:"Are you sure?",message:"This will overwrite your existing email content",intent:"primary",onAccept:function(){n=!0}});case 4:t.next=7;break;case 6:n=!0;case 7:n&&r.setFieldValue("content",e.content);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))}]})]}),children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsxs)("div",{className:"flex items-start",children:[Object(I.jsx)(Mt,{name:"subject",label:"Subject line",validations:{required:"Subject line is required"},className:"flex-1 mr-3"}),Object(I.jsx)("div",{className:"mt-6",children:Object(I.jsx)(Ce,{actions:{title:"Insert Tag",icon:Object(I.jsx)(K.j,{className:"w-5 h-5"}),iconSide:"right",actions:Rn((function(e){r.setFieldValue("subject",(null===k||void 0===k?void 0:k.length)?"".concat(k).concat(e):"".concat(e))}))||[]}})})]}),Object(I.jsx)(Bn,{name:"content",label:"Content",validations:{required:"Content is required"},focus:w})]})})}),Object(I.jsx)("div",{className:"flex items-center justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Test",intent:"secondary",icon:Object(I.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!z(w)||!0},{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit",disabled:!z(w)}]})})]})})})]})},Qn=function(){var e={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e){return[{icon:Object(I.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/templates/".concat(e.id,"/edit")},{title:"Test",icon:Object(I.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0}],[{title:"Delete",intent:"danger",icon:Object(I.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){p.templates.remove(e.id)}})}}]]}]}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Templates",actions:[{title:"Create Template",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/templates/create"}]})}),Object(I.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(I.jsx)(Ee,{schema:e,items:p.templates.all(),className:"-mb-px"})})]})})]})},Gn=function(e){var t=e.id,n=e.mode,i=p.templates.find(t),a=Ft({initialValues:{name:(null===i||void 0===i?void 0:i.name)||"",content:(null===i||void 0===i?void 0:i.content)||""},onSubmit:function(e){p.templates.save(Object(o.a)(Object(o.a)({id:Object(d.a)()},i||{}),e)),Object(l.e)("/settings/templates")}}),r="create"===n?"Create Template":"Edit Template";return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:r,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/templates"}}),Object(I.jsx)("div",{children:r})]})}),Object(I.jsx)(pt,{children:Object(I.jsx)(St,{context:a,children:Object(I.jsxs)(ut,{children:[Object(I.jsx)(bt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(I.jsx)(Bn,{name:"content",label:"Content",validations:{required:"Content is required"},focus:"all"})]})}),Object(I.jsx)(jt,{children:Object(I.jsx)("div",{className:"flex items-center justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Test",intent:"secondary",icon:Object(I.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0},{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})})]})})})]})},Wn=function(){var e={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e){return[{icon:Object(I.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/roles/".concat(e.id,"/edit")}],[{title:"Delete",intent:"danger",icon:Object(I.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){p.roles.remove(e.id)}})}}]]}]}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Roles",actions:[{title:"Create Role",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/roles/create"}]})}),Object(I.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(I.jsx)(Ee,{schema:e,items:p.roles.all(),className:"-mb-px"})})]})})]})},Xn=function(e){var t,n=e.name,i=e.label,a=e.disabled,r=e.inputClassName,c=e.color,l=void 0===c?"text-primary-500 dark:text-primary-600":c,d=e.className,u=Object(It.d)({name:n,type:"checkbox"}),b=Object(s.a)(u,1)[0],j=Object(It.f)();return Object(I.jsx)("div",{className:Object(h.a)(d),children:Object(I.jsxs)("label",{className:"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer",children:[Object(I.jsx)("input",Object(o.a)(Object(o.a)({},b),{},{type:"checkbox",className:Object(h.a)("form-checkbox",r,(t={},Object(k.a)(t,l,!a),Object(k.a)(t,"text-gray-400",a),t)),disabled:a||j.isSubmitting})),i&&Object(I.jsx)("span",{className:"ml-3",children:i})]})})},Yn=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.className;return Object(I.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-600",children:Object(I.jsxs)("div",{className:Object(h.a)("flex flex-col sm:flex-row justify-between items-start sm:items-center flex-wrap sm:flex-nowrap space-y-4 sm:space-y-0",a),children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",children:t}),n&&Object(I.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-400",children:n})]}),Object(I.jsx)("div",{className:"flex-shrink-0 my-0 sm:-my-2",children:i&&i.length>0?Object(I.jsx)(Ce,{actions:i}):Object(I.jsx)("div",{className:"hidden sm:block",children:Object(I.jsx)(xt,{})})})]})})},Un=function(e){var t=e.children,n=e.className;return Object(I.jsx)("div",{className:Object(h.a)("border border-gray-200 dark:border-gray-600 rounded-md overflow-hidden",n),children:t})},Kn=function(e){var t=e.id,n=e.mode,i=p.roles.find(t),a=Ft({initialValues:{name:(null===i||void 0===i?void 0:i.name)||"",entityTypes:p.entityTypes.all().reduce((function(e,n){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},n.key,{fields:p.entityFields.all((function(e){return e.entityTypeId===n.id})).reduce((function(e,n){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},n.key,p.entityFieldPermissions.find((function(e){return e.entityFieldId===n.id&&e.roleId===t}))||{id:"",view:!0,modify:!0,roleId:t||"",entityFieldId:n.id}))}),{}),actions:p.entityActions.all((function(e){return e.entityTypeId===n.id})).reduce((function(e,n){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},n.key,p.entityActionPermissions.find((function(e){return e.entityActionId===n.id&&e.roleId===t}))||{id:"",perform:!0,roleId:t||"",entityActionId:n.id}))}),{}),connections:p.entityConnections.all((function(e){return e.entityTypeId===n.id})).reduce((function(e,n){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},n.key,p.entityConnectionPermissions.find((function(e){return e.entityConnectionId===n.id&&e.roleId===t}))||{id:"",view:!0,modify:!0,remove:!0,roleId:t||"",entityConnectionId:n.id}))}),{})}))}),{})},onSubmit:function(e){p.roles.save(Object(o.a)(Object(o.a)({},i||{}),{},{name:e.name})),p.entityTypes.all().forEach((function(t){Object.values(e.entityTypes[t.key].fields).forEach((function(e){p.entityFieldPermissions.save(e)})),Object.values(e.entityTypes[t.key].actions).forEach((function(e){p.entityActionPermissions.save(e)})),Object.values(e.entityTypes[t.key].connections).forEach((function(e){p.entityConnectionPermissions.save(e)}))})),Object(l.e)("".concat("/nzdrc-mockup","/settings/roles"))}}),r="create"===n?"Create Role":"Edit Role";return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:r,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/roles"}}),Object(I.jsx)("div",{children:r})]})}),Object(I.jsx)(pt,{children:Object(I.jsx)(St,{context:a,children:Object(I.jsxs)(U,{children:[Object(I.jsx)(pn,{title:"Details",subtitle:"Basic details about the role",children:Object(I.jsx)(mt,{children:Object(I.jsx)(U,{children:Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}})})})}),Object(I.jsx)(pn,{title:"Permissions",subtitle:"A view of permissions for all existing entity types and their fields/actions/connections",children:Object(I.jsx)(U,{children:p.entityTypes.all().map((function(e){return Object(I.jsxs)(ut,{children:[Object(I.jsx)(Yn,{title:e.name}),Object(I.jsx)("div",{className:"rounded-b-md overflow-hidden",children:Object(I.jsxs)(U,{className:"p-6",children:[function(){var t,n=p.entityFields.all((function(t){return t.entityTypeId===e.id}));return n.length>0&&Object(I.jsx)(Un,{children:Object(I.jsx)(Ee,{schema:(t=e.key,{cols:[{title:"Field",value:function(e){return e.name}},{title:"View",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".fields.").concat(e.key,".view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".fields.").concat(e.key,".modify")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}(),function(){var t,n=p.entityActions.all((function(t){return t.entityTypeId===e.id}));return n.length>0&&Object(I.jsx)(Un,{children:Object(I.jsx)(Ee,{schema:(t=e.key,{cols:[{title:"Action",value:function(e){return e.name}},{title:"Perform",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".actions.").concat(e.key,".perform")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}(),function(){var t,n=p.entityConnections.all((function(t){return t.entityTypeId===e.id}));return n.length>0&&Object(I.jsx)(Un,{children:Object(I.jsx)(Ee,{schema:(t=e.key,{cols:[{title:"Connection",value:function(e){return e.name}},{title:"View",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".connections.").concat(e.key,".view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".connections.").concat(e.key,".modify")})})},width:"minmax(auto, max-content)"},{title:"Remove",value:function(e,n){return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"entityTypes.".concat(t,".connections.").concat(e.key,".remove")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}()]})})]},e.key)}))})}),Object(I.jsx)("div",{className:"flex items-center justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},Jn=function(){var e={cols:[{title:"Name",value:function(e){return e.name}},{title:"Field Types",value:function(e){return p.entityFields.all((function(t){return t.entityTypeId===e.id})).length||""}},{title:"Actions",value:function(e){return p.entityActions.all((function(t){return t.entityTypeId===e.id})).length||""}},{title:"Connections",value:function(e){return p.entityConnections.all((function(t){return t.entityTypeId===e.id})).length||""}}],actions:function(e){return[{icon:Object(I.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/entity-types/".concat(e.id,"/edit")}],[{title:"Delete",intent:"danger",icon:Object(I.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){p.entityTypes.remove(e.id)}})}}]]}]}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Entity Types",actions:[{title:"Create Entity Type",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/entity-types/create"}]})}),Object(I.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(I.jsx)(Ee,{schema:e,items:p.entityTypes.all(),className:"-mb-px"})})]})})]})},Zn=function(e){Object(nt.a)(n,e);var t=Object(it.a)(n);function n(){return Object(et.a)(this,n),t.apply(this,arguments)}return Object(tt.a)(n,[{key:"componentDidCatch",value:function(e){ue.a(e),console.dir(e)}},{key:"render",value:function(){var e;return z(null===(e=this.state)||void 0===e?void 0:e.error)?Object(I.jsx)(this.props.render,{error:this.state.error}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(i.Component),_n=function(e){var t=e.error;return Object(I.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(I.jsx)("h4",{className:"alert-heading",children:"Something went wrong"}),Object(I.jsx)("hr",{}),t.message&&Object(I.jsx)("p",{className:"m-0",children:t.message})]})},$n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loader,a=void 0===n?Object(I.jsx)(qe,{}):n,r=t.error,c=void 0===r?_n:r;return function(t){return Object(I.jsx)(Zn,{render:c,children:Object(I.jsx)(i.Suspense,{fallback:a,children:Object(I.jsx)(e,Object(o.a)({},t))})})}}((function(e){return e.render}));function ei(){return(ei=Object(C.a)(A.a.mark((function e(t){var n,i,a,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.render,i=t.size,a=void 0===i?"md":i,r=t.mode,c=void 0===r?"":r,e.next=3,re({size:a,mode:c,children:function(e){return Object(I.jsx)(ti,{render:n,close:e})}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ti=function(e){var t=e.render,n=e.close;return Object(I.jsxs)("div",{className:"h-full w-full relative",children:[Object(I.jsx)("div",{className:"absolute top-0 left-0 -mx-12 mt-2",children:Object(I.jsx)(Ce,{actions:[{icon:Object(I.jsx)(K.B,{className:"w-5 h-5 -mx-2 text-white"}),intent:"invisible",onClick:function(){return n()}}]})}),Object(I.jsx)("div",{className:"h-full divide-y divide-gray-200 dark:divide-gray-600 flex flex-col bg-white dark:bg-gray-700 shadow-xl",children:Object(I.jsx)("div",{className:"flex-1 h-0 flex flex-col",children:Object(I.jsx)($n,{render:t(n)})})})]})},ni=function(e){var t=e.title,n=e.subtitle,i=e.actions;return Object(I.jsxs)("div",{className:"py-6 px-4 bg-primary-500 dark:bg-primary-600 sm:px-6 flex-shrink-0",children:[Object(I.jsxs)("div",{className:"flex items-center justify-between",children:[Object(I.jsx)("div",{className:"text-lg font-medium text-white antialiased",children:t}),Object(I.jsx)("div",{className:"ml-3 h-7 flex items-center",children:i&&Object(I.jsx)(Ce,{actions:i})})]}),n&&Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("div",{className:"text-sm text-white opacity-75 antialiased",children:n})})]})},ii=function(e){var t=e.className,n=e.children;return Object(I.jsx)("div",{className:Object(h.a)("flex-1 flex flex-col justify-between overflow-y-auto",t),children:n})},ai=function(e){return ei.apply(this,arguments)},ri=function(e){var t=e.as,n=void 0===t?"input":t,a=e.name,r=e.label,c=e.type,l=void 0===c?"text":c,u=e.className,b=e.autoFocus,j=void 0!==b&&b,m=e.validations,x=void 0===m?{}:m,f=e.placeholder,y=e.disabled,p=void 0!==y&&y,v=e.inputProps,g=void 0===v?{}:v,O=J(j),k=n,w=Object(It.d)({name:a,type:l,validate:Dt(x)}),A=Object(s.a)(w,3),C=A[0].value,T=A[2],S=T.setValue,F=T.setTouched,D=Object(It.f)(),E=Object(i.useState)(Object(d.a)()),P=Object(s.a)(E,1)[0],M=g.className,V=Object(N.a)(g,["className"]);return Object(I.jsxs)("div",{className:Object(h.a)(u),children:[Object(I.jsx)("div",{className:"text-[0px] leading-none select-none",children:P}),Object(I.jsx)("div",{className:Object(h.a)("relative rounded-md",r&&"mt-1"),children:Object(I.jsx)(k,Object(o.a)({ref:O,type:l,value:C,onChange:function(e){return S(e.target.value)},onBlur:function(){F(!0)},placeholder:f,disabled:p||D.isSubmitting,className:Object(h.a)(M)},"input"===k?V:{}))})]})},ci=[{value:"string",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"date",label:"Date"},{value:"option",label:"Options"}],si=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.entityField,a=e.close,r=Ft({initialValues:i,onSubmit:function(e){a(Object(o.a)(Object(o.a)({},e),{},{key:Be(e.name)}))}}),c=Et(r,"type"),s=Et(r,"permissions"),l=Dn("options",r),d=l.values,u=l.arrayHelpers,b={cols:[{title:"Role",value:function(e){return e.name}},{title:"View",value:function(e){var t=s.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e){var t=s.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].modify")})})},width:"minmax(auto, max-content)"}]};return Object(I.jsxs)(St,{context:r,className:"contents",children:[Object(I.jsx)(ni,{title:"create"===n?"Create Entity Field":"Edit Entity Field"}),Object(I.jsx)(ii,{children:Object(I.jsx)(U,{className:"py-6",children:Object(I.jsx)("div",{className:"px-6",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",className:"flex-1",validations:{required:"Name is required"}}),Object(I.jsx)(zt,{name:"type",label:"Type",options:ci,validations:{required:"Type is required"}}),"string"===c&&Object(I.jsx)(Mt,{name:"defaultValue",label:"Default Value"}),"number"===c&&Object(I.jsx)(Mt,{name:"defaultValue",label:"Default Value",type:"number"}),"boolean"===c&&Object(I.jsx)(zt,{name:"defaultValue",label:"Default Value",options:[{value:0,label:"False"},{value:1,label:"True"}]}),"date"===c&&Object(I.jsx)($t,{name:"defaultValue",label:"Default Value"}),"option"===c&&Object(I.jsxs)("div",{children:[d.map((function(e,t){return Object(I.jsxs)("div",{className:"relative",children:[Object(I.jsx)("div",{className:"absolute z-[2] top-0 left-0 ml-3 h-full flex items-center justify-center",children:Object(I.jsx)("div",{className:"text-xs font-medium rounded-full w-5 h-5 bg-gray-200 dark:bg-gray-700 dark:text-gray-100 flex items-center justify-center",children:t+1})}),Object(I.jsx)(ri,{name:"options[".concat(t,"]"),inputProps:{className:Object(h.a)("py-2 pl-12 pr-8 -mb-px relative text-sm w-full border border-gray-300 dark:border-gray-600 focus:z-[1] focus:ring-1 focus:ring-primary-500 focus:border-primary-500 dark:focus:border-primary-500 bg-white dark:bg-gray-800 dark:text-gray-100",0===t&&"rounded-t-md",t===d.length-1&&"rounded-b-md")}}),d.length>1&&Object(I.jsx)("div",{className:"absolute z-[1] top-0 right-0 mr-3 h-full flex items-center justify-center",children:Object(I.jsx)("button",{className:"rounded-full w-5 h-5 bg-red-100 dark:bg-red-500 dark:bg-opacity-25 text-red-500 flex items-center justify-center focus:ring-2 focus:ring-red-500 transition-shadow",type:"button",onClick:function(){return u.remove(t)},children:Object(I.jsx)(K.B,{className:"w-4 h-4"})})})]},t)})),Object(I.jsx)("div",{className:"mt-2 flex justify-end",children:Object(I.jsx)(Ce,{actions:{title:"Add option",icon:Object(I.jsx)(K.v,{className:"w-4 h-4"}),size:"sm",onClick:function(){return u.push("")}}})}),Object(I.jsx)(Mt,{name:"defaultValue",label:"Default Value"})]}),Object(I.jsx)(Mt,{name:"description",label:"Description"}),Object(I.jsxs)("div",{children:[Object(I.jsx)(yn,{children:"Permissions"}),Object(I.jsx)(Un,{className:"mt-2",children:Object(I.jsx)(Ee,{schema:b,items:p.roles.all(),className:"-my-px"})})]})]})})})}),Object(I.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Cancel",onClick:function(){return a()}},{title:"Save",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},li=function(e){return ai({render:function(t){return Object(I.jsx)(si,Object(o.a)({close:t},e))}})},oi=function(e){var t=e.children,n=e.className,i=e.onClick;return Object(I.jsx)("div",{className:Object(h.a)("p-4 bg-gray-100 dark:bg-gray-750 border border-gray-200 dark:border-gray-600 rounded",n),onClick:i,children:t})},di=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.entityAction,a=e.entityFields,r=e.close,c=Ft({initialValues:i,onSubmit:function(e){r(Object(o.a)(Object(o.a)({},e),{},{key:Be(e.name)}))}}),s=Et(c,"permissions"),l=Dn("changes",c),u=l.values,b=l.arrayHelpers,j={cols:[{title:"Role",value:function(e){return e.name}},{title:"Perform",value:function(e){var t=s.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].perform")})})},width:"minmax(auto, max-content)"}]};return Object(I.jsxs)(St,{context:c,className:"contents",children:[Object(I.jsx)(ni,{title:"create"===n?"Create Action":"Edit Action"}),Object(I.jsx)(ii,{children:Object(I.jsx)(U,{className:"py-6",children:Object(I.jsx)("div",{className:"px-6",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",className:"flex-1",validations:{required:"Name is required"}}),Object(I.jsxs)("div",{children:[Object(I.jsx)(yn,{children:"Changes"}),Object(I.jsx)(oi,{className:"mt-2",children:Object(I.jsxs)(U,{children:[u.filter(z).map((function(e,t){var n,i=(n=e.entityFieldId,a.find((function(e){return e.id===n})));return Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(yn,{children:"Set"}),Object(I.jsx)("div",{className:"w-[200px]",children:Object(I.jsx)(zt,{name:"changes[".concat(t,"].entityFieldId"),options:a.map((function(e){return{value:e.id,label:e.name}}))})}),"boolean"===(null===i||void 0===i?void 0:i.type)&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yn,{children:"to"}),Object(I.jsx)("div",{className:"w-[200px]",children:Object(I.jsx)(zt,{name:"changes[".concat(t,"].newValue"),options:[{label:"True",value:"true"},{label:"False",value:"false"}]})})]}),"string"===(null===i||void 0===i?void 0:i.type)&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yn,{children:"to"}),Object(I.jsx)("div",{className:"w-[200px]",children:Object(I.jsx)(Mt,{name:"changes[".concat(t,"].newValue")})})]}),"date"===(null===i||void 0===i?void 0:i.type)&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yn,{children:"to"}),Object(I.jsx)("div",{className:"w-[300px]",children:Object(I.jsx)(zt,{name:"changes[".concat(t,"].newValue"),options:[{label:"Current Time",value:"current-time"}],className:"flex-1"})})]}),"option"===(null===i||void 0===i?void 0:i.type)&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yn,{children:"to"}),Object(I.jsx)("div",{className:"w-[300px]",children:Object(I.jsx)(zt,{name:"changes[".concat(t,"].newValue"),options:i.options.map((function(e){return{label:e,value:e}})),className:"flex-1"})})]})]},t)})),Object(I.jsx)(Ce,{actions:{title:"Add change",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),onClick:function(){return b.push({id:Object(d.a)(),userDefined:!0})}}})]})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(yn,{children:"Permissions"}),Object(I.jsx)(Un,{className:"mt-2",children:Object(I.jsx)(Ee,{schema:j,items:p.roles.all(),className:"-my-px"})})]})]})})})}),Object(I.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Cancel",onClick:function(){return r()}},{title:"Save",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},ui=function(e){return ai({size:"2xl",render:function(t){return Object(I.jsx)(di,Object(o.a)({close:t},e))}})},bi=[{value:"one-to-one",label:"Single"},{value:"one-to-many",label:"Many"}],ji=[{value:"one-to-one",label:"Single"},{value:"one-to-many",label:"Single"}],mi=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.entityConnection,a=e.close,r=Ft({initialValues:i,onSubmit:function(e){a(Object(o.a)(Object(o.a)({},e),{},{key:Be(e.name)}))}}),c=Et(r,"permissions"),s={cols:[{title:"Role",value:function(e){return e.name}},{title:"View",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].modify")})})},width:"minmax(auto, max-content)"},{title:"Remove",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(I.jsx)("div",{className:"w-full flex justify-center",children:Object(I.jsx)(Xn,{name:"permissions[".concat(t,"].remove")})})},width:"minmax(auto, max-content)"}]};return Object(I.jsxs)(St,{context:r,className:"contents",children:[Object(I.jsx)(ni,{title:"create"===n?"Create Connection":"Edit Connection"}),Object(I.jsx)(ii,{children:Object(I.jsx)(U,{className:"py-6",children:Object(I.jsx)("div",{className:"px-6",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(I.jsx)(zt,{name:"relationId",label:"Entity Type",options:p.entityTypes.all().map((function(e){return{value:e.id,label:e.name}})),validations:{required:"Entity Type is required"}}),Object(I.jsx)(zt,{name:"type",label:"Cardinality",options:bi,validations:{required:"Cardinality is required"}}),Object(I.jsxs)("div",{children:[Object(I.jsx)(yn,{children:"Permissions"}),Object(I.jsx)(Un,{className:"mt-2",children:Object(I.jsx)(Ee,{schema:s,items:p.roles.all(),className:"-my-px"})})]})]})})})}),Object(I.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Cancel",onClick:function(){return a()}},{title:"Save",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},xi=function(e){return ai({render:function(t){return Object(I.jsx)(mi,Object(o.a)({close:t},e))}})},fi=n(103),yi=function(e){var t=e.id,n=e.mode,a=p.entityTypes.find(t),r=p.entityFields.all((function(e){return e.entityTypeId===t})),c=p.entityActions.all((function(e){return e.entityTypeId===t})),u=p.entityConnections.all((function(e){return e.entityTypeId===t||e.relationId===t})),b=Ft({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",plural:(null===a||void 0===a?void 0:a.plural)||"",mainNav:(null===a||void 0===a?void 0:a.mainNav)||!1,entityFields:r?r.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{permissions:p.entityFieldPermissions.all((function(t){return t.entityFieldId===e.id}))})})):[],entityActions:c?c.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{permissions:p.entityActionPermissions.all((function(t){return t.entityActionId===e.id}))})})):[],entityConnections:u?u.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{permissions:p.entityConnectionPermissions.all((function(t){return t.entityConnectionId===e.id}))})})):[]},onSubmit:function(e){var t=p.entityTypes.save(Object(o.a)(Object(o.a)({},a),{},{key:Be(e.name),name:e.name,plural:e.plural,mainNav:e.mainNav}));e.entityFields.forEach((function(e){var n=e.permissions,i=Object(N.a)(e,["permissions"]);p.entityFields.save(Object(o.a)(Object(o.a)({},i),{},{entityTypeId:t.id})),n.forEach((function(e){p.entityFieldPermissions.save(Object(o.a)(Object(o.a)({},e),e.id?{}:{id:Object(d.a)()}))}))})),e.entityActions.forEach((function(e){var n=e.permissions,i=Object(N.a)(e,["permissions"]);p.entityActions.save(Object(o.a)(Object(o.a)({},i),{},{entityTypeId:t.id})),n.forEach((function(e){p.entityActionPermissions.save(Object(o.a)(Object(o.a)({},e),e.id?{}:{id:Object(d.a)()}))}))})),e.entityConnections.forEach((function(e){var n=e.permissions,i=Object(N.a)(e,["permissions"]);p.entityConnections.save(Object(o.a)(Object(o.a)({},i),{},{entityTypeId:t.id})),n.forEach((function(e){p.entityConnectionPermissions.save(Object(o.a)(Object(o.a)({},e),e.id?{}:{id:Object(d.a)()}))}))})),T.entityFields.forEach(p.entityFields.remove),T.entityActions.forEach(p.entityActions.remove),T.entityConnections.forEach(p.entityConnections.remove),Object(l.e)("".concat("/nzdrc-mockup","/settings/entity-types"))}}),j=Dn("entityFields",b),m=j.values,x=j.arrayHelpers,f=Dn("entityActions",b),y=f.values,v=f.arrayHelpers,h=Dn("entityConnections",b),g=h.values,O=h.arrayHelpers,k=Object(i.useState)({entityFields:[],entityActions:[],entityConnections:[]}),w=Object(s.a)(k,2),T=w[0],S=w[1],F={cols:[{title:"Name",value:function(e){return e.name}},{title:"Type",value:function(e){var t;return(null===(t=ci.find((function(t){return t.value===e.type})))||void 0===t?void 0:t.label)||""}}],actions:function(e,t){return[{icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var n=Object(C.a)(A.a.mark((function n(){var i;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,li({mode:"edit",entityField:e});case 2:(i=n.sent)&&x.replace(t,i);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{icon:Object(I.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){x.remove(t),S(Object(fi.a)((function(t){t.entityFields.push(e.id)})))}})}}]}},D={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e,t){return[{icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var n=Object(C.a)(A.a.mark((function n(){var i;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ui({mode:"edit",entityAction:e,entityFields:m});case 2:(i=n.sent)&&v.replace(t,i);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{icon:Object(I.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.remove(t),S(Object(fi.a)((function(t){t.entityActions.push(e.id)})))}})}}]}},E={cols:[{title:"Name",value:function(e){return e.name}},{title:"Related Entity",value:function(e){var n,i;return e.entityTypeId===t?null===(n=p.entityTypes.find((function(t){return t.id===e.relationId})))||void 0===n?void 0:n.name:null===(i=p.entityTypes.find((function(t){return t.id===e.entityTypeId})))||void 0===i?void 0:i.name}},{title:"Cardinality",value:function(e){var n,i;return e.entityTypeId===t?null===(n=bi.find((function(t){return t.value===e.type})))||void 0===n?void 0:n.label:null===(i=ji.find((function(t){return t.value===e.type})))||void 0===i?void 0:i.label}}],actions:function(e,n){return[e.entityTypeId===t&&{icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var t=Object(C.a)(A.a.mark((function t(){var i;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xi({mode:"edit",entityConnection:e});case 2:(i=t.sent)&&O.replace(n,i);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},e.entityTypeId===t&&{icon:Object(I.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){O.remove(n),S(Object(fi.a)((function(t){t.entityConnections.push(e.id)})))}})}}]}},P="create"===n?"Create Entity Type":"Edit Entity Type";return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:P,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/entity-types"}}),Object(I.jsx)("div",{children:P})]})}),Object(I.jsx)(St,{context:b,children:Object(I.jsx)(pt,{children:Object(I.jsxs)(U,{dividers:!0,children:[Object(I.jsx)(pn,{title:"Details",subtitle:"The name and different types of labels for the entity",children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(I.jsx)(Mt,{name:"plural",label:"Plural"}),Object(I.jsx)(tn,{name:"mainNav",label:"Show in Main Nav"})]})})}),Object(I.jsx)(pn,{title:"Field Types",subtitle:"Field Types are custom fields that are attached to this entity, that can be configured to contain many different kinds of data",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(ut,{className:"rounded-md overflow-hidden",children:Object(I.jsx)(Ee,{items:m,schema:F,className:"-my-px"})}),Object(I.jsx)("div",{className:"flex justify-end",children:Object(I.jsx)(Ce,{actions:{title:"Add Field Type",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(C.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(),e.next=3,li({entityField:{id:t,entityTypeId:"",key:"",name:"",plural:"",template:"",type:"string",options:[""],permissions:p.roles.all().map((function(e){return{id:"",roleId:e.id,entityFieldId:t,view:!0,modify:!0}}))}});case 3:(n=e.sent)&&x.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(I.jsx)(pn,{title:"Actions",subtitle:"Actions are custom interactions that the user can use do to this entity. They can modify a field, or be used as triggers for notifications.",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(ut,{className:"rounded-md overflow-hidden",children:Object(I.jsx)(Ee,{items:y,schema:D,className:"-my-px"})}),Object(I.jsx)("div",{className:"flex justify-end",children:Object(I.jsx)(Ce,{actions:{title:"Add Action",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(C.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(),e.next=3,ui({entityAction:{id:t,entityTypeId:"",key:"",name:"",changes:[],permissions:p.roles.all().map((function(e){return{id:"",roleId:e.id,entityActionId:t,perform:!0}}))},entityFields:m});case 3:(n=e.sent)&&v.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(I.jsx)(pn,{title:"Connections",subtitle:Object(I.jsxs)("div",{className:"space-y-3",children:[Object(I.jsx)("p",{children:"Connections are a way to define a relationship between this entity type, and another entity type."}),Object(I.jsx)("p",{children:'For example, if a "case has many events", then a case should have a connection named "Events", set to the Event entity and a cardinality of "Many"'})]}),children:Object(I.jsxs)(U,{children:[Object(I.jsx)(ut,{className:"rounded-md overflow-hidden",children:Object(I.jsx)(Ee,{items:g,schema:E,className:"-my-px"})}),Object(I.jsx)("div",{className:"flex justify-end",children:Object(I.jsx)(Ce,{actions:{title:"Add Connection",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(C.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(),e.next=3,xi({entityConnection:{id:t,key:"",name:"",entityTypeId:"",relationId:"",type:"one-to-many",permissions:p.roles.all().map((function(e){return{id:"",roleId:e.id,entityConnectionId:t,view:!0,modify:!0,remove:!0}}))}});case 3:(n=e.sent)&&O.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(I.jsx)("div",{className:"flex justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"create"===n?"Create":"Save",intent:"save",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},pi=[{name:"Shared Workspace"},{name:"Document Production"},{name:"Document Exchange"}],vi=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Modules",actions:[{title:"Add Module",icon:Object(I.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/modules/add"}]})}),Object(I.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(I.jsx)(Ee,{schema:{cols:[{title:"Name",value:function(e){return e.name}}]},items:pi,className:"-mb-px"})})]})})]})},hi=function(e){var t,n=e.checked,i=e.name,a=e.label,r=void 0===a?"":a,c=e.className,s=e.disabled,l=e.onChange,o=e.color,d=void 0===o?"text-emerald-600 dark:text-emerald-500":o;return Object(I.jsxs)("label",{className:Object(h.a)("text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-start cursor-pointer",c),children:[Object(I.jsx)("input",{type:"checkbox",name:i,id:i,checked:n,disabled:s,onChange:l,className:Object(h.a)("form-checkbox rounded-sm border-gray-300 mt-1",(t={},Object(k.a)(t,d,!s),Object(k.a)(t,"text-gray-400",s),t))}),r&&Object(I.jsx)("span",{className:"ml-3 mt-0.5 select-none",children:r})]})},gi=[{id:Object(d.a)(),name:"Shared Workspace"},{id:Object(d.a)(),name:"Document Production"},{id:Object(d.a)(),name:"Document Exchange"},{id:Object(d.a)(),name:"Video Conferencing"},{id:Object(d.a)(),name:"Peer Review"}],Oi=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:"Add Module",title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/modules"}}),Object(I.jsx)("div",{children:"Add Module"})]})}),Object(I.jsx)(pt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(mt,{children:Object(I.jsx)("div",{className:"grid grid-cols-3 gap-6",children:gi.map((function(e){return Object(I.jsxs)("div",{className:Object(h.a)("border rounded relative cursor-pointer shadow-sm","col-span-1 min-h-[300px]",{"bg-white dark:bg-gray-750 border-gray-200 dark:border-gray-600":!n.includes(e.id),"bg-primary-50 dark:bg-primary-500 dark:bg-opacity-25 border-primary-500 dark:border-primary-500 ring-1 ring-primary-500":n.includes(e.id)}),onClick:function(){n.includes(e.id)?a((function(t){return t.filter((function(t){return t!==e.id}))})):a((function(t){return[].concat(Object(v.a)(t),[e.id])}))},children:[Object(I.jsxs)(U,{className:"p-4",children:[Object(I.jsx)(Ct,{items:[{title:"Name",value:Object(I.jsx)("span",{className:"text-lg font-medium",children:e.name})},{title:"Includes",value:Object(I.jsxs)("ul",{className:"list-disc pl-4",children:[Object(I.jsx)("li",{children:"3 Entities"}),Object(I.jsx)("li",{children:"5 Templates"}),Object(I.jsx)("li",{children:"5 Notifications"})]})}],columns:1}),Object(I.jsx)("button",{className:"text-primary-600 text-sm font-medium underline",children:"View More"})]}),Object(I.jsx)("div",{className:"p-4 absolute top-0 right-0",children:Object(I.jsx)(hi,{checked:n.includes(e.id),onChange:function(t){t.target.checked?a((function(t){return t.filter((function(t){return t!==e.id}))})):a((function(t){return[].concat(Object(v.a)(t),[e.id])}))}})})]},e.id)}))})}),Object(I.jsx)("div",{className:"flex justify-end",children:Object(I.jsx)(Ce,{actions:{title:"Save",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",onClick:function(){}}})})]})})]})},Ni=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"Settings"}),Object(I.jsx)(un,{links:an,children:Object(I.jsxs)(U,{children:[Object(I.jsx)("div",{className:"px-6 pt-6",children:Object(I.jsx)(xn,{title:"Site Settings",actions:[{title:"Edit Site Settings",icon:Object(I.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/site-settings/edit"}]})}),Object(I.jsx)("div",{className:"p-6",children:Object(I.jsx)(Ct,{items:[{title:"Title",value:p.siteSettings.get("title")},{title:"Layout",value:"sidebar"===p.siteSettings.get("layout")?"Nav on side":"Nav on top"}]})})]})})]})},ki=n.p+"static/media/layout-sidebar.55a16042.svg",wi=n.p+"static/media/layout-topbar.ff4c6906.svg",Ai=function(){var e=Ft({initialValues:{title:p.siteSettings.get("title")||"",layout:p.siteSettings.get("layout")||"sidebar"},onSubmit:function(e){p.siteSettings.set("title",e.title),p.siteSettings.set("layout",e.layout),Object(l.e)("".concat("/nzdrc-mockup","/settings/site-settings"))}}),t=Et(e,"layout"),n="Edit Site Settings";return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{pageTitle:n,title:Object(I.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(I.jsx)(Ce,{actions:{icon:Object(I.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/site-settings"}}),Object(I.jsx)("div",{children:n})]})}),Object(I.jsx)(pt,{children:Object(I.jsx)(St,{context:e,children:Object(I.jsxs)(U,{children:[Object(I.jsx)(pn,{title:"Details",subtitle:"Basic details about the site",children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"title",label:"Title",validations:{required:"Title is required"}}),Object(I.jsxs)("div",{children:[Object(I.jsx)(yn,{children:"Layout"}),Object(I.jsxs)("div",{className:"mt-2 flex space-x-4",children:[Object(I.jsx)("button",{className:Object(h.a)("w-[200px] h-[200px] relative rounded-md hover:opacity-80 cursor-pointer","sidebar"===t&&"ring-2 ring-green-500"),onClick:function(){e.setFieldValue("layout","sidebar")},type:"button",children:Object(I.jsx)("img",{src:ki,alt:"Sidebar"})}),Object(I.jsx)("button",{className:Object(h.a)("w-[200px] h-[200px] relative rounded-md hover:opacity-80 cursor-pointer","topbar"===t&&"ring-2 ring-green-500"),onClick:function(){e.setFieldValue("layout","topbar")},type:"button",children:Object(I.jsx)("img",{src:wi,alt:"Topbar"})})]})]})]})})}),Object(I.jsx)("div",{className:"flex items-center justify-end",children:Object(I.jsx)(Ce,{actions:[{title:"Update",intent:"primary",icon:Object(I.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},Ci=[{label:"Apple",value:"apple"},{label:"Banana",value:"banana"},{label:"Orange",value:"orange"}],Ti=function(){var e=Ft({initialValues:{name:"ayy",newsletter:!0,fruit:null,date:null,options:[],dates:[]},onSubmit:function(e){console.log("formData",e)}}),t=Dn("dates",e),n=t.values,i=t.arrayHelpers;return console.log("name",e.values.name),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{title:"New Form Components"}),Object(I.jsx)(pt,{children:Object(I.jsx)(St,{context:e,children:Object(I.jsx)(mt,{children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Mt,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(I.jsx)(zt,{name:"fruit",label:"Fruit",options:Ci,validations:{required:"Fruit is required"}}),Object(I.jsx)(Xn,{name:"newsletter",label:"Newsletter"}),Object(I.jsx)($t,{name:"date",label:"Date",validations:{required:"Date is required"}}),Object(I.jsx)(oi,{children:Object(I.jsxs)(U,{children:[n.map((function(e,t){return Object(I.jsx)("div",{children:Object(I.jsx)(Mt,{name:"options.".concat(t),label:"Option ".concat(t)})},t)})),Object(I.jsx)(Ce,{actions:[{title:"add",onClick:function(){return i.push("")}}]})]})}),Object(I.jsx)(Ce,{actions:[{title:"Submit",intent:"primary",type:"submit"}]})]})})})})]})},Ii=function(e){var t=e.children;return Object(I.jsx)(I.Fragment,{children:t})};console.log("process.env",Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"47b2fb659de09b1f9d18500c4539ef93efd0e340"}));var Si=function(){var e="sidebar"===p.siteSettings.get("layout")?ot:dt,t=p.entityTypes.all();return Object(I.jsx)(i.Suspense,{fallback:null,children:Object(I.jsx)(l.d,{basepath:"/nzdrc-mockup",children:Object(I.jsxs)(e,{path:"/",children:[Object(I.jsx)(l.c,{from:"/",to:"home",noThrow:false}),Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(ht,{path:"/home"}),Object(I.jsx)(ht,{path:"/events"}),Object(I.jsx)(ht,{path:"/users"}),t.map((function(e){return Object(I.jsxs)(Ii,{path:"/".concat(e.key),children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(wt,{path:"/",entityTypeId:e.id}),Object(I.jsx)(Tt,{path:":id",entityTypeId:e.id}),Object(I.jsx)(nn,{path:"/create",entityTypeId:e.id,mode:"create"}),Object(I.jsx)(nn,{path:":id/edit",entityTypeId:e.id,mode:"edit"})]},e.id)})),Object(I.jsxs)(rn,{path:"/settings",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(l.c,{from:"/",to:"entity-types",noThrow:false}),Object(I.jsxs)(Ii,{path:"/entity-types",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(Jn,{path:"/"}),Object(I.jsx)(yi,{path:"/create",mode:"create"}),Object(I.jsx)(yi,{path:":id/edit",mode:"edit"})]}),Object(I.jsxs)(Ii,{path:"/roles",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(Wn,{path:"/"}),Object(I.jsx)(Kn,{path:"/create",mode:"create"}),Object(I.jsx)(Kn,{path:":id/edit",mode:"edit"})]}),Object(I.jsxs)(Ii,{path:"/templates",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(Qn,{path:"/"}),Object(I.jsx)(Gn,{path:"/create",mode:"create"}),Object(I.jsx)(Gn,{path:":id/edit",mode:"edit"})]}),Object(I.jsxs)(Ii,{path:"/notifications",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(fn,{path:"/"}),Object(I.jsx)(qn,{path:"/create",mode:"create"}),Object(I.jsx)(qn,{path:":id/edit",mode:"edit"})]}),Object(I.jsxs)(Ii,{path:"/modules",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(vi,{path:"/"}),Object(I.jsx)(Oi,{path:"/add"})]}),Object(I.jsxs)(Ii,{path:"/site-settings",children:[Object(I.jsx)(Ot,{default:!0}),Object(I.jsx)(Ni,{path:"/"}),Object(I.jsx)(Ai,{path:"/edit"})]})]}),Object(I.jsx)(Ti,{path:"/test"})]})})})},Fi=(n(317),n(318),function(){var e=Object(i.useReducer)((function(){return{}}),{}),t=Object(s.a)(e,2)[1];return Object(i.useEffect)((function(){j.current=t}),[t]),Object(I.jsx)(Si,{})});console.log("build #47b2fb659de09b1f9d18500c4539ef93efd0e340"),c.a.render(Object(I.jsx)(i.Suspense,{fallback:null,children:Object(I.jsx)(Fi,{})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.bb5f1ad9.chunk.js.map