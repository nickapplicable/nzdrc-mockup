(this["webpackJsonpicra-ts"]=this["webpackJsonpicra-ts"]||[]).push([[0],{341:function(e,t,n){},342:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(35),r=n.n(a),c=n(6),s=n(10),l=n(4),o=n(369),d={title:"NZDRC2",layout:"sidebar"},u={siteSettings:d,units:[],values:[],entities:[],entityPermissions:[],fields:[],fieldPermissions:[],actions:[],actionPermissions:[],relations:[],relationPermissions:[],notifications:[],templates:[],roles:[]},b={current:function(){}},j=function(e){return{all:function(t){return t&&u[e]?Array.prototype.filter.call(u[e],t):u[e]||[]},find:function(t){return Array.prototype.find.call(u[e],"function"===typeof t?t:function(e){return e.id===t})},save:function(t){if("object"===typeof(i=t)&&"undefined"===typeof i.id){var n=Object(l.a)(Object(l.a)({},t),{},{id:Object(o.a)(),created:(new Date).toISOString()});return Array.prototype.push.call(u[e],n),f(),b.current(),n}var i,a=!1;return u[e]=u[e].map((function(e){return e.id===t.id?(a=!0,t):e})),a||Array.prototype.push.call(u[e],t),f(),b.current(),t},remove:function(t){u[e]=u[e].filter((function(e){return e.id!==t})),f(),b.current()}}},m={siteSettings:{set:function(e,t){u.siteSettings[e]=t,b.current(),f()},get:function(e){return u.siteSettings[e]}},units:j("units"),values:j("values"),entities:j("entities"),entityPermissions:j("entityPermissions"),fields:j("fields"),fieldPermissions:j("fieldPermissions"),actions:j("actions"),actionPermissions:j("actionPermissions"),relations:j("relations"),relationPermissions:j("relationPermissions"),notifications:j("notifications"),templates:j("templates"),roles:j("roles")},f=function(){return localStorage.setItem("data",JSON.stringify(u))},x=function(){u.siteSettings=d,u.units=[],u.values=[],u.entities=[],u.entityPermissions=[],u.fields=[],u.fieldPermissions=[],u.actions=[],u.actionPermissions=[],u.relations=[],u.relationPermissions=[],u.notifications=[],u.templates=[],u.roles=[],f()};!function(){var e=JSON.parse(localStorage.getItem("data")||"null");e&&(u.siteSettings=e.siteSettings||{},u.units=e.units||[],u.values=e.values||[],u.entities=e.entities||[],u.entityPermissions=e.entityPermissions||[],u.fields=e.fields||[],u.fieldPermissions=e.fieldPermissions||[],u.actions=e.actions||[],u.actionPermissions=e.actionPermissions||[],u.relations=e.relations||[],u.relationPermissions=e.relationPermissions||[],u.notifications=e.notifications||[],u.templates=e.templates||[],u.roles=e.roles||[])}();var v=m,g=n(17),h=n(3),O=n.p+"static/media/workflow-logo-white-text.c64a9d8e.svg",p=n.p+"static/media/workflow-logo.b7adb00c.svg",y=n(19),N=n(13),k=n(12),w=n.n(k),A=n(18),I=n(365),C=n(371),S=n(1),E=function(e){e.show;var t=e.className,n=e.children;return Object(S.jsx)(I.a.div,{className:Object(h.a)(t,"relative z-40"),style:{originY:0},variants:{hidden:{y:-24},visible:{y:0}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:n})},T=function(e){var t=e.show,n=e.className,i=e.children;return Object(S.jsx)(C.a,{children:t&&Object(S.jsx)(I.a.div,{className:Object(h.a)(n,"relative z-40"),style:{originY:0},variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:i})})},D=[];var P=function(e){return new Promise((function(t){var n=document.createElement("div");document.body.appendChild(n),D.push(n);a.render(Object(S.jsx)(e,{resolve:function(e){return t(e)},close:function(){a.unmountComponentAtNode(n),D.splice(D.findIndex((function(e){return e===n})),1),document.contains(n)&&document.body.removeChild(n)}}),n)}))},M=function(e){var t=e.className;return Object(S.jsx)("div",{className:Object(h.a)("border-t border-black dark:border-white border-opacity-10 dark:border-opacity-10",t)})},z=function(e){var t=e.show,n=e.style,a=e.children,r=Object(i.useState)(t),s=Object(c.a)(r,2),o=s[0],d=s[1],u=Object(i.useState)(!1),b=Object(c.a)(u,2),j=b[0],m=b[1],f=Object(i.useState)(t),x=Object(c.a)(f,2),v=x[0],g=x[1];return Object(i.useEffect)((function(){t?(m(!0),setTimeout((function(){return g(!0)}),1),setTimeout((function(){return m(!1)}),400)):(m(!0),setTimeout((function(){return g(!1)}),1),setTimeout((function(){return m(!1)}),400))}),[t]),Object(S.jsx)(C.a,{children:v&&Object(S.jsx)(I.a.div,{style:Object(l.a)({originY:0,padding:"0.5rem",margin:"-0.5rem",overflow:j?"hidden":"visible"},n),variants:{hidden:{height:0},visible:{height:"auto"}},transition:{type:"tween",ease:"easeOut",duration:.3},onAnimationComplete:function(){return d(!1)},initial:o?"visible":"hidden",animate:"visible",exit:"hidden",children:a})})},V=n(370),F=function(e){return void 0!==e&&""!==e&&!1!==e&&null!==e},R=function(e){return"string"===typeof e.to},B=function(e){return"function"===typeof e.onClick},H=function(e){return"submit"===e.type},L=function(e){return e.actions instanceof Array},G=function(e){return!!e.menu},Q=function(e){return"undefined"!==typeof e.to},q=function(e){return"undefined"!==typeof e.url},W=function(e){return"string"===typeof e.to},X=function(e){return"function"===typeof e.onClick},Y={0:"",1:"pt-1",2:"pt-2",3:"pt-3",4:"pt-4",6:"pt-6",8:"pt-8"},U=function(e){var t=e.space,n=void 0===t?6:t,a=e.dividers,r=e.className,c=e.children,s=i.Children.toArray(c).reduce((function(e,t,r){var c,s,o=null===t||void 0===t?void 0:t.type,d=(null===t||void 0===t||null===(c=t.props)||void 0===c?void 0:c.children)||null,u=Object(V.a)(["children","show"],t.props)||null,b=(null===t||void 0===t||null===(s=t.props)||void 0===s?void 0:s.show)||null;return o===i.Fragment?e.concat(d):[].concat(Object(g.a)(e),[o===z?Object(S.jsx)(z,Object(l.a)(Object(l.a)({show:b},u),{},{children:Object(S.jsxs)("div",{className:Object(h.a)(r>0&&Y[n||0]),children:[a&&r>0&&Object(S.jsx)(M,{className:Y[n||0]}),d]})})):t])}),[]);return Object(S.jsx)("div",{className:Object(h.a)("flex flex-col",r),children:s.filter(F).map((function(e,t){return e.type===z?Object(S.jsx)(i.Fragment,{children:e},t):Object(S.jsxs)("div",{className:Object(h.a)(t>0&&Y[n||0]),children:[a&&t>0&&Object(S.jsx)(M,{className:Y[n||0]}),e]},t)}))})},K=n(5),J=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var n;t.current&&e&&("function"===typeof(null===(n=t.current)||void 0===n?void 0:n.focus)&&setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),100))}),[e]),t},Z={xs:"px-2.5 py-1.5 text-xs leading-4",sm:"px-3 py-2 text-sm leading-4",md:"px-4 py-2 text-sm leading-5",lg:"px-4 py-2 text-base leading-6",xl:"px-6 py-3 text-base leading-6",inline:""},_={none:"",sm:"rounded-sm",rounded:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},$={primary:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0 border-primary-500","bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-500 active:bg-primary-700 dark:active:bg-primary-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-primary-300 dark:focus:ring-primary-300 dark:ring-offset-gray-800","disabled:opacity-50")},secondary:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150","disabled:cursor-not-allowed","border-gray-300 focus:border-primary-500 dark:border-gray-600 dark:focus:border-primary-500","text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white","bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750","focus:outline-none dark:focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-500","disabled:opacity-50")},light:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-gray-800 dark:text-white","border-0 border-gray-500","bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500 active:bg-gray-300 dark:active:bg-gray-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-300 dark:ring-offset-gray-800","disabled:opacity-50")},save:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0","bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-500 hover:bg-emerald-400 dark:hover:bg-emerald-400 active:bg-emerald-600 dark:active:bg-emerald-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-emerald-300 dark:focus:ring-emerald-700")},danger:{span:"inline-flex",button:Object(h.a)("inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased","disabled:cursor-not-allowed","text-white dark:text-white","border-0","bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-500 active:bg-red-700 dark:active:bg-red-700","focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-red-300 dark:focus:ring-red-300")},menu:{span:"flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:bg-primary-200","text-gray-400 hover:text-gray-500 focus:text-gray-500 dark:hover:text-gray-300","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400")},"menu-danger":{span:"inline-flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:bg-red-200","text-red-400 hover:text-red-500 focus:text-red-500 dark:hover:text-red-300","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-red-800 dark:focus:bg-red-900 dark:hover:text-red-400")},"sidebar-menu":{span:"flex",button:Object(h.a)("w-8 h-8 inline-flex items-center justify-center rounded-full","bg-transparent hover:bg-gray-700 focus:bg-gray-600","text-gray-400 hover:text-gray-300 focus:text-gray-200","focus:outline-none focus:ring-2 focus:ring-primary-500","transition ease-in-out duration-100","dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400")},"sub-menu":{span:"flex",button:"flex items-center justify-between text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750"},borderless:{span:"inline hover",button:Object(h.a)("inline text-left border border-transparent hover:border-gray-300 focus:bg-gray-50 transition ease-in-out duration-150 dark:hover:border-gray-600 dark:focus:bg-gray-750","focus:border-primary-500 dark:focus:border-primary-500","focus:outline-none focus:ring-1 focus:ring-primary-500")},invisible:{span:"inline",button:Object(h.a)("inline-flex items-center text-left border border-transparent","hover:bg-gray-800 dark:hover:bg-gray-100 bg-opacity-10 hover:bg-opacity-10 dark:hover:bg-opacity-10","focus:outline-none focus:ring-2 focus:ring-primary-500")},none:{span:"",button:""}},ee=Object(i.forwardRef)((function(e,t){var n=e.onClick,i=e.type,a=void 0===i?"button":i,r=e.intent,c=void 0===r?"secondary":r,s=e.size,o=void 0===s?"md":s,d=e.rounded,u=void 0===d?"rounded":d,b=e.disabled,j=e.isLoading,m=e.className,f=e.as,x=void 0===f?"button":f,v=e.children,g=x,O={};return"button"===x&&(O.type=a),Object(S.jsx)("span",{className:Object(h.a)("inline-flex select-none",$[c].span,_[u]),ref:t,children:Object(S.jsxs)(g,Object(l.a)(Object(l.a)({},O),{},{className:Object(h.a)("focus:outline-none",$[c].button,Z[o],_[u],m),onClick:n,disabled:b||j||!1,children:[j&&Object(S.jsx)(Le,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),v]}))})})),te=function(e){var t=e.resolve,n=e.close,a=e.title,r=e.message,s=e.buttonLabel,l=void 0===s?"Yes":s,o=e.dismissable,d=void 0===o||o,u=e.intent,b=void 0===u?"danger":u,j=e.onAccept,m=Object(i.useState)(!0),f=Object(c.a)(m,2),x=f[0],v=f[1],g=Object(i.useState)(!1),O=Object(c.a)(g,2),p=O[0],y=O[1],N=Object(i.useRef)(null),k=J(),I=function(e){v(!1),t(e),setTimeout((function(){n()}),300)},C=function(){var e=Object(A.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=9;break}return y(!0),e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:return e.next=6,j();case 6:I(!0),e.next=10;break;case 9:I(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(T,{show:x,children:Object(S.jsx)("div",{className:"fixed inset-0 w-screen h-screen flex p-4 justify-center bg-black bg-opacity-50 overflow-y-auto z-60 backdrop-filter backdrop-grayscale",onClick:function(e){e.target===N.current&&d&&!p&&I(!1)},ref:N,children:Object(S.jsx)(E,{show:x,className:"w-full pointer-events-none sm:flex sm:justify-center sm:items-start",children:Object(S.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-xl sm:max-w-lg sm:w-full pointer-events-auto",ref:d?N:void 0,children:[Object(S.jsx)("div",{className:"bg-white dark:bg-gray-700 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(S.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(S.jsx)("div",{className:Object(h.a)("mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",{"bg-red-100 text-red-600":"danger"===b,"bg-indigo-100 text-indigo-600":"primary"===b}),children:Object(S.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(S.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(S.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:a}),r&&Object(S.jsx)("div",{className:"mt-2 text-sm leading-5 text-gray-500 dark:text-gray-300",children:r})]})]})}),Object(S.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-750 px-4 py-3 sm:px-6 flex flex-col-reverse sm:flex-row justify-end sm:space-x-3",children:[Object(S.jsx)("span",{className:Object(h.a)($.danger.span,_.md),children:Object(S.jsx)("button",{onClick:function(){return I(!1)},type:"button",className:Object(h.a)($.secondary.button,Z.md,_.md,"w-full sm:w-auto justify-center"),disabled:p,tabIndex:1,children:"Cancel"})}),Object(S.jsx)("span",{className:Object(h.a)($[b].span,_.md),children:Object(S.jsx)("button",{onClick:C,type:"button",className:Object(h.a)($[b].button,Z.md,_.md,"w-full sm:w-auto justify-center mb-3 sm:mb-0"),disabled:p,ref:k,tabIndex:2,children:Object(S.jsxs)("div",{className:"flex items-center",children:[p&&Object(S.jsx)(Le,{className:"animate-spin -ml-1 mr-3 w-4 h-4"}),l]})})})]})]})})})})},ne=function(){var e=Object(A.a)(w.a.mark((function e(t){var n,i,a,r,c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,i=t.message,a=t.intent,r=t.buttonLabel,c=t.onAccept,e.next=3,P((function(e){var t=e.resolve,s=e.close;return Object(S.jsx)(te,{resolve:t,close:s,title:n,message:i,buttonLabel:r,onAccept:c,dismissable:!0,intent:a})}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ie={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"};function ae(e){var t=e.close,n=e.resolve,a=e.children,r=e.size,s=void 0===r?"md":r,l=e.mode,o=void 0===l?"":l,d=e.dismissable,u=void 0===d||d,b=Object(i.useState)(!0),j=Object(c.a)(b,2),m=j[0],f=j[1],x=Object(i.useCallback)((function(e){n(e),f(!1),setTimeout((function(){t()}),500)}),[t,n]),v=Object(i.useRef)(null);return Object(S.jsx)(C.a,{children:m&&Object(S.jsx)(I.a.div,{style:{originY:0},variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(S.jsx)("div",{className:Object(h.a)("fixed z-40 inset-0 overflow-hidden",o),onClick:function(e){e.target===v.current&&u&&x(!1)},ref:v,children:Object(S.jsxs)("div",{className:"absolute z-40 inset-0 overflow-hidden",children:[Object(S.jsx)("div",{className:"absolute z-40 inset-0 bg-black bg-opacity-50 transition-opacity backdrop-filter backdrop-grayscale",onClick:function(){return x(!1)}}),Object(S.jsx)("section",{className:Object(h.a)("absolute z-40 inset-y-0 right-0 w-full flex",ie[s]),children:Object(S.jsx)(I.a.div,{className:"pointer-events-none flex-1",variants:{hidden:{x:"100%"},visible:{x:"0%"}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(S.jsx)("div",{className:"pointer-events-auto h-full w-full",children:a(x)})})})]})})})})}function re(e){var t=e.dismissable,n=e.size,i=e.mode,a=void 0===i?"":i,r=e.children;return P((function(e){var i=e.resolve,c=e.close;return Object(S.jsx)(ae,{resolve:i,close:c,children:r,dismissable:t,size:n,mode:a})}))}var ce=document.createElement("div");ce.className="flex flex-col justify-start fixed inset-0 pointer-events-none z-50",document.body.appendChild(ce);var se=n(113),le=(n(353),n(354),n(355),n(356)),oe=[{name:"New Year's Day",date:new Date("1 Jan 2021")},{name:"Day after New Year's Day",date:new Date("4 Jan 2021")},{name:"Waitangi Day",date:new Date("8 Feb 2021")},{name:"Good Friday",date:new Date("2 Apr 2021")},{name:"Easter Monday",date:new Date("5 Apr 2021")},{name:"Anzac Day",date:new Date("26 Apr 2021")},{name:"Queen's Birthday",date:new Date("7 Jun 2021")},{name:"Labour Day",date:new Date("25 Oct 2021")},{name:"Christmas Day",date:new Date("27 Dec 2021")},{name:"Boxing Day",date:new Date("28 Dec 2021")},{name:"New Year's Day",date:new Date("3 Jan 2022")},{name:"Day after New Year's Day",date:new Date("4 Jan 2022")},{name:"Waitangi Day",date:new Date("7 Feb 2022")},{name:"Good Friday",date:new Date("15 Apr 2022")},{name:"Easter Monday",date:new Date("18 Apr 2022")},{name:"Anzac Day",date:new Date("25 Apr 2022")},{name:"Queen's Birthday",date:new Date("6 Jun 2022")},{name:"Matariki",date:new Date("24 Jun 2022")},{name:"Labour Day",date:new Date("24 Oct 2022")},{name:"Christmas Day",date:new Date("26 Dec 2022")},{name:"Boxing Day",date:new Date("27 Dec 2022")}],de=(Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"c5bd1c4b67e365c3b7ce44e255c20046cbad2910"}).REACT_APP_ENV,Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"c5bd1c4b67e365c3b7ce44e255c20046cbad2910"}).REACT_APP_SITE||"dev"),ue=n(367),be=(n(350),n(372),n(181)),je=n(182),me=n(168),fe=n(183);function xe(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(i.useRef)((function(){})),r=Object(i.useCallback)((function(){t.current&&n.current&&(a.current&&a.current(),a.current=Object(be.a)(t.current,n.current,Object(l.a)(Object(l.a)({},e),{},{modifiers:[je.a,me.a,fe.a].concat(Object(g.a)((null===e||void 0===e?void 0:e.modifiers)||[]))})).destroy)}),[t,n,a,e]);return Object(i.useMemo)((function(){return[function(e){t.current=e,r()},function(e){n.current=e,r()}]}),[t,n,r])}var ve=n(366),ge=n(169),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(!1),n=Object(c.a)(t,2),a=n[0],r=n[1],s=Object(i.useState)("ignore-dismissable-".concat(Math.floor(999999*Math.random()))),l=Object(c.a)(s,1),o=l[0],d=Object(i.useCallback)((function(){e.onClose&&e.onClose(),r(!1)}),[e]),u=Object(i.useState)(a),b=Object(c.a)(u,2),j=b[0],m=b[1];Object(i.useEffect)((function(){a!==j&&(e.onOpen&&a&&e.onOpen(),m(a))}),[a,e,j]),Object(i.useEffect)((function(){var e=function(e){return"Escape"===e.key&&r(!1)};return a?window.addEventListener("keyup",e):window.removeEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[a,d]);var f=Object(ge.a)((function(e){r(!1)}),{ignoreClass:o});return{open:a,setOpen:r,ignoreClass:o,ref:f}},Oe=function(e){var t=e.placement,n=void 0===t?"bottom-end":t,i=e.className,a=e.children,r=e.menu,s=e.maxWidth,l=xe({placement:n,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,0]}}]}),o=Object(c.a)(l,2),d=o[0],u=o[1],b=he(),j=b.open,m=b.setOpen,f=b.ignoreClass,x=b.ref;return Object(S.jsxs)("div",{className:Object(h.a)("block text-left",i),children:[Object(S.jsx)("div",{ref:d,className:f,children:a({onClick:function(){return m((function(e){return!e}))}})}),Object(S.jsx)("div",{ref:u,className:"z-20",children:Object(S.jsx)("div",{ref:x,children:Object(S.jsx)(C.a,{children:j&&Object(S.jsx)(I.a.div,{className:Object(h.a)(i,"relative z-60"),style:{originY:0},variants:{hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.2},initial:"hidden",animate:"visible",exit:"hidden",children:Object(S.jsx)("div",{className:"mt-2 rounded-md shadow-lg focus:outline-none",style:{maxWidth:s?"number"===typeof s?s+"px":s:"auto"},children:Object(S.jsx)("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 whitespace-nowrap",children:r})})})})})})]})},pe={primary:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:bg-gray-750 h-10",secondary:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:focus:bg-gray-750 active:bg-gray-200 dark:active:bg-gray-700 h-10",save:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-green-300 hover:bg-opacity-25 dark:hover:bg-green-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-green-100 hover:text-green-600 font-normal dark:text-green-200 dark:hover:bg-opacity-50 dark:hover:text-green-100 dark:focus:bg-green-400 active:bg-green-200 dark:active:bg-green-300 h-10",danger:"rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-red-100 hover:text-red-600 font-normal dark:text-red-200 dark:hover:bg-opacity-50 dark:hover:text-red-100 dark:focus:bg-red-400 active:bg-red-200 dark:active-bg-red-300 h-10",submit:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal h-10",cancel:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",menu:"block","sidebar-menu":"","sub-menu":"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750",anchor:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",borderless:"block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal",invisible:"",none:"",light:"","menu-danger":""},ye=function(e){var t=e.action;if(!F(t))return null;var n=t.iconSide||"left";return Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[Object(S.jsxs)("div",{className:"flex items-center",children:["left"===n&&t.icon?Object(S.jsx)("span",{className:Object(h.a)(t.title?"-ml-1 mr-3 opacity-75":"-ml-1 -mr-1"),children:t.icon}):null,t.title]}),"right"===n&&t.icon?Object(S.jsx)("span",{className:"-mr-1 ml-2",children:t.icon}):null]})},Ne=function e(t){var n=t.actions,a=t.intent,r=t.placement,l=void 0===r?"bottom-end":r,o=t.offset,d=void 0===o?10:o,u=t.hoverable,b=void 0!==u&&u,j=t.disabled,m=void 0!==j&&j,f=t.size,x=t.rounded,v=void 0===x?"rounded":x,O=t.className,p=t.children,y=xe({placement:l,strategy:"fixed",modifiers:[{name:"offset",options:{offset:d instanceof Array?d:[0,d]}}]}),N=Object(c.a)(y,2),k=N[0],w=N[1],A=Object(i.useState)(!1),E=Object(c.a)(A,2),T=E[0],D=E[1],P=Object(i.useState)(),M=Object(c.a)(P,2),z=M[0],V=M[1],Q=n.filter(F)[0]instanceof Array?n.filter(F).reduce((function(e,t,n){return 0===n?Object(g.a)(t):[].concat(Object(g.a)(e),[{divider:!0}],Object(g.a)(t.filter(F)))}),[]):n.filter(F),q=Object(i.useRef)(!1);return Object(S.jsx)("div",{className:Object(h.a)("block text-left w-full",O),onMouseOver:function(){b&&(D(!0),z&&clearTimeout(z))},onMouseOut:function(){b&&V(setTimeout((function(){D(!1)}),100))},children:Object(S.jsx)(ve.a,{children:function(t){var n=t.open;return n!==q.current&&(q.current=n,n&&window.dispatchEvent(new Event("resize"))),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:Object(h.a)(a&&$[a].span,_[v]),children:Object(S.jsx)(ve.a.Button,{className:Object(h.a)(a&&$[a].button,f&&Z[f],_[v]),disabled:m,ref:k,children:p})}),Object(S.jsx)("div",{ref:w,className:"z-20 whitespace-nowrap",children:Object(S.jsx)(C.a,{children:(n||T)&&!m&&Object(S.jsx)(I.a.div,{style:{originY:0},variants:{hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1}},transition:{type:"tween",ease:"easeOut",duration:.3},initial:"hidden",animate:"visible",exit:"hidden",children:Object(S.jsx)(ve.a.Items,{static:!0,className:"max-w-screen origin-top-right bg-white dark:bg-gray-900 rounded-md shadow-lg outline-none",children:Object(S.jsx)("div",{className:"p-2 rounded-md ring-1 ring-black ring-opacity-5",children:Q.filter(F).map((function(t,n){return R(t)?Object(S.jsx)(ve.a.Item,{disabled:t.disabled,children:function(e){var i=e.active;return Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(t.to),className:Object(h.a)(pe[t.intent||"secondary"],"flex items-center",{"ring-2 ring-indigo-500 hover:ring-0":i}),state:t.state,replace:t.replace,children:Object(S.jsx)(ye,{action:t})},n)}},n):B(t)?!t.disabled&&Object(S.jsx)(ve.a.Item,{disabled:t.disabled,onClick:function(){console.log("menu.item click")},children:function(e){var i=e.active;return Object(S.jsx)("button",{onClick:function(e){t.disableDismiss&&e.preventDefault(),e.stopPropagation(),t.onClick(e)},className:Object(h.a)(pe[t.intent||"secondary"],{"ring-2 ring-indigo-500 hover:ring-0":i}),type:"button",children:Object(S.jsx)(ye,{action:t})},n)}},n):H(t)?!t.disabled&&Object(S.jsx)(ve.a.Item,{disabled:t.disabled,children:function(e){var i=e.active;return Object(S.jsx)("button",{className:Object(h.a)(pe[t.intent||"secondary"],{"ring-2 ring-indigo-500 hover:ring-0":i}),type:"submit",children:Object(S.jsx)(ye,{action:t})},n)}},n):L(t)?Object(S.jsx)(e,{actions:t.actions,intent:t.intent||"sub-menu",placement:t.placement,offset:t.offset||[-4,-1],hoverable:t.hoverable,children:Object(S.jsx)(ve.a.Item,{disabled:t.disabled,children:function(e){var n=e.active;return Object(S.jsx)("div",{className:Object(h.a)(pe[t.intent||"secondary"],"flex items-center",{"ring-2 ring-indigo-500 hover:ring-0":n}),children:Object(S.jsx)(ye,{action:t})})}})},n):G(t)?Object(S.jsx)(Oe,{menu:t.menu,placement:t.placement,className:t.className,maxWidth:t.maxWidth,children:function(e){var n=e.onClick;return Object(S.jsx)("span",{className:"block",children:Object(S.jsx)(ee,{intent:t.intent||"secondary",onClick:n,children:Object(S.jsx)(ye,{action:t})})})}},n):function(e){return!0===(null===e||void 0===e?void 0:e.divider)}(t)?Object(S.jsx)("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"},n):null}))})})})})})]})}})})},ke={0:{wrapper:"",item:""},1:{wrapper:"-ml-1 -mt-1",item:"pl-1 pt-1"},2:{wrapper:"-ml-2 -mt-2",item:"pl-2 pt-2"},3:{wrapper:"-ml-3 -mt-3",item:"pl-3 pt-3"},4:{wrapper:"-ml-4 -mt-4",item:"pl-4 pt-4"},6:{wrapper:"-ml-6 -mt-6",item:"pl-6 pt-6"},8:{wrapper:"-ml-8 -mt-8",item:"pl-8 pt-8"}},we=function(e){var t=e.space,n=void 0===t?3:t,a=e.children,r=e.className,c=i.Children.toArray(a);return Object(S.jsx)("div",{className:Object(h.a)("flex flex-wrap",ke[n||0].wrapper,r),children:c.map((function(e,t){return Object(S.jsx)("div",{className:Object(h.a)("flex items-center",ke[n||0].item),children:e},t)}))})},Ae=function(e){var t=e.action;return F(t)?(B(t)||H(t))&&t.isLoading?Object(S.jsx)(S.Fragment,{children:t.title}):Object(S.jsxs)(S.Fragment,{children:["left"!==t.iconSide&&t.iconSide||!t.icon?null:Object(S.jsx)("span",{className:Object(h.a)(t.title?"-ml-1 mr-2":""),children:t.icon}),t.title,"right"===t.iconSide&&t.icon?Object(S.jsx)("span",{className:"-mr-1 ml-2",children:t.icon}):null]}):null},Ie=function(e){var t=e.actions,n=void 0===t?[]:t,i=e.className,a=(n instanceof Array?n:[n]).filter(F);return Object(S.jsx)(we,{className:Object(h.a)("inline-flex",i),children:a.map((function(e,t){return R(e)?Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(e.to),className:e.className,state:e.state,replace:e.replace,children:Object(S.jsx)(ee,{intent:e.intent,size:e.size,rounded:e.rounded,children:Object(S.jsx)(Ae,{action:e})})},t):B(e)?Object(S.jsx)(ee,{intent:e.intent,onClick:function(t){t.stopPropagation(),e.onClick&&e.onClick(t)},disabled:e.disabled||e.isLoading||!1,className:e.className,type:e.type,isLoading:e.isLoading,size:e.size,rounded:e.rounded,children:Object(S.jsx)(Ae,{action:e})},t):H(e)?Object(S.jsx)(ee,{intent:e.intent,disabled:e.disabled||e.isLoading||!1,className:e.className,type:e.type,isLoading:e.isLoading,size:e.size,rounded:e.rounded,children:Object(S.jsx)(Ae,{action:e})},t):L(e)?Object(S.jsx)(Ne,{actions:e.actions,intent:e.intent||"secondary",placement:e.placement,offset:e.offset,hoverable:e.hoverable,className:e.className,disabled:e.disabled,size:e.size||"md",rounded:e.rounded,children:Object(S.jsx)(Ae,{action:e})},t):G(e)?Object(S.jsx)(Oe,{menu:e.menu,placement:e.placement,className:e.className,maxWidth:e.maxWidth,children:function(t){var n=t.onClick;return Object(S.jsx)(ee,{intent:e.intent,disabled:e.disabled,size:e.size,onClick:n,children:Object(S.jsx)(Ae,{action:e})})}},t):function(e){return!!e.render}(e)?Object(S.jsx)("div",{children:e.render},t):null}))})},Ce=function(e){var t=e.title,n=e.className,a=e.children,r=Object(i.useRef)(null),s=Object(i.useRef)(void 0),l=Object(i.useState)(!1),o=Object(c.a)(l,2),d=o[0],u=o[1],b=Object(i.useCallback)((function(){if(r.current){var e=r.current,t=e.clientWidth,n=e.clientHeight,i=e.scrollWidth,a=e.scrollHeight;u(a>n||i>t)}}),[]);return Object(i.useEffect)((function(){var e=function(){s.current&&clearTimeout(s.current),s.current=setTimeout(b,500)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[b]),Object(i.useEffect)(b,[b]),Object(S.jsx)("span",{ref:r,className:Object(h.a)("overflow-ellipsis overflow-hidden",n),title:d?t:"",children:a})},Se=n(373),Ee={1:"col-span-1",2:"col-span-2",3:"col-span-3",4:"col-span-4",5:"col-span-5",6:"col-span-6",7:"col-span-7",8:"col-span-8",9:"col-span-9",10:"col-span-10",11:"col-span-11",12:"col-span-12"},Te={sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"},De=function(e){return function(t){return e.reduce((function(e,n){return e||t.visibility===n}),!1)}},Pe=function(e){var t=e.schema,n=e.items,a=e.getKey,r=void 0===a?function(e,t){return t}:a,s=e.isStriped,l=void 0!==s&&s,o=e.className,d=function(e){var t=Object(i.useMemo)((function(){return e.map((function(e){return window.matchMedia(e)}))}),[e]),n=Object(i.useCallback)((function(){return t.map((function(e){return e.matches}))}),[t]),a=Object(i.useState)(n),r=Object(c.a)(a,2),s=r[0],l=r[1];return Object(i.useEffect)((function(){var e=function(){return l(n)};return t.forEach((function(t){return t.addListener(e)})),function(){return t.forEach((function(t){return t.removeListener(e)}))}}),[n,t]),s}(Object.values(Te).map((function(e){return"(min-width: ".concat(e,")")}))),u=Object(c.a)(d,5),b={sm:u[0],md:u[1],lg:u[2],xl:u[3],xxl:u[4]},j=t.cols.filter(F).filter(De([void 0,"all","screen-only"])).filter((function(e){return!e.responsive||b[e.responsive]})),m=j.map((function(e){return e.width||"minmax(0, auto)"})).join(" "),f=t.actions;return Object(S.jsx)("div",{className:Object(h.a)(o),children:Object(S.jsxs)("div",{className:"grid border-t border-gray-200 dark:border-gray-600",style:{gridTemplateColumns:F(f)?m.concat(" minmax(auto, max-content)"):m},children:[j.map((function(e,t){return Object(S.jsx)("div",{className:Object(h.a)("px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300",e.className),children:e.title},t)})),F(f)&&Object(S.jsx)("div",{className:"px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300"}),n.map((function(e,t){return Object(S.jsxs)("div",{className:"contents group",children:[j.map((function(n,i){return Object(S.jsx)("div",{className:Object(h.a)("min-h-11 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600",0===i&&"font-medium",!n.truncate&&"px-5 py-4",l&&t%2&&"bg-gray-50 dark:bg-gray-750",n.className),children:n.truncate?Object(S.jsx)(Ce,{title:Object(Se.a)(n.value(e,t)),className:"px-6 py-4",children:n.value(e,t)}):n.value?n.value(e,t):null},i)})),(null===f||void 0===f?void 0:f.length)?Object(S.jsx)("div",{className:Object(h.a)("px-5 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600",l&&t%2&&"bg-gray-50 dark:bg-gray-750"),children:Object(S.jsx)(Ie,{actions:f(e,t),className:"flex-nowrap"})}):null]},r(e,t))})),0===n.length&&Object(S.jsx)("div",{className:"contents group",children:Object(S.jsx)("div",{className:Object(h.a)(Ee[j.length+((null===f||void 0===f?void 0:f.length)?1:0)],"px-6 py-3","whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 select-none"),children:"No items"})})]})})},Me=function(e,t){for(var n=e.split(" "),i=function(e){var i=t[e];n.find((function(e){return i.pattern.test(e)}))||n.push(i.defaultValue)},a=0;a<t.length;a++)i(a);return n.join(" ")};function ze(e){return!isNaN(e.valueOf())}var Ve=function(e){return e instanceof Date?e:new Date(e||"")},Fe=function(e){var t;return null===(t=oe.find((function(t){return Object(le.a)(t.date,e)})))||void 0===t?void 0:t.name},Re=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},Be=function(e){return e.trim().replace(/\s/g,"-").toLowerCase()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Me(e,[{pattern:/^w-\d+$/,defaultValue:"w-5"},{pattern:/^h-\d+$/,defaultValue:"h-5"}])},Le=function(e){var t=e.className;return Object(S.jsxs)("svg",{className:He(Object(h.a)(t)),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(S.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(S.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},Ge=["size","spin","className"],Qe=function(e){e.size,e.spin;var t=e.className,n=void 0===t?"":t,i=Object(y.a)(e,Ge);return Object(S.jsx)("div",Object(l.a)(Object(l.a)({className:"flex flex-col justify-center items-center p-2 ".concat(n)},i),{},{children:Object(S.jsx)(Le,{className:"w-10 h-10 animate-spin"})}))};var qe=function(e,t){var n=Object(i.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(i){return t}})),a=Object(c.a)(n,2),r=a[0],s=a[1];return[r,function(t){var n=t instanceof Function?t(r):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}]},We=function(e){var t=e.message,n=e.enabled,a=void 0===n||n,r=e.intent,s=void 0===r?"light":r,l=e.children,o=Object(i.useRef)(null),d=Object(i.useState)(!1),u=Object(c.a)(d,2),b=u[0],j=u[1],m=Object(i.useState)(0),f=Object(c.a)(m,2),x=f[0],v=f[1],g=Object(i.useState)(0),O=Object(c.a)(g,2),p=O[0],y=O[1];return Object(S.jsxs)("div",{ref:o,onMouseOver:function(){return o.current&&a?(v(o.current.offsetLeft+o.current.offsetWidth),y(o.current.offsetTop),void j(!0)):null},onMouseOut:function(){j(!1)},children:[Object(S.jsx)("div",{children:l}),Object(S.jsx)("div",{className:"flex items-center absolute z-10 ml-6 w-80 pointer-events-none",style:{left:"".concat(x,"px"),top:"".concat(p,"px")},children:Object(S.jsx)(C.a,{children:b&&Object(S.jsx)(I.a.div,{style:{originX:0},variants:{hidden:{opacity:0,x:-30},visible:{opacity:1,x:0}},transition:{type:"tween",ease:"easeOut",duration:.1},initial:"hidden",animate:"visible",exit:"hidden",children:Object(S.jsx)("div",{className:Object(h.a)("rounded px-3 py-2 text-sm font-medium shadow-lg",{"bg-white text-gray-900 dark:bg-primary-900 dark:text-white":"light"===s,"bg-primary-900 text-white dark:bg-primary-200 dark:text-primary-900 antialiased":"dark"===s}),children:t})})})})]})},Xe={primary:{wrapper:"bg-gray-800 dark:bg-gray-900 antialiased",link:{active:"text-white bg-gradient-to-r from-primary-600 to-primary-500 text-white dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800",inactive:"text-gray-200 hover:text-white hover:bg-gray-700 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800"}},secondary:{wrapper:"bg-white dark:bg-gray-700 antialiased shadow",link:{active:"text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800",inactive:"text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"}},white:{wrapper:"bg-white antialiased shadow",link:{active:"text-gray-900 bg-gray-50 focus:bg-gray-200",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"}}},Ye=function(e,t,n){return function(i){var a=i.isCurrent,r=i.isPartiallyCurrent;return(e.exact?a:r)?{className:Object(h.a)("group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150",t&&"justify-center",Xe[n].link.active)}:{className:Object(h.a)("group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150",t&&"justify-center",Xe[n].link.inactive)}}},Ue=function(e){var t=e.route,n=e.min,i=e.intent,a=e.children;return q(t)?Object(S.jsxs)("a",{href:t.url,className:Object(h.a)("group flex items-center justify-center py-2 px-2.5 text-sm leading-5 rounded focus:outline-none transition ease-in-out duration-150",Xe[i].link.inactive,n&&"justify-center"),target:"_blank",rel:"noopener noreferrer",children:[Object(S.jsx)("div",{className:"flex items-center justify-center",children:a}),!n&&Object(S.jsx)("div",{className:"flex-1 flex justify-end",children:Object(S.jsx)(K.r,{className:"opacity-25 w-4 h-4"})})]}):Q(t)?Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(t.to),getProps:Ye(t,n,i),children:a}):null},Ke=function e(t){var n=t.link,i=t.min,a=t.intent,r=Object(s.f)(),c=!!Q(n)&&0===r.pathname.indexOf(n.to);return Object(S.jsxs)("div",{children:[n&&Object(S.jsx)(We,{message:n.tooltip||n.title,enabled:i,children:Object(S.jsxs)(Ue,{route:n,min:i,intent:a,children:[Object(S.jsx)("div",{className:Object(h.a)("opacity-75 pointer-events-none",i?"mr-0":"mr-3"),children:n.icon}),!i&&n.title]})}),c&&n.children&&n.children.length>0&&Object(S.jsx)("div",{className:"mt-1",children:Object(S.jsx)("div",{className:"p-1 rounded-md space-y-1 border-2 border-gray-700",children:n.children.filter((function(e){return e})).map((function(t,n){return Object(S.jsx)(e,{link:t,intent:a,min:i},n)}))})})]})},Je=function(e){var t=e.header,n=e.footer,i=e.links,a=e.intent,r=e.name,s=e.className,l=qe("sidebar-".concat(r,"-min"),!1),o=Object(c.a)(l,2),d=o[0],u=o[1];return Object(S.jsxs)("div",{className:Object(h.a)("flex flex-col h-screen relative",d?"w-16":"w-64",Xe[a].wrapper,s),children:[Object(S.jsx)("div",{className:Object(h.a)("absolute right-0 top-0 h-full -mr-2 w-4 z-40 group",{"cursor-right":d,"cursor-left":!d}),onClick:function(){return u((function(e){return!e}))},children:Object(S.jsx)("div",{className:"group-hover:opacity-100 opacity-0 transition-opacity ease-in-out duration-200 w-1 h-full ml-1.5 bg-primary-600"})}),Object(S.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto overflow-x-visible",children:[t&&t(d),Object(S.jsx)("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:i.filter(F).map((function(e,t){return Object(S.jsx)(Ke,{link:e,intent:a,min:d},t)}))})]}),n&&n(d)]})},Ze=function(e){var t;return null===(t=document.querySelector("html"))||void 0===t?void 0:t.classList[e?"add":"remove"]("dark")},_e=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],r=window.matchMedia("(prefers-color-scheme: dark)");return Object(i.useEffect)((function(){if(null!==n)Ze(n);else{var e=function(e){return Ze(e.matches)};if(Ze(r.matches),r.hasOwnProperty("addEventListener"))return r.addEventListener("change",e),function(){return r.removeEventListener("change",e)}}}),[n,r]),[n,a]},$e=function(e){var t=e.intent,n=void 0===t?"light":t,i=e.className,a=function(){var e=Object(A.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=_e(),s=Object(c.a)(r,2),l=s[0],o=s[1];return Object(S.jsx)("div",{className:Object(h.a)("max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-end",i),children:{}&&Object(S.jsx)("div",{className:"flex items-center space-x-2",children:Object(S.jsx)(Ie,{actions:[{title:Object(S.jsx)("div",{className:"flex items-center space-x-4",children:Object(S.jsx)("div",{className:Object(h.a)("text-sm font-medium","dark"===n&&"text-gray-200 antialiased"),children:"Your Name"})}),icon:Object(S.jsx)(K.j,{className:Object(h.a)("w-5 h-5 opacity-75","dark"===n&&"text-white")}),iconSide:"right",intent:"invisible",placement:"bottom-end",size:"xs",actions:[[{title:"Colour Scheme",icon:Object(S.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",placement:"left-start",hoverable:!0,actions:[{title:"Dark Mode",icon:Object(S.jsx)(K.i,{className:Object(h.a)("w-4 h-4",!0===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(!0)}},{title:"Light Mode",icon:Object(S.jsx)(K.i,{className:Object(h.a)("w-4 h-4",!1===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(!1)}},{title:"System Preference",icon:Object(S.jsx)(K.i,{className:Object(h.a)("w-4 h-4",null===l?"opacity-100":"opacity-0")}),iconSide:"left",onClick:function(){return o(null)}}]}],[{title:"Logout",icon:Object(S.jsx)(K.s,{className:"w-4 h-4"}),iconSide:"left",onClick:a}]]}]})})})},et=function(e){var t=e.links,n=e.withTopbar,a=void 0!==n&&n,r=Object(i.useState)(!1),l=Object(c.a)(r,2),o=l[0],d=l[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"md:hidden bg-gray-800 dark:bg-gray-900 flex justify-between p-4",children:[Object(S.jsx)(s.a,{to:"/dashboard",children:Object(S.jsx)("img",{src:"data:image/png;base64,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",alt:"ICRA",className:"h-10"})}),Object(S.jsxs)("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white",onClick:function(){return d((function(e){return!e}))},children:[Object(S.jsx)("svg",{className:Object(h.a)("h-6 w-6",{block:!o,hidden:o}),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(S.jsx)("svg",{className:Object(h.a)("h-6 w-6",{block:o,hidden:!o}),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),Object(S.jsx)("div",{className:Object(h.a)("md:hidden bg-gray-800 dark:bg-gray-900 antialiased"),children:Object(S.jsx)(z,{show:o,children:Object(S.jsxs)("div",{className:"px-2 pt-2 pb-3 sm:px-3",children:[t.filter(F).map((function(e,t){return Q(e)?Object(S.jsxs)(s.a,{to:e.to,getProps:function(e){var t=e.isCurrent;return{className:Object(h.a)({"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700":!t,"flex items-center px-3 py-2 rounded-md text-base font-medium text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700":t})}},onClick:function(){return d(!1)},children:[Object(S.jsx)("div",{className:"mr-3",children:e.icon}),e.title]},t):q(e)?Object(S.jsxs)("a",{href:e.url,className:"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",children:[Object(S.jsx)("div",{className:"mr-3",children:e.icon}),e.title]},t):null})),a&&Object(S.jsx)($e,{intent:"dark"})]})})})]})},tt=n(31),nt=n(32),it=n(33),at=n(114),rt=function(e){Object(it.a)(n,e);var t=Object(at.a)(n);function n(){return Object(tt.a)(this,n),t.apply(this,arguments)}return Object(nt.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.props.action()}},{key:"render",value:function(){return null}}]),n}(i.Component),ct=function(e){var t=e.action;return Object(S.jsx)(s.b,{children:function(e){var n=e.location;return Object(S.jsx)(rt,{location:n,action:t})}})},st=[{number:"0.0.0",date:"2021-07-29",new:["Everything is new"],change:[],bug:[]}],lt=n(173),ot=n.n(lt),dt=function(e){var t=e.children,n=st.sort((function(e,t){return ot.a.gt(e.number,t.number)?-1:1})),a=Object(i.useRef)(null),r=v.entities.all(),c=Object(i.useMemo)((function(){return[{title:"Home",to:"/home",icon:Object(S.jsx)(K.A,{className:"w-5 h-5"}),exact:!0}].concat(Object(g.a)(r.filter((function(e){return e.mainNav})).map((function(e){return{title:e.plural||e.name,to:"/".concat(e.key),icon:Object(S.jsx)(K.x,{className:"w-5 h-5"}),exact:!0}}))),[{title:"Settings",to:"/settings",icon:Object(S.jsx)(K.l,{className:"w-5 h-5"}),exact:!1}])}),[r]);return Object(S.jsxs)("div",{className:"h-screen flex flex-col md:flex-row md:overflow-hidden bg-gray-200 dark:bg-gray-800",children:[Object(S.jsx)(et,{links:c}),Object(S.jsx)(Je,{name:"main",intent:"primary",links:c,className:"hidden md:flex",header:function(e){return Object(S.jsx)("div",{className:Object(h.a)("flex items-center",e?"justify-center":"pl-5"),children:Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup","/dashboard"),children:Object(S.jsx)("img",{src:e?p:O,alt:"ICRA",className:Object(h.a)("my-5 h-12",e?"ml-2":"")})})})},footer:function(e){return Object(S.jsxs)("div",{className:Object(h.a)("flex justify-between items-center",e?"flex-col space-y-2":"p-4"),children:[Object(S.jsx)("div",{className:Object(h.a)("text-gray-400 text-sm font-medium cursor-default",e?"text-center":""),children:e?"v".concat(n[0].number):"Version: ".concat(n[0].number)}),"livetest"===de?Object(S.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-red-300 bg-red-400 dark:bg-red-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"LiveTest"}):"demo"===de?Object(S.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Demo"}):"staging"===de?Object(S.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Staging"}):"dev"===de?Object(S.jsx)("div",{className:Object(h.a)("py-0.5 -my-0.5 font-medium text-sm leading-6 text-indigo-300 bg-indigo-400 dark:bg-indigo-500 bg-opacity-25 dark:bg-opacity-25",e?"w-full text-center":"px-2.5 rounded-full"),children:"Dev"}):null]})}}),Object(S.jsx)("div",{className:"flex flex-col flex-1 md:w-0 md:overflow-hidden",children:Object(S.jsxs)("main",{className:"flex-1 relative z-0 md:overflow-y-auto focus:outline-none",ref:a,children:[Object(S.jsx)("div",{className:"max-w-7xl mx-auto",children:Object(S.jsx)("div",{className:"border-b border-gray-300 dark:border-gray-700",children:Object(S.jsx)($e,{})})}),Object(S.jsx)(i.Suspense,{fallback:Object(S.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(S.jsx)(Qe,{})}),children:Object(S.jsx)("div",{className:"relative z-10",children:t})})]})}),Object(S.jsx)(ct,{action:function(){var e;(null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.scrollTo)&&a.current.scrollTo(0,0)}})]})},ut=function(e){var t=e.children,n=Object(i.useRef)(null),a=v.entities.all(),r=Object(i.useMemo)((function(){return[{title:"Home",to:"/home",icon:Object(S.jsx)(K.A,{className:"w-5 h-5"}),exact:!0}].concat(Object(g.a)(a.filter((function(e){return e.mainNav})).map((function(e){return{title:e.plural||e.name,to:"/".concat(e.key),icon:Object(S.jsx)(K.x,{className:"w-5 h-5"}),exact:!0}}))),[{title:"Settings",to:"/settings",icon:Object(S.jsx)(K.l,{className:"w-5 h-5"}),exact:!1}])}),[a]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"min-h-screen bg-gray-200 dark:bg-gray-800",children:[Object(S.jsx)(et,{links:r.filter(F),withTopbar:!0}),Object(S.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 hidden md:block",children:Object(S.jsx)("nav",{className:"bg-gray-800 dark:bg-gray-900",children:Object(S.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:Object(S.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-0",children:[Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("div",{className:"flex-shrink-0",children:Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup","/dashboard"),children:Object(S.jsx)("img",{src:O,alt:"ICRA",className:"h-10"})})}),Object(S.jsx)("div",{className:"hidden md:block",children:Object(S.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:r.filter(F).map((function(e,t){return Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(e.to),className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:e.title},t)}))})})]}),Object(S.jsx)("div",{className:"hidden md:block",children:Object(S.jsx)($e,{intent:"dark"})})]})})})}),Object(S.jsx)("main",{ref:n,className:"relative z-0",children:Object(S.jsx)(i.Suspense,{fallback:Object(S.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(S.jsx)(Qe,{})}),children:Object(S.jsx)("div",{className:"relative z-20",children:t})})})]}),Object(S.jsx)(ct,{action:function(){var e;window.scrollTo(0,0),null===n||void 0===n||null===(e=n.current)||void 0===e||e.scrollTo(0,0)}})]})},bt=function(e){var t=e.className,n=e.children;return Object(S.jsx)("div",{className:Object(h.a)("bg-white dark:bg-gray-700 shadow rounded-none sm:rounded-md",t),children:n})},jt=function(e){var t=e.className,n=e.children;return Object(S.jsx)("div",{className:Object(h.a)("px-4 py-5 sm:p-6",t),children:n})},mt=function(e){var t=e.className,n=e.children;return Object(S.jsx)("div",{className:Object(h.a)("bg-gray-50 dark:bg-gray-750 sm:rounded-b-md px-4 py-4 sm:px-6",t),children:n})},ft=function(e){var t=e.className,n=e.header,i=e.footer,a=e.children;return Object(S.jsxs)(bt,{className:Object(h.a)(t),children:[n,a&&Object(S.jsx)(jt,{children:a}),i&&Object(S.jsx)(mt,{children:i})]})},xt=function(e){var t=e.className;return Object(S.jsx)("div",{className:Object(h.a)("px-4 py-2 text-sm opacity-0 leading-5 pointer-events-none",t),children:"\xa0"})},vt=function(e){var t=e.title,n=void 0===t?"":t,a=e.pageTitle,r=e.actions,c=void 0===r?[]:r,s=e.infoList,l=e.className;return Object(i.useEffect)((function(){var e=a||n;document.title="".concat(e," - ").concat(v.siteSettings.get("title"))}),[n,a]),Object(S.jsx)("div",{className:Object(h.a)(l),children:Object(S.jsx)("div",{className:"pt-3 lg:pt-6 antialiased",children:Object(S.jsx)("div",{className:"max-w-7xl mx-auto px-4 mb-8 sm:px-6 lg:px-8",children:Object(S.jsxs)("div",{className:"md:flex md:items-start md:justify-between flex-wrap",children:[Object(S.jsxs)("div",{className:"mr-4 my-3 flex-1 mb-6 md:mb-0",children:[Object(S.jsx)("h2",{className:"flex items-center text-2xl leading-8 font-bold text-gray-900 dark:text-white sm:text-3xl sm:leading-9 whitespace-nowrap",children:n}),s&&Object(S.jsx)("div",{className:"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap",children:s.filter(F).map((function(e,t){return Object(S.jsxs)("div",{className:"mt-2 flex items-center text-sm leading-5 text-gray-600 dark:text-gray-300 sm:mr-6",children:[e.icon&&Object(S.jsx)("div",{className:"flex-shrink-0 mr-1.5 text-gray-500 dark:text-gray-200",children:e.icon}),e.title]},t)}))})]}),c.filter(F).length>0?Object(S.jsx)("div",{className:"my-3 flex",children:Object(S.jsx)(Ie,{actions:c})}):Object(S.jsx)("div",{className:"my-3 hidden md:block",children:Object(S.jsx)(xt,{})})]})})})})},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Me(e,[{pattern:/^max-w-\dxl$/,defaultValue:"max-w-7xl"}])},ht=function(e){var t=e.className,n=e.children;return Object(S.jsx)("div",{className:gt(Object(h.a)("w-full mx-auto pb-8 sm:px-6 lg:px-8",t)),children:n})},Ot=function(){var e,t;x(),f(),v.siteSettings.set("title","NZDRC2"),v.siteSettings.set("layout","sidebar");var n={id:Object(o.a)(),key:"user",name:"User",plural:"Users",mainNav:!0},i={id:Object(o.a)(),key:"case",name:"Case",plural:"Cases",mainNav:!0},a={id:Object(o.a)(),key:"event",name:"Event",plural:"Events",mainNav:!1};v.entities.save(n),v.entities.save(i),v.entities.save(a),[{id:Object(o.a)(),entityId:i.id,key:"case-number",name:"Case Number",type:"string",options:[]},{id:Object(o.a)(),entityId:i.id,key:"type",name:"Type",type:"option",options:["Review","Mediation","Hybrid"],defaultValue:"Review"},{id:Object(o.a)(),entityId:i.id,key:"claim-number",name:"Claim Number",type:"string",options:[]},{id:Object(o.a)(),entityId:i.id,key:"complexity",name:"Complexity",type:"option",options:["Standard","Complex"]},{id:Object(o.a)(),entityId:i.id,key:"closed-date",name:"Closed Date",type:"date",options:[]},{id:Object(o.a)(),entityId:i.id,key:"status",name:"Status",type:"option",options:["Pending","Open","Closed"]}].forEach(v.fields.save),[{id:Object(o.a)(),entityId:a.id,key:"start-date",name:"Start Date",type:"date",options:[]},{id:Object(o.a)(),entityId:a.id,key:"end-date",name:"End Date",type:"date",options:[]},{id:Object(o.a)(),entityId:a.id,key:"type",name:"Type",type:"option",options:["Review","Mediation","CMC"],defaultValue:"CMC"},{id:Object(o.a)(),entityId:a.id,key:"decision-date",name:"Decision Date",type:"date",options:[]},{id:Object(o.a)(),entityId:a.id,key:"postponed",name:"Postponed",type:"boolean",options:[]}].forEach(v.fields.save),[{id:Object(o.a)(),entityId:n.id,key:"first-name",name:"First Name",type:"string",options:[]},{id:Object(o.a)(),entityId:n.id,key:"last-name",name:"Last Name",type:"string",options:[]},{id:Object(o.a)(),entityId:n.id,key:"email",name:"Email",type:"string",options:[]},{id:Object(o.a)(),entityId:n.id,key:"phone",name:"Phone",type:"string",options:[]},{id:Object(o.a)(),entityId:n.id,key:"active",name:"Active",type:"boolean",options:[],defaultValue:"true"}].forEach(v.fields.save),[{id:Object(o.a)(),entityId:i.id,key:"close-case",name:"Close Case",changes:[]}].forEach(v.actions.save);[].forEach(v.actions.save),v.relations.save({id:Object(o.a)(),key:"events",name:"Events",entityId:i.id,relatedId:a.id,type:"one-to-many"}),v.relations.save({id:Object(o.a)(),key:"attendees",name:"Attendees",entityId:a.id,relatedId:n.id,type:"one-to-many"}),v.relations.save({id:Object(o.a)(),key:"applicant",name:"Applicant",entityId:n.id,relatedId:i.id,type:"one-to-many"}),v.notifications.save({id:Object(o.a)(),name:"Event Reminder 2 days",focus:a.id,enabled:!0,triggerType:"date",triggerRepeat:2,triggerEvery:"",triggerYearIn:"",triggerMonthOn:"",triggerWeekOn:"",triggerDayAt:"",triggerAction:"",obeyTriggerTiming:!0,triggerTimingType:"before",triggerTiming:"day",triggerDate:(null===(e=v.fields.find((function(e){return e.entityId===a.id&&"start-date"===e.key})))||void 0===e?void 0:e.id)||"",ruleGroups:[{rules:[{entity:a.id,field:(null===(t=v.fields.find((function(e){return e.entityId===a.id&&"postponed"===e.key})))||void 0===t?void 0:t.id)||"",operator:"false",value:""}]}],subject:"Upcoming Conference",content:"<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>"}),v.templates.save({id:Object(o.a)(),name:"Event Reminder 2 days",content:"<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>"});var r=v.roles.save({id:Object(o.a)(),name:"Administrator"}),c=v.roles.save({id:Object(o.a)(),name:"Case Manager"}),s=v.roles.save({id:Object(o.a)(),name:"Reviewer"}),l=v.roles.save({id:Object(o.a)(),name:"Applicant"});[r,c,s].forEach((function(e){v.entities.all().forEach((function(t){v.entityPermissions.save({id:Object(o.a)(),entityId:t.id,roleId:e.id,view:!0,modify:!0,remove:!0}),v.fields.all((function(e){return e.entityId===t.id})).forEach((function(t){v.fieldPermissions.save({id:Object(o.a)(),fieldId:t.id,roleId:e.id,view:!0,modify:!0})})),v.actions.all((function(e){return e.entityId===t.id})).forEach((function(t){v.actionPermissions.save({id:Object(o.a)(),actionId:t.id,roleId:e.id,perform:!0})})),v.relations.all((function(e){return e.entityId===t.id})).forEach((function(t){v.relationPermissions.save({id:Object(o.a)(),relationId:t.id,roleId:e.id,view:!0,modify:!0,remove:!0})}))}))})),v.entities.all().forEach((function(e){v.entityPermissions.save({id:Object(o.a)(),entityId:e.id,roleId:l.id,view:!0,modify:!1,remove:!1}),v.fields.all((function(t){return t.entityId===e.id})).forEach((function(e){v.fieldPermissions.save({id:Object(o.a)(),fieldId:e.id,roleId:l.id,view:!0,modify:!1})})),v.actions.all((function(t){return t.entityId===e.id})).forEach((function(e){v.actionPermissions.save({id:Object(o.a)(),actionId:e.id,roleId:l.id,perform:!1})})),v.relations.all((function(t){return t.entityId===e.id})).forEach((function(e){v.relationPermissions.save({id:Object(o.a)(),relationId:e.id,roleId:l.id,view:!0,modify:!1,remove:!1})}))}))};localStorage.getItem("data")||Ot();var pt=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Home"}),Object(S.jsx)(ht,{children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[Object(S.jsxs)("div",{className:"rounded-md bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25 p-4",children:[Object(S.jsx)("span",{className:"font-medium",children:"Note:"})," Modules haven't been properly figured out yet, so that stuff is only a visual mockup"]}),Object(S.jsxs)("div",{className:"rounded-md bg-primary-400 text-primary-800 dark:bg-primary-500 dark:text-primary-300 bg-opacity-25 dark:bg-opacity-25 p-4 space-y-3",children:[Object(S.jsx)("p",{children:"Feel free to play around with the forms, create stuff, edit stuff, delete stuff. You can come back to this page to reset the data."}),Object(S.jsx)("p",{children:"Any changes you make are contained within your browser, so nothing is real."})]}),Object(S.jsx)(Ie,{actions:[{title:"Clear Database",onClick:function(){return x()}},{title:"Reset Database",onClick:function(){return Ot()}}]})]})})})]})},yt=n.p+"static/media/undraw_not_found_60pq.faf05e44.svg",Nt=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Not Found"}),Object(S.jsx)(ht,{children:Object(S.jsx)("div",{className:"p-4",children:Object(S.jsx)("img",{src:yt,alt:"not found",width:"500",className:"mx-auto"})})})]})},kt=function(e){if(e){var t=v.fields.find(e.fieldId);switch(null===t||void 0===t?void 0:t.type){case"string":case"option":return e.stringValue;case"date":return e.dateValue?Object(se.a)(e.dateValue,"dd/MM/yyyy"):void 0;case"number":return e.numberValue;case"boolean":return e.booleanValue?Object(S.jsx)(K.i,{className:"w-4 h-4"}):Object(S.jsx)(K.B,{className:"w-4 h-4"})}}},wt=function(e,t){return e.created&&t.created?new Date(t.created).valueOf()-new Date(e.created).valueOf():0},At=function(e){var t=e.entityId,n=v.entities.find(t),a=v.fields.all((function(e){return e.entityId===t})),r=Object(i.useState)(a),l=Object(c.a)(r,2),o=l[0],d=l[1],u={cols:a.filter((function(e){return o.includes(e)})).map((function(e,t){return{title:e.name,value:function(n){var i=kt(function(e,t){return v.values.all((function(n){return n.unitId===e.id&&n.fieldId===(null===t||void 0===t?void 0:t.id)})).sort(wt)[0]}(n,e));return 0===t?Object(S.jsx)(s.a,{to:n.id,className:"anchor",children:i||"-"}):i||"-"}}})),actions:function(e){return[{icon:Object(S.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit ".concat(null===n||void 0===n?void 0:n.name),icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/".concat(null===n||void 0===n?void 0:n.key,"/").concat(e.id,"/edit")}],[{title:"Delete ".concat(null===n||void 0===n?void 0:n.name),icon:Object(S.jsx)(K.z,{className:"w-5 h-5"}),intent:"danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.units.remove(e.id)}})}}]]}]}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:(null===n||void 0===n?void 0:n.plural)||(null===n||void 0===n?void 0:n.name)||"-",actions:[{title:"Create ".concat(null===n||void 0===n?void 0:n.name),intent:"primary",to:"/".concat(null===n||void 0===n?void 0:n.key,"/create")}]}),Object(S.jsx)(ht,{children:Object(S.jsx)(bt,{className:"overflow-hidden",children:Object(S.jsxs)("div",{className:"relative",children:[Object(S.jsx)("div",{className:"absolute top-0 right-0 h-[42px] flex items-center mr-1",children:Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.b,{className:"w-4 h-4"}),intent:"menu",actions:a.map((function(e){return{title:e.name,icon:o.includes(e)?Object(S.jsx)(K.i,{className:"w-4 h-4"}):Object(S.jsx)("div",{className:"w-4 h-4"}),iconSide:"left",disableDismiss:!0,onClick:function(){return d((function(t){return o.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(g.a)(t),[e])}))}}}))}})}),Object(S.jsx)(Pe,{schema:u,items:v.units.all((function(e){return e.entityId===(null===n||void 0===n?void 0:n.id)})),className:"-my-px"})]})})})]})},It={1:"",2:"sm:w-1/2",3:"sm:w-1/3"},Ct=function(e){var t=e.items,n=e.columns,i=void 0===n?2:n,a=e.className,r=t.filter(F).filter((function(e){return e.value})).reduce((function(e,t){return e[e.length-1].length<i?(e[e.length-1].push(t),e):[].concat(Object(g.a)(e),[[t]])}),[[]]);return Object(S.jsx)("div",{className:Object(h.a)(a),children:Object(S.jsx)("dl",{className:"flex flex-col space-y-8",children:r.map((function(e,t){return Object(S.jsx)("div",{className:"flex flex-col sm:flex-row sm:space-x-8 space-y-8 sm:space-y-0",children:e.map((function(e,t){return Object(S.jsxs)("div",{className:Object(h.a)("w-full",It[i]),children:[e.title&&Object(S.jsx)("dt",{className:"text-sm leading-5 text-gray-500 dark:text-gray-300",children:e.title}),Object(S.jsx)("dd",{className:"mt-1 text-sm leading-5 break-all text-gray-900 dark:text-white",children:e.value})]},t)}))},t)}))})})},St=function(e){var t="string"===typeof e||"function"===typeof e?v.actions.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get entity(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}))},get permissions(){return v.actionPermissions.all((function(e){return e.actionId===(null===t||void 0===t?void 0:t.id)})).map(Et).filter(F)},permission:function(e){var n="string"===typeof e||"function"===typeof e?v.roles.find(e):e;return Et((function(e){return e.actionId===(null===t||void 0===t?void 0:t.id)&&e.roleId===(null===n||void 0===n?void 0:n.id)}))}}):null},Et=function(e){var t="string"===typeof e||"function"===typeof e?v.actionPermissions.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get role(){return Ft((function(e){return e.id===(null===t||void 0===t?void 0:t.roleId)}))},get action(){return St((function(e){return e.id===(null===t||void 0===t?void 0:t.actionId)}))}}):null},Tt=function(e){var t="string"===typeof e||"function"===typeof e?v.entities.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get fields(){return v.fields.all((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)})).map(Pt).filter(F)},get actions(){return v.actions.all((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)})).map(St).filter(F)},get relations(){return v.relations.all((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)})).map(zt).filter(F)},get units(){return v.fields.all((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)})).map(Rt).filter(F)},get permissions(){return v.entityPermissions.all((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)})).map(Dt).filter(F)},permission:function(e){var n="string"===typeof e||"function"===typeof e?v.roles.find(e):e;return Dt((function(e){return e.entityId===(null===t||void 0===t?void 0:t.id)&&e.roleId===(null===n||void 0===n?void 0:n.id)}))}}):null},Dt=function(e){var t="string"===typeof e||"function"===typeof e?v.entityPermissions.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get role(){return Ft((function(e){return e.id===(null===t||void 0===t?void 0:t.roleId)}))},get entity(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}))}}):null},Pt=function(e){var t="string"===typeof e||"function"===typeof e?v.fields.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get entity(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}))},value:function(e){var n="string"===typeof e||"function"===typeof e?v.units.find(e):e;return Bt(v.values.all((function(e){return e.unitId===(null===n||void 0===n?void 0:n.id)&&e.fieldId===(null===t||void 0===t?void 0:t.id)})).sort(wt)[0])},values:function(e){var n="string"===typeof e||"function"===typeof e?v.units.find(e):e;return v.values.all((function(e){return e.unitId===(null===n||void 0===n?void 0:n.id)&&e.fieldId===(null===t||void 0===t?void 0:t.id)})).sort(wt).map(Bt).filter(F)},get permissions(){return v.fieldPermissions.all((function(e){return e.fieldId===(null===t||void 0===t?void 0:t.id)})).map(Mt).filter(F)},permission:function(e){var n="string"===typeof e||"function"===typeof e?v.roles.find(e):e;return Mt((function(e){return e.fieldId===(null===t||void 0===t?void 0:t.id)&&e.roleId===(null===n||void 0===n?void 0:n.id)}))}}):null},Mt=function(e){var t="string"===typeof e||"function"===typeof e?v.fieldPermissions.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get role(){return Ft((function(e){return e.id===(null===t||void 0===t?void 0:t.roleId)}))},get field(){return Pt((function(e){return e.id===(null===t||void 0===t?void 0:t.fieldId)}))}}):null},zt=function(e){var t="string"===typeof e||"function"===typeof e?v.relations.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get entity(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}))},get related(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.relatedId)}))}}):null},Vt=function(e){var t="string"===typeof e||"function"===typeof e?v.relationPermissions.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get role(){return Ft((function(e){return e.id===(null===t||void 0===t?void 0:t.roleId)}))},get relation(){return zt((function(e){return e.id===(null===t||void 0===t?void 0:t.relationId)}))}}):null},Ft=function(e){var t="string"===typeof e||"function"===typeof e?v.roles.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{fieldPermission:function(e){var n="string"===typeof e||"function"===typeof e?v.fields.find(e):e;return Mt((function(e){return e.fieldId===(null===n||void 0===n?void 0:n.id)&&e.roleId===(null===t||void 0===t?void 0:t.id)}))},fieldPermissions:function(e){var n="string"===typeof e||"function"===typeof e?v.entities.find(e):e;return v.fields.all((function(e){return e.entityId===(null===n||void 0===n?void 0:n.id)})).map((function(e){return v.fieldPermissions.find((function(n){return n.fieldId===e.id&&n.roleId===(null===t||void 0===t?void 0:t.id)}))})).filter(F).map(Mt).filter(F)},actionPermission:function(e){var n="string"===typeof e||"function"===typeof e?v.actions.find(e):e;return Et((function(e){return e.actionId===(null===n||void 0===n?void 0:n.id)&&e.roleId===(null===t||void 0===t?void 0:t.id)}))},actionPermissions:function(e){var n="string"===typeof e||"function"===typeof e?v.entities.find(e):e;return v.actions.all((function(e){return e.entityId===(null===n||void 0===n?void 0:n.id)})).map((function(e){return v.actionPermissions.find((function(n){return n.actionId===e.id&&n.roleId===(null===t||void 0===t?void 0:t.id)}))})).filter(F).map(Et).filter(F)},relationPermission:function(e){var n="string"===typeof e||"function"===typeof e?v.relations.find(e):e;return Vt((function(e){return e.relationId===(null===n||void 0===n?void 0:n.id)&&e.roleId===(null===t||void 0===t?void 0:t.id)}))},relationPermissions:function(e){var n="string"===typeof e||"function"===typeof e?v.entities.find(e):e;return v.relations.all((function(e){return e.entityId===(null===n||void 0===n?void 0:n.id)})).map((function(e){return v.relationPermissions.find((function(n){return n.relationId===e.id&&n.roleId===(null===t||void 0===t?void 0:t.id)}))})).filter(F).map(Vt).filter(F)}}):null},Rt=function(e){var t="string"===typeof e||"function"===typeof e?v.units.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get entity(){return Tt((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}))},get values(){var e=v.entities.find((function(e){return e.id===(null===t||void 0===t?void 0:t.entityId)}));return v.fields.all((function(t){return t.entityId===(null===e||void 0===e?void 0:e.id)})).map((function(e){return v.values.all((function(t){return t.fieldId===e.id})).sort(wt)[0]})).map(Bt).filter(F)}}):null},Bt=function(e){var t="string"===typeof e||"function"===typeof e?v.values.find(e):e;return t?Object(l.a)(Object(l.a)({},t),{},{get field(){return Pt((function(e){return e.id===(null===t||void 0===t?void 0:t.fieldId)}))},get unit(){return Rt((function(e){return e.id===(null===t||void 0===t?void 0:t.unitId)}))},get history(){return v.values.all((function(e){return e.fieldId===(null===t||void 0===t?void 0:t.fieldId)&&e.unitId===(null===t||void 0===t?void 0:t.unitId)})).sort(wt)}}):null},Ht=function(e){var t=e.id,n=Rt(void 0===t?"":t),i=null===n||void 0===n?void 0:n.entity,a=null===n||void 0===n?void 0:n.values,r="View ".concat(null===i||void 0===i?void 0:i.name);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:r,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/".concat(null===i||void 0===i?void 0:i.key)}}),Object(S.jsx)("div",{children:r})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(ft,{children:Object(S.jsx)(Ct,{items:(null===a||void 0===a?void 0:a.map((function(e,t){var n,i=e.history.length>1;return{title:null===(n=e.field)||void 0===n?void 0:n.name,value:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:kt(e)}),i&&Object(S.jsx)("div",{children:Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup","/value-history/").concat(null===e||void 0===e?void 0:e.id),children:"See history"})})]})}})))||[]})})})]})},Lt=n(16),Gt=["onSubmit"];var Qt=function(e){var t,n=e.children,i=e.className,a=e.context;return Object(S.jsx)(Lt.b,{value:a,children:Object(S.jsx)(Lt.a,{className:i,children:(t=n,"function"===typeof t?n(a):n)})})},qt=function(e){var t=e.onSubmit,n=Object(y.a)(e,Gt),i=function(){var e=Object(A.a)(w.a.mark((function e(n,i){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,i);case 2:i.setSubmitting(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Lt.e)(Object(l.a)({onSubmit:i},n))},Wt=function(e){return function(t){return(null===e||void 0===e?void 0:e.required)&&!t?e.required:(null===e||void 0===e?void 0:e.min)&&+t<+e.min.value?e.min.message:(null===e||void 0===e?void 0:e.max)&&+t>+e.max.value?e.max.message:void 0}};function Xt(e,t){return Object(Lt.c)(null===t||void 0===t?void 0:t.values,e)}var Yt=["className"],Ut=function(e){var t=e.as,n=void 0===t?"input":t,a=e.name,r=e.label,s=e.type,d=void 0===s?"text":s,u=e.className,b=e.autoFocus,j=void 0!==b&&b,m=e.hideOptional,f=void 0!==m&&m,x=e.validations,v=void 0===x?{}:x,g=e.placeholder,O=e.disabled,p=void 0!==O&&O,N=e.description,k=e.inputProps,w=void 0===k?{}:k,A=null===v||void 0===v?void 0:v.required,I=J(j),C=n,E=Object(Lt.d)({name:a,type:d,validate:Wt(v)}),T=Object(c.a)(E,3),D=T[0].value,P=T[1],M=P.error,z=P.touched,V=T[2],F=V.setValue,R=V.setTouched,B=Object(Lt.f)(),H=Object(i.useState)(Object(o.a)()),L=Object(c.a)(H,1)[0],G=w.className,Q=Object(y.a)(w,Yt);return Object(S.jsxs)("div",{className:Object(h.a)(u),children:[r&&Object(S.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.focus()},children:[r," ",!A&&!f&&Object(S.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(S.jsx)("div",{className:"text-[0px] leading-none select-none",children:L}),Object(S.jsx)("div",{className:Object(h.a)("relative rounded-md",r&&"mt-1"),children:Object(S.jsx)(C,Object(l.a)({ref:I,type:d,value:D,onChange:function(e){return F(e.target.value)},onBlur:function(){R(!0)},placeholder:g,disabled:p||B.isSubmitting,className:Object(h.a)("form-input block w-full sm:text-sm sm:leading-5",G,M&&z&&"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500")},"input"===C?Q:{}))}),N&&Object(S.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:N}),M&&z&&Object(S.jsx)("p",{className:"mt-2 text-sm text-red-600",children:M})]})},Kt=n(180),Jt=["ref"],Zt=function(e){var t=e.name,n=e.label,a=e.options,r=e.clearable,s=e.disabled,d=void 0!==s&&s,u=e.description,b=e.placeholder,j=e.validations,m=void 0===j?{}:j,f=e.hideOptional,x=void 0!==f&&f,v=e.className,g=e.autoFocus,O=e.onChange,p=null===m||void 0===m?void 0:m.required,N=Object(Lt.d)({name:t,validate:Wt(m)}),k=Object(c.a)(N,3),w=k[0],A=w.value,I=w.onBlur,C=k[1],E=C.error,T=C.touched,D=k[2],P=D.setValue,M=D.setTouched,z=Object(Lt.f)(),V=Object(i.useState)(Object(o.a)()),F=Object(c.a)(V,1)[0];return Object(S.jsxs)("div",{className:Object(h.a)(v),children:[Object(S.jsxs)("label",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200",children:[n&&Object(S.jsxs)(S.Fragment,{children:[n," ",!p&&!x&&Object(S.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(S.jsx)("div",{className:"text-[0px] leading-none select-none",children:F}),Object(S.jsx)(Kt.a,{options:a,value:a.find((function(e){var t,n;return e.value===A||null!==A&&e.value===+A||void 0!==(null===(t=e.value)||void 0===t?void 0:t.id)&&(null===(n=e.value)||void 0===n?void 0:n.id)===(null===A||void 0===A?void 0:A.id)}))||null,onChange:function(e){M(!0),P(e?e.value:null),O&&O(e?e.value:null)},onBlur:function(e){M(!0),I(e)},inputProps:{autoComplete:"none",autoCorrect:"off",spellCheck:"off"},className:Object(h.a)("react-select-container font-normal",n&&"mt-1",E&&T&&"react-select-container-error"),classNamePrefix:"react-select",placeholder:b,isClearable:r,isDisabled:d||z.isSubmitting,autoFocus:g,menuPlacement:"auto",components:{ClearIndicator:function(e){var t=e.hasValue,n=e.innerProps,i=n.ref,a=Object(y.a)(n,Jt);return t?Object(S.jsx)("span",Object(l.a)(Object(l.a)({ref:i},a),{},{children:Object(S.jsx)(K.B,{className:"mr-8 w-5 h-5 cursor-pointer text-gray-400 hover:text-red-500"})})):null},DropdownIndicator:function(e){e.innerProps.ref;return null}}})]}),u&&!E&&!T&&Object(S.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:u}),E&&T&&Object(S.jsx)("p",{className:"mt-2 text-sm text-red-600",children:E})]})},_t=n(357),$t=n(358),en=n(359),tn=n(360),nn=n(361),an=n(177),rn=n(178),cn=n(362),sn=n(368),ln=n(363),on=n(364),dn=n(176),un=n.n(dn),bn=["Mo","Tu","We","Th","Fr","Sa","Su"],jn=function(e){return e&&e instanceof Date&&ze(e)},mn=function(e){var t=e.name,n=e.label,a=e.description,r=e.placeholder,s=void 0===r?"DD/MM/YYYY":r,l=e.hideOptional,o=e.validations,d=void 0===o?{}:o,u=e.placement,b=void 0===u?"bottom-end":u,j=e.offset,m=void 0===j?10:j,f=e.disabled,x=e.minDate,v=e.maxDate,g=e.inputDisabled,O=e.disableHolidays,p=void 0!==O&&O,y=e.autoFocus,N=void 0!==y&&y,k=e.className,w=e.inputClassName,A=null===d||void 0===d?void 0:d.required,I=Object(Lt.d)({name:t,validate:Wt(d)}),C=Object(c.a)(I,3),E=C[0],T=E.value,D=E.onBlur,P=C[1],M=P.error,z=P.touched,V=C[2],F=V.setValue,R=V.setTouched,B=Object(Lt.f)(),H=Object(i.useState)(jn(T)?Object(se.a)(T,"dd/MM/yyyy"):""),L=Object(c.a)(H,2),G=L[0],Q=L[1],q=Object(i.useState)(Object(_t.a)(jn(T)?T:new Date)),W=Object(c.a)(q,2),X=W[0],Y=W[1],U=Object(i.useState)(),Z=Object(c.a)(U,2),_=Z[0],$=Z[1];Object(i.useEffect)((function(){if(_!==T)if(T){var e=Ve(T);Q(jn(e)?Object(se.a)(e,"dd/MM/yyyy"):""),$(T)}else Q(""),Y(new Date)}),[_,T]);var ee=he({onOpen:function(){try{if(T){var e=Ve(T);Q(Object(se.a)(e,"dd/MM/yyyy")),Y(e)}}catch(M){console.log("error",M),Q(""),Y(new Date)}}}),te=ee.open,ne=ee.setOpen,ie=ee.ignoreClass,ae=ee.ref,re=xe({placement:b,strategy:"fixed",modifiers:[{name:"offset",options:{offset:m instanceof Array?m:[0,m]}}]}),ce=Object(c.a)(re,2),oe=ce[0],de=ce[1],ue=new Array(Object($t.a)(Object(_t.a)(X))-1).fill(null).map((function(e,t){return Object(en.a)(Object(tn.a)(Object(nn.a)(X,1)),t)})).reverse(),be=new Array(7-Object($t.a)(Object(tn.a)(X))).fill(null).map((function(e,t){return Object(an.a)(Object(_t.a)(Object(rn.a)(X,1)),t)})),je=new Array(Object(cn.a)(X)).fill(null).map((function(e,t){return Object(an.a)(Object(_t.a)(X),t)})),me=J(N);return Object(S.jsxs)("div",{className:Object(h.a)(k),ref:ae,children:[Object(S.jsxs)("label",{children:[n&&Object(S.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200",children:[n," ",!A&&!l&&Object(S.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(S.jsxs)("div",{className:Object(h.a)("relative rounded-md",n&&"mt-1"),children:[Object(S.jsx)("input",{type:"text",value:G,onChange:function(e){return Q(e.target.value)},placeholder:s,disabled:B.isSubmitting||f,ref:un()(oe,me),onClick:function(){return ne(!0)},onKeyDown:function(e){g?e.preventDefault():ne(!1)},onBlur:function(e){if(G){var t=Object(sn.a)(G,"dd/MM/yyyy",new Date);ze(t)?(F(t),R(!0)):Q(jn(T)?Object(se.a)(T,"dd/MM/yyyy"):"")}else F(null),R(!0);D(e)},className:Object(h.a)("form-input block w-full sm:text-sm sm:leading-5",M&&z&&"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500",w,ie)}),Object(S.jsx)("div",{className:Object(h.a)(!te&&"hidden","z-10"),ref:de,children:Object(S.jsxs)("div",{className:"mt rounded-md shadow-lg bg-white dark:bg-gray-700 w-80 overflow-hidden",children:[Object(S.jsxs)("div",{className:"flex items-center dark:bg-gray-750 p-4 border-b border-gray-100 dark:border-gray-600",children:[Object(S.jsx)("button",{type:"button",onClick:function(){return Y((function(e){return Object(nn.a)(e,1)}))},className:"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md",children:Object(S.jsx)(K.c,{className:"w-4 h-4"})}),Object(S.jsx)("div",{className:"flex-1 flex items-center justify-center text-sm font-medium",children:Object(se.a)(X,"MMMM yyyy")}),Object(S.jsx)("button",{type:"button",onClick:function(){return Y((function(e){return Object(rn.a)(e,1)}))},className:"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md",children:Object(S.jsx)(K.d,{className:"w-4 h-4"})})]}),Object(S.jsxs)("div",{className:"p-4 grid grid-cols-7",children:[bn.map((function(e,t){return Object(S.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded m-1 cursor-default text-sm text-gray-400",children:e},t)})),ue.map((function(e,t){return Object(S.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium",children:Object(se.a)(e,"d")},t)})),je.map((function(e,t){return Object(S.jsx)("button",{type:"button",className:Object(h.a)("col-span-1 w-7 h-7 flex items-center justify-center rounded m-2 cursor-pointer disabled:pointer-events-none text-sm font-medium hover:bg-indigo-100 dark:hover:bg-gray-800 disabled:opacity-50",Object(le.a)(new Date,e)&&"text-indigo-400 ring-2 ring-indigo-300",T&&Object(le.a)(Ve(T),e)&&"bg-indigo-600 text-white"),onClick:function(){return function(e){F(e),R(!0),ne(!1),Q(Object(se.a)(e,"dd/MM/yyyy"))}(e)},disabled:x&&Object(ln.a)(e,x)||v&&Object(on.a)(e,v)||p&&!!Fe(e),title:Fe(e),children:Object(se.a)(e,"d")},t)})),be.map((function(e,t){return Object(S.jsx)("div",{className:"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium",children:Object(se.a)(e,"d")},t)}))]})]})})]})]}),a&&!M&&!z&&Object(S.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:a}),M&&z&&Object(S.jsx)("p",{className:"mt-2 text-sm text-red-600",children:M})]})},fn=function(e){var t,n=e.checked,i=e.color;return Object(S.jsx)("span",{role:"checkbox",tabIndex:0,"aria-checked":"false",className:Object(h.a)("relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline",(t={},Object(N.a)(t,i,n),Object(N.a)(t,"bg-gray-200 dark:bg-gray-800",!n),t)),children:Object(S.jsx)("span",{"aria-hidden":"true",className:Object(h.a)("translate-x-0 inline-block h-5 w-5 rounded-full shadow transform transition ease-in-out duration-200",{"translate-x-5 bg-white dark:bg-white":n,"translate-x-0 bg-white dark:bg-gray-400":!n})})})},xn=function(e){var t=e.name,n=e.label,i=e.disabled,a=e.color,r=void 0===a?"bg-primary-500 dark:bg-primary-500":a,s=e.className,o=e.autoFocus,d=Object(Lt.d)({name:t,type:"checkbox"}),u=Object(c.a)(d,1)[0],b=u.value,j=Object(Lt.f)();return Object(S.jsx)("div",{className:Object(h.a)(s),children:Object(S.jsxs)("label",{className:"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer",children:[Object(S.jsx)(fn,{checked:b,color:r}),n&&Object(S.jsx)("span",{className:"ml-3",children:n}),Object(S.jsx)("input",Object(l.a)(Object(l.a)({},u),{},{type:"checkbox",disabled:i||j.isSubmitting,className:"hidden",autoFocus:o}))]})})},vn=function(e){var t=e.entityId,n=void 0===t?"":t,a=e.mode,r=e.id,o=void 0===r?"":r,d=Tt(n),u=null===d||void 0===d?void 0:d.fields,b=Object(i.useState)({fields:(null===u||void 0===u?void 0:u.reduce((function(e,t){var n=t.value(o),i=(null===t||void 0===t?void 0:t.key)||"",a=null===t||void 0===t?void 0:t.defaultValue,r=null===t||void 0===t?void 0:t.type,c=n;return c?Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},i,{id:null===c||void 0===c?void 0:c.id,stringValue:(null===c||void 0===c?void 0:c.stringValue)||"",dateValue:(null===c||void 0===c?void 0:c.dateValue)||"",booleanValue:(null===c||void 0===c?void 0:c.booleanValue)||!1,numberValue:(null===c||void 0===c?void 0:c.numberValue)||""})):Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},i,{id:void 0,stringValue:"string"===r?a:"",dateValue:"date"===r?new Date(a||""):"",booleanValue:"boolean"===r&&"true"===(null===a||void 0===a?void 0:a.toLowerCase()),numberValue:"number"===r?+(a||""):""}))}),{}))||{}}),j=Object(c.a)(b,1)[0],m=qt({initialValues:j,onSubmit:function(e){if(n){var t=v.units.save(Object(l.a)({entityId:n},o?{id:o}:{}));Object.entries(e.fields).forEach((function(e){var n=Object(c.a)(e,2),i=n[0],a=n[1],r=v.fields.find((function(e){return e.key===i}));if(r){var s=!1;switch(r.type){case"string":case"option":j.fields[r.key].stringValue!==a.stringValue&&(s=!0);break;case"number":j.fields[r.key].numberValue!==a.numberValue&&(s=!0);break;case"boolean":j.fields[r.key].booleanValue!==a.booleanValue&&(s=!0);break;case"date":j.fields[r.key].dateValue!==a.dateValue&&(s=!0)}!s&&a.id||v.values.save(Object(l.a)(Object(l.a)({},a),{},{id:void 0,unitId:t.id,fieldId:null===r||void 0===r?void 0:r.id}))}})),Object(s.e)("".concat("/nzdrc-mockup","/").concat(null===d||void 0===d?void 0:d.key))}}}),f="create"===a?"Create ".concat(null===d||void 0===d?void 0:d.plural):"Edit ".concat(null===d||void 0===d?void 0:d.name);return Object(S.jsxs)(Qt,{context:m,children:[Object(S.jsx)(vt,{pageTitle:f,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/".concat(null===d||void 0===d?void 0:d.key)}}),Object(S.jsx)("div",{children:f})]})}),Object(S.jsx)(ht,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(ft,{children:Object(S.jsx)(U,{children:null===u||void 0===u?void 0:u.map((function(e){return"string"===(null===e||void 0===e?void 0:e.type)?Object(S.jsx)(Ut,{name:"fields.".concat(null===e||void 0===e?void 0:e.key,".stringValue"),label:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.key):"number"===(null===e||void 0===e?void 0:e.type)?Object(S.jsx)(Ut,{name:"fields.".concat(null===e||void 0===e?void 0:e.key,".numberValue"),label:null===e||void 0===e?void 0:e.name,type:"number"},null===e||void 0===e?void 0:e.key):"date"===(null===e||void 0===e?void 0:e.type)?Object(S.jsx)(mn,{name:"fields.".concat(null===e||void 0===e?void 0:e.key,".dateValue"),label:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.key):"boolean"===(null===e||void 0===e?void 0:e.type)?Object(S.jsx)(xn,{name:"fields.".concat(null===e||void 0===e?void 0:e.key,".booleanValue"),label:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.key):"option"===(null===e||void 0===e?void 0:e.type)?Object(S.jsx)(Zt,{name:"fields.".concat(null===e||void 0===e?void 0:e.key,".stringValue"),label:null===e||void 0===e?void 0:e.name,options:(null===e||void 0===e?void 0:e.options.map((function(e){return{label:e,value:e}})))||[]},null===e||void 0===e?void 0:e.key):null}))})}),Object(S.jsx)("div",{className:"flex items-center justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"create"===a?"Create":"Save",intent:"primary",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit",disabled:m.isSubmitting}]})})]})})]})},gn=function(e){var t=e.id,n=Bt(void 0===t?"":t),i=null===n||void 0===n?void 0:n.field,a=null===i||void 0===i?void 0:i.entity,r=null===n||void 0===n?void 0:n.unit,c="History of ".concat(null===i||void 0===i?void 0:i.name);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:c,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/".concat(null===a||void 0===a?void 0:a.key,"/").concat(null===r||void 0===r?void 0:r.id)}}),Object(S.jsx)("div",{children:c})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(ft,{children:Object(S.jsx)("ul",{children:null===n||void 0===n?void 0:n.history.map((function(e){return Object(S.jsx)("li",{children:kt(e)},e.id)}))})})})]})},hn=[{title:"Entities",to:"/settings/entities",icon:Object(S.jsx)(K.m,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Roles",to:"/settings/roles",icon:Object(S.jsx)(K.a,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Templates",to:"/settings/templates",icon:Object(S.jsx)(K.o,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Notifications",to:"/settings/notifications",icon:Object(S.jsx)(K.t,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Modules",to:"/settings/modules",icon:Object(S.jsx)(K.w,{className:"w-5 h-5"}),show:function(){return!0},exact:!0},{title:"Site Settings",to:"/settings/site-settings",icon:Object(S.jsx)(K.l,{className:"w-5 h-5"}),show:function(){return!0},exact:!0}],On=function(e){var t=e.children;return"/settings"===Object(s.f)().pathname?(Object(s.e)(hn[0].to),null):Object(S.jsx)(S.Fragment,{children:t})},pn={primary:{wrapper:"bg-gray-800 dark:bg-gray-900 antialiased",link:{active:"text-white bg-gray-700 dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800",inactive:"text-gray-200 hover:text-white hover:bg-gray-900 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800"},toggle:"text-gray-400 hover:text-gray-300 hover:bg-gray-700"},secondary:{wrapper:"bg-white dark:bg-gray-700 antialiased shadow",link:{active:"text-primary-900 dark:text-gray-100 bg-primary-100 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800",inactive:"text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-600 hover:bg-primary-50 focus:text-gray-900 focus:bg-gray-100 dark:focus:bg-gray-800 dark:focus:text-gray-200"},toggle:"text-gray-400 hover:text-gray-500 hover:bg-gray-100"},white:{wrapper:"bg-white antialiased shadow",link:{active:"text-gray-900 bg-gray-50 focus:bg-gray-200",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100"},toggle:"text-gray-400 hover:text-gray-500 hover:bg-gray-100"}},yn=function(e){var t=e.link,n=e.intent,i=e.min,a=void 0!==i&&i;return Object(S.jsx)("div",{children:t&&Object(S.jsx)(We,{message:t.tooltip||t.title,enabled:a,intent:"dark",children:Object(S.jsxs)(kn,{route:t,intent:n,children:[Object(S.jsx)("div",{className:"opacity-75 pointer-events-none mr-3",children:t.icon}),Object(S.jsx)("div",{className:Object(h.a)(a&&"lg:hidden"),children:t.title})]})})})},Nn=function(e,t){return function(n){var i=n.isCurrent,a=n.isPartiallyCurrent;return(e.exact?i:a)?{className:Object(h.a)("group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",pn[t].link.active)}:{className:Object(h.a)("group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",pn[t].link.inactive)}}},kn=function(e){var t=e.route,n=e.intent,i=e.children;return q(t)?Object(S.jsxs)("a",{href:t.url,className:Object(h.a)("group flex items-center justify-center p-2 text-sm leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500",pn[n].link.inactive,"justify-center"),target:"_blank",rel:"noopener noreferrer",children:[Object(S.jsx)("div",{className:"flex items-center justify-center",children:i}),Object(S.jsx)("div",{className:"flex-1 flex justify-end",children:Object(S.jsx)(K.r,{className:"opacity-25 w-4 h-4"})})]}):Q(t)?Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(t.to),getProps:Nn(t,n),children:i}):null},wn=function(e){var t=e.links,n=e.intent,i=void 0===n?"secondary":n,a=e.min,r=void 0!==a&&a,c=e.className,s=void 0===c?null:c;return Object(S.jsx)("nav",{className:Object(h.a)("space-y-1",s),children:t.filter(F).map((function(e,t){return Object(S.jsx)(yn,{link:e,intent:i,min:r},t)}))})},An=function(e){var t=e.links,n=e.className,i=e.children,a=qe("case-min",!1),r=Object(c.a)(a,2),s=r[0],l=r[1];return Object(S.jsx)(ht,{className:n,children:Object(S.jsx)(bt,{className:"relative",children:Object(S.jsx)("div",{className:"max-w-full",children:Object(S.jsxs)("div",{className:Object(h.a)("grid grid-cols-1 max-w-full",s?"md:grid-cols-[62px,minmax(0,1fr)]":"md:grid-cols-[20rem,minmax(0,1fr)]"),children:[Object(S.jsx)("div",{className:"p-3",children:Object(S.jsx)(wn,{links:t,min:s})}),Object(S.jsxs)("div",{className:"relative mt-6 lg:mt-0 border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-gray-600",children:[Object(S.jsx)("div",{className:"absolute top-0 left-0 h-full group z-10",children:Object(S.jsx)("div",{className:Object(h.a)("w-1 -ml-0.5 h-full bg-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-100 ease-linear",s?"cursor-right":"cursor-left"),onClick:function(){return l(!s)}})}),Object(S.jsx)("div",{children:i})]})]})})})})},In={sm:"px-2 py-0.5 -my-0.5 text-xs leading-5",md:"px-2.5 py-0.5 -my-0.5 text-sm leading-6"},Cn={gray:"bg-gray-400 text-gray-800 dark:bg-gray-500 dark:text-gray-300 bg-opacity-25 dark:bg-opacity-25",red:"bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25",orange:"bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25",yellow:"bg-yellow-400 text-yellow-800 dark:bg-yellow-500 dark:text-yellow-300 bg-opacity-25 dark:bg-opacity-25",green:"bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25",teal:"bg-teal-400 text-teal-800 dark:bg-teal-500 dark:text-teal-300 bg-opacity-25 dark:bg-opacity-25",blue:"bg-blue-400 text-blue-800 dark:bg-blue-500 dark:text-blue-300 bg-opacity-25 dark:bg-opacity-25",indigo:"bg-indigo-400 text-indigo-800 dark:bg-indigo-500 dark:text-indigo-300 bg-opacity-25 dark:bg-opacity-25",purple:"bg-purple-400 text-purple-800 dark:bg-purple-500 dark:text-purple-300 bg-opacity-25 dark:bg-opacity-25",pink:"bg-pink-400 text-pink-800 dark:bg-pink-500 dark:text-pink-300 bg-opacity-25 dark:bg-opacity-25"},Sn=function(e){var t=e.color,n=e.size,i=void 0===n?"md":n,a=e.icon,r=e.className,c=e.children;return Object(S.jsxs)("span",{className:Object(h.a)("inline-flex items-center font-medium",Cn[t],In[i],"rounded",r),children:[void 0!==a?a:Object(S.jsx)("svg",{className:"mr-2 h-2 w-2",fill:"currentColor",viewBox:"0 0 8 8",children:Object(S.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),c]})},En=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.className;return Object(S.jsxs)("div",{className:Object(h.a)("flex justify-between items-center flex-wrap sm:flex-nowrap",a),children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-lg leading-5 font-medium text-gray-900 dark:text-white",children:t}),n&&Object(S.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300",children:n})]}),Object(S.jsx)("div",{className:"flex-shrink-0",children:i&&i.filter(F).length>0?Object(S.jsx)(Ie,{actions:i}):Object(S.jsx)(xt,{})})]})},Tn=function(){var e={cols:[{title:"Name",value:function(e){return e.name}},{title:"Enabled",value:function(e){return Object(S.jsx)(Sn,{color:e.enabled?"green":"red",icon:e.enabled?Object(S.jsx)(K.i,{className:"w-5 h-5"}):Object(S.jsx)(K.B,{className:"w-5 h-5"})})},width:"minmax(auto, max-content)"}],actions:function(e){return[{icon:Object(S.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/notifications/".concat(e.id,"/edit")},{title:"Test",icon:Object(S.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0}],[{title:"Delete",intent:"danger",icon:Object(S.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.notifications.remove(e.id)}})}}]]}]}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Notifications",actions:[{title:"Create Notification",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/notifications/create"}]})}),Object(S.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(S.jsx)(Pe,{schema:e,items:v.notifications.all(),className:"-mb-px"})})]})})]})},Dn=function(e){var t=e.children,n=e.isOptional,i=e.onClick;return Object(S.jsx)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",onClick:i,children:t&&Object(S.jsxs)(S.Fragment,{children:[t," ",n&&Object(S.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]})})},Pn=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.vertical,r=void 0!==a&&a,c=e.children;return Object(S.jsxs)("div",{className:Object(h.a)(r?"flex flex-col space-y-6":"md:grid md:grid-cols-3 md:gap-6"),children:[Object(S.jsxs)("div",{className:"md:col-span-1",children:[Object(S.jsx)("h3",{className:"-mt-1 text-lg font-medium leading-6 text-gray-900 dark:text-white",children:t}),n&&Object(S.jsx)("div",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300",children:n}),i&&Object(S.jsx)("div",{className:"mt-2",children:Object(S.jsx)(Ie,{actions:i})})]}),Object(S.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:c})]})},Mn={dark:{border:"border-b border-gray-600",tab:"",tabInactive:"whitespace-nowrap py-2 border-b border-transparent font-medium text-sm leading-5 text-white hover:text-gray-100 hover:border-gray-500 focus:outline-none focus:text-gray-100 focus:border-gray-300 antialiased",tabActive:"whitespace-nowrap py-2 border-b border-indigo-500 font-medium text-sm leading-5 text-indigo-300 focus:outline-none focus:text-indigo-600 focus:border-indigo-400 antialiased"},light:{border:"border-b border-gray-300 dark:border-gray-600 font-medium text-sm leading-5",tab:"whitespace-nowrap py-4 px-4 border-b -mb-px",tabInactive:"border-transparent text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300",tabActive:"border-indigo-600 text-indigo-600 dark:border-white dark:text-white focus:outline-none focus:text-indigo-800 dark:focus:text-indigo-400 focus:border-indigo-700"},card:{border:"",tab:"whitespace-nowrap px-4 py-3 dark:bg-gray-700 rounded-tl-md rounded-tr-md px-4 mr-2 font-medium text-sm leading-5 shadow",tabInactive:"bg-gray-100 dark:bg-gray-750 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 relative z-10",tabActive:"bg-white text-black dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700 relative z-20"},buttons:{border:"",tab:"whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5",tabInactive:"bg-gray-200 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300",tabActive:"bg-gray-700 text-white dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700"},links:{border:"",tab:"whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5",tabInactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:text-gray-700",tabActive:"text-indigo-600 dark:text-indigo-300 focus:outline-none focus:text-indigo-800"}},zn=function(e){var t=e.items,n=e.theme,i=void 0===n?"dark":n,a=e.activeIndex,r=e.getActiveIndex,c=e.className,l=t.filter(F),o=void 0!==r?r(l):a||0;return Object(S.jsxs)("div",{className:Object(h.a)(c),children:[Object(S.jsx)("div",{className:"sm:hidden",children:Object(S.jsx)("select",{className:"form-input block w-full dark:bg-gray-800 dark:placeholder-gray-400 dark:border-gray-600",value:o,onChange:function(e){var t=+e.target.value,n=l[t];W(n)?Object(s.e)(n.to,{state:n.state,replace:n.replace}):X(n)&&n.onClick(n,t)},children:l.map((function(e,t){return Object(S.jsx)("option",{value:t,children:e.simpleTitle||e.title},t)}))})}),Object(S.jsx)("div",{className:"hidden sm:block py-2",children:Object(S.jsx)("div",{className:Mn[i].border,children:Object(S.jsx)("div",{className:"flex items-end overflow-x-auto px-2 -m-2 overflow-y-hidden -mb-2",children:l.map((function(e,t){return W(e)?Object(S.jsx)(s.a,{to:"".concat("/nzdrc-mockup").concat(e.to),state:e.state,replace:e.replace,children:Object(S.jsxs)("div",{className:Object(h.a)("cursor-pointer",Mn[i].tab,t===o?Mn[i].tabActive:Mn[i].tabInactive),children:[e.title,e.errors&&e.errors>0&&Object(S.jsx)(Sn,{color:"red",className:"ml-2",children:e.errors})]})},t):X(e)?Object(S.jsxs)("div",{className:Object(h.a)("cursor-pointer",Mn[i].tab,(void 0!==e.key?e.key:t)===o?Mn[i].tabActive:Mn[i].tabInactive),onClick:function(){return e.onClick(e,t)},children:[e.title,e.errors&&e.errors>0&&Object(S.jsx)(Sn,{color:"red",className:"ml-2",children:e.errors})]},t):null}))})})})]})},Vn=n(139),Fn=[{label:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(K.n,{className:"w-5 h-5 text-gray-500"}),Object(S.jsx)("div",{children:"Action"})]}),value:"action"},{label:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(K.y,{className:"w-5 h-5 text-gray-500"}),Object(S.jsx)("div",{children:"Repeat"})]}),value:"repeat"},{label:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(K.g,{className:"w-5 h-5 text-gray-500"}),Object(S.jsx)("div",{children:"Date"})]}),value:"date"}],Rn=[{label:"day",value:"day"},{label:"week",value:"week"},{label:"month",value:"month"},{label:"year",value:"year"}],Bn=[{label:"monday",value:"monday"},{label:"tuesday",value:"tuesday"},{label:"wednesday",value:"wednesday"},{label:"thursday",value:"thursday"},{label:"friday",value:"friday"},{label:"saturday",value:"saturday"},{label:"sunday",value:"sunday"}],Hn=[{label:"january",value:"january"},{label:"february",value:"february"},{label:"march",value:"march"},{label:"april",value:"april"},{label:"may",value:"may"},{label:"june",value:"june"},{label:"july",value:"july"},{label:"august",value:"august"},{label:"september",value:"september"},{label:"october",value:"october"},{label:"november",value:"november"},{label:"december",value:"december"}],Ln=function(e){return new Array(e).fill(null).map((function(e,t){return{label:Re(t+1),value:t+1}}))},Gn=function(e){return{january:Ln(31),february:Ln(28),march:Ln(31),april:Ln(30),may:Ln(31),june:Ln(30),july:Ln(31),august:Ln(31),september:Ln(30),october:Ln(31),november:Ln(30),december:Ln(31)}[e]},Qn=[{label:"minute",value:"minute"},{label:"hour",value:"hour"},{label:"day",value:"day"},{label:"week",value:"week"},{label:"month",value:"month"},{label:"year",value:"year"}],qn=[{label:"before",value:"before"},{label:"after",value:"after"}],Wn=n(52),Xn=n.n(Wn),Yn=function(e,t){var n=t.setFieldValue,a=t.getFieldProps(e),r=t.getFieldMeta(a.name),c=Object(i.useRef)(a.value);Object(i.useEffect)((function(){c.current=a.value}),[a.value]);var s=Object(i.useCallback)((function(e){c.current=Xn()(c.current,{$push:[e]}),n(a.name,c.current)}),[a.name,n]),l=Object(i.useCallback)((function(e,t){var i=c.current[e],r=c.current[t];c.current=Xn()(c.current,{$splice:[[e,1,r],[t,1,i]]}),n(a.name,c.current)}),[a.name,n]),o=Object(i.useCallback)((function(e,t){var i=c.current[e];c.current=Xn()(c.current,{$splice:[[e,1],[t,0,i]]}),n(a.name,c.current)}),[a.name,n]),d=Object(i.useCallback)((function(e,t){c.current=Xn()(c.current,{$splice:[[e,0,t]]}),n(a.name,c.current)}),[a.name,n]),u=Object(i.useCallback)((function(e){return c.current=Xn()(c.current,{$unshift:[e]}),n(a.name,c.current),c.current.length}),[a.name,n]),b=Object(i.useCallback)((function(e){var t=c.current[e];return c.current=Xn()(c.current,{$splice:[[e,1]]}),n(a.name,c.current),t}),[a.name,n]),j=Object(i.useCallback)((function(){var e=c.current.length-1,t=c.current[e];return c.current=Xn()(c.current,{$splice:[[e,1]]}),n(a.name,c.current),t}),[a.name,n]),m=Object(i.useCallback)((function(e,t){c.current=Xn()(c.current,{$splice:[[e,1,t]]}),n(a.name,c.current)}),[a.name,n]);return{field:a,values:a.value||[],meta:r,arrayHelpers:{push:s,swap:l,move:o,insert:d,unshift:u,remove:b,pop:j,replace:m}}},Un=n(179),Kn=n.n(Un),Jn={toolbar:[[{header:[1,2,!1]}],["bold","italic",{color:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]]},Zn=Object(i.forwardRef)((function(e,t){var n=e.name,i=e.label,a=e.className,r=e.validations,s=void 0===r?{}:r,l=e.hideOptional,o=e.disabled,d=e.modules,u=e.actions,b=Object(Lt.f)(),j=Object(Lt.d)({name:n,validate:Wt(s)}),m=Object(c.a)(j,3),f=m[0].value,x=m[1],v=x.error,g=x.touched,O=m[2],p=O.setValue,y=O.setTouched,N=!!s.required;return Object(S.jsxs)("div",{className:Object(h.a)(a),children:[i&&Object(S.jsxs)("div",{className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default",children:[i," ",!N&&!l&&Object(S.jsx)("span",{className:"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75",children:"(optional)"})]}),Object(S.jsxs)("div",{className:Object(h.a)("relative h-full",i&&"mt-1"),children:[u&&Object(S.jsx)("div",{className:"absolute top-0 right-0 mr-1.5 h-11 flex items-center",children:Object(S.jsx)(Ie,{actions:u})}),Object(S.jsx)(Kn.a,{ref:t,value:f||"",onChange:function(e){p(e)},onBlur:function(e){y(!0)},modules:d||Jn,readOnly:o||b.isSubmitting,className:"h-full"})]}),v&&g&&Object(S.jsx)("p",{className:"mt-2 text-sm text-red-600",children:v})]})})),_n=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(c.a)(n,2),r=a[0],s=a[1];return Object(S.jsx)("div",{className:Object(h.a)(r?"fixed z-[9999] w-screen h-screen":"static","top-0 left-0"),children:t(s,r)})},$n=function(e,t){var n=v.entities.find((function(e){return"user"===e.key}));return[{title:"Recipient",icon:Object(S.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",hoverable:!0,placement:"left-start",actions:v.fields.all((function(e){return e.entityId===(null===n||void 0===n?void 0:n.id)})).map((function(t){return{title:t.name,onClick:function(){return e("{{recipient-".concat(t.key,"}}"))}}}))}].concat(Object(g.a)(v.entities.all().map((function(t){return{title:t.name,icon:Object(S.jsx)(K.k,{className:"w-4 h-4"}),iconSide:"left",hoverable:!0,placement:"left-start",actions:v.fields.all((function(e){return e.entityId===t.id})).map((function(n){return{title:n.name,onClick:function(){return e("{{".concat(t.key,"-").concat(n.key,"}}"))}}}))}}))))},ei=function(e){var t=e.name,n=e.label,a=e.validations,r=(e.focus,Object(i.useRef)(null)),c=function(e){var t,n=null===(t=r.current)||void 0===t?void 0:t.getEditor(),i=null===n||void 0===n?void 0:n.getSelection(),a=null===n||void 0===n?void 0:n.getText();if(n&&a){var c=null===i||void 0===i?void 0:i.index,s=null===i||void 0===i?void 0:i.length;c?(s&&n.deleteText(c,s),n.insertText(c,e)):n.insertText(n.getText().length-1,e)}};return Object(S.jsx)(_n,{children:function(e,i){return Object(S.jsxs)("div",{className:Object(h.a)(i&&"bg-white h-full"),children:[!i&&n&&Object(S.jsx)(Dn,{children:n}),Object(S.jsx)(Zn,{name:t,validations:a,className:Object(h.a)(!i&&n&&"mt-1",i&&"h-full pb-10"),ref:r,actions:[{title:"Insert Tag",icon:Object(S.jsx)(K.j,{className:"w-4 h-4"}),iconSide:"right",intent:"secondary",size:"sm",actions:$n(c)||[]},{icon:i?Object(S.jsx)(K.B,{className:"w-4 h-4 -mx-1"}):Object(S.jsx)(K.e,{className:"w-4 h-4 -mx-1"}),size:"sm",onClick:function(){return e((function(e){return!e}))}}]})]})}})},ti=function(e){var t=e.index,n=e.remove,i=Object(Lt.f)(),a=Yn("ruleGroups.".concat(t,".rules"),i),r=a.values,c=a.arrayHelpers,s=c.push,l=c.remove;return Object(S.jsxs)("div",{className:"relative",children:[Object(S.jsx)("div",{className:"absolute top-0 right-0 -mr-3 -my-3",children:Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(Vn.a,{className:"w-4 h-4 -mx-1 text-red-500"}),intent:"secondary",size:"sm",rounded:"full",onClick:n}})}),Object(S.jsxs)(U,{className:"p-4 rounded-md bg-gray-100 dark:bg-gray-750",children:[r.map((function(e,n){return Object(S.jsx)(ni,{groupIndex:t,index:n,remove:function(){return l(n)},prefix:0===n?"IF":"AND"},n)})),Object(S.jsx)(Ie,{actions:{title:"Add condition",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),onClick:function(){return s({entity:"",field:"",operator:"",value:""})}}})]})]})},ni=function(e){var t,n=e.groupIndex,i=e.index,a=e.prefix,r=e.remove,c=Object(Lt.f)(),s=Xt("ruleGroups.".concat(n,".rules.").concat(i,".entity"),c),l=Xt("ruleGroups.".concat(n,".rules.").concat(i,".field"),c),o=Xt("ruleGroups.".concat(n,".rules.").concat(i,".operator"),c),d=v.fields.find(l),u=(null===d||void 0===d?void 0:d.type)||"string",b=(null===d||void 0===d?void 0:d.options)||[];return Object(S.jsxs)("div",{className:"flex items-center justify-between space-x-3",children:[Object(S.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[Object(S.jsx)("span",{className:"text-sm font-medium text-center p-1 w-full max-w-[50px] rounded-full bg-white dark:bg-gray-800 text-indigo-600 dark:text-indigo-400 border border-gray-300 dark:border-gray-600",children:a}),Object(S.jsx)(Zt,{name:"ruleGroups.".concat(n,".rules.").concat(i,".entity"),options:v.entities.all().map((function(e){return{value:e.id,label:e.name}})),className:"w-full max-w-[100px]"}),Object(S.jsx)(Zt,{name:"ruleGroups.".concat(n,".rules.").concat(i,".field"),options:v.fields.all((function(e){return e.entityId===s})).map((function(e){return{value:e.id,label:e.name}}))||[],className:"w-full max-w-[200px]"}),Object(S.jsx)(Zt,{name:"ruleGroups.".concat(n,".rules.").concat(i,".operator"),options:(t=u,{date:[{label:"is before",value:"isBefore"},{label:"is after",value:"isAfter"},{label:"is same minute as",value:"sameMinute"},{label:"is same hour as",value:"sameHour"},{label:"is same day as",value:"sameDay"}],string:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"},{label:"includes",value:"stringIncludes"},{label:"doesn't include",value:"stringNotIncludes"},{label:"starts with",value:"stringStarts"},{label:"ends with",value:"stringEnds"},{label:"is empty",value:"stringEmpty"},{label:"is not empty",value:"stringNotEmpty"}],number:[{label:"is",value:"numberEquals"},{label:"is greater than",value:"numberGT"},{label:"is at least",value:"numberGTE"},{label:"is lesser than",value:"numberLT"},{label:"is at most",value:"numberLTE"}],boolean:[{label:"is true",value:"true"},{label:"is false",value:"false"}],users:[{label:"includes",value:"collectionIncludes"},{label:"doesn't include",value:"collectionNotIncludes"}],user:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"}],option:[{label:"is",value:"stringIs"},{label:"is not",value:"stringNot"}]}[t]||[]),className:"w-full max-w-[200px]"}),"date"===u?Object(S.jsx)(mn,{name:"ruleGroups.".concat(n,".rules.").concat(i,".value"),className:"w-full max-w-[200px]"}):"string"===u&&"stringEmpty"!==o&&"stringNotEmpty"!==o?Object(S.jsx)(Ut,{name:"ruleGroups.".concat(n,".rules.").concat(i,".value"),className:"w-full max-w-[200px]"}):"option"===u?Object(S.jsx)(Zt,{name:"ruleGroups.".concat(n,".rules.").concat(i,".value"),options:b.map((function(e){return{value:e,label:e}})),className:"w-full max-w-[200px]"}):null]}),Object(S.jsx)("div",{children:Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(Vn.a,{className:"w-4 h-4 text-red-500 -mx-2"}),intent:"invisible",onClick:r}})})]})},ii=function(e){var t=e.id,n=e.mode,a=v.notifications.find(t),r=qt({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",focus:(null===a||void 0===a?void 0:a.focus)||"",enabled:(null===a||void 0===a?void 0:a.enabled)||!1,enabledDate:(null===a||void 0===a?void 0:a.enabledDate)||void 0,triggerType:(null===a||void 0===a?void 0:a.triggerType)||"action",triggerRepeat:(null===a||void 0===a?void 0:a.triggerRepeat)||1,triggerEvery:(null===a||void 0===a?void 0:a.triggerEvery)||"",triggerYearIn:(null===a||void 0===a?void 0:a.triggerYearIn)||"",triggerMonthOn:(null===a||void 0===a?void 0:a.triggerMonthOn)||"",triggerWeekOn:(null===a||void 0===a?void 0:a.triggerWeekOn)||"",triggerDayAt:(null===a||void 0===a?void 0:a.triggerDayAt)||"",triggerAction:(null===a||void 0===a?void 0:a.triggerAction)||"",obeyTriggerTiming:(null===a||void 0===a?void 0:a.obeyTriggerTiming)||!0,triggerTimingType:(null===a||void 0===a?void 0:a.triggerTimingType)||"",triggerTiming:(null===a||void 0===a?void 0:a.triggerTiming)||"",triggerDate:(null===a||void 0===a?void 0:a.triggerDate)||"",ruleGroups:(null===a||void 0===a?void 0:a.ruleGroups)||[],subject:(null===a||void 0===a?void 0:a.subject)||"",content:(null===a||void 0===a?void 0:a.content)||""},onSubmit:function(e){v.notifications.save(Object(l.a)(Object(l.a)({id:Object(o.a)()},a||{}),e)),Object(s.e)("/settings/notifications")}}),c=Yn("ruleGroups",r),d=c.values,u=c.arrayHelpers,b=u.push,j=u.remove,m=Xt("triggerType",r),f=Xt("triggerRepeat",r),x=Xt("triggerEvery",r),g=Xt("triggerYearIn",r),h=Xt("triggerMonthOn",r),O=Xt("triggerWeekOn",r),p=Xt("triggerTiming",r),y=Xt("triggerTimingType",r),N=Xt("enabled",r),k=Xt("subject",r),I=Xt("focus",r),C=Fn.findIndex((function(e){return e.value===m})),E="create"===n?"Create Notification":"Edit Notification";return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:E,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/notifications"}}),Object(S.jsx)("div",{children:E})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(Qt,{context:r,children:Object(S.jsxs)(U,{dividers:!0,children:[Object(S.jsx)(Pn,{title:"Details",subtitle:"Basic information about the notification",children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"Notification is about"}),Object(S.jsx)(Zt,{name:"focus",options:v.entities.all().map((function(e){return{value:e.id,label:e.name}})),validations:{required:"Focus is required"},className:"w-[150px]"})]}),Object(S.jsx)(xn,{name:"enabled",label:"Enabled"}),Object(S.jsx)(z,{show:!!N,children:Object(S.jsx)(mn,{name:"enabledDate",label:"Enabled from"})})]})})}),Object(S.jsxs)(Pn,{title:"Trigger",subtitle:Object(S.jsxs)("div",{className:"space-y-3",children:[Object(S.jsx)("div",{children:"Choose how to trigger the notification"}),Object(S.jsxs)("ul",{className:"list-disc pl-5 text-xs",children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("strong",{children:"Action"}),": When a certain action occurs within the platform"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("strong",{children:"Repeat"}),": On a recurring schedule"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("strong",{children:"Date"}),": Relative to a defined date"]})]})]}),children:[Object(S.jsx)("div",{className:"pl-2",children:Object(S.jsx)(zn,{activeIndex:C,theme:"card",items:Fn.map((function(e,t){return{title:Object(S.jsx)("div",{className:"flex items-center space-x-3",children:e.label}),simpleTitle:Object(Se.a)(e.label),onClick:function(){return r.setFieldValue("triggerType",e.value)}}}))})}),Object(S.jsx)("div",{className:"relative z-10",children:Object(S.jsx)(ft,{children:Object(S.jsx)(U,{children:Object(S.jsxs)("div",{children:[Object(S.jsx)(U,{className:"action"===m?"":"hidden",children:Object(S.jsx)("div",{className:"w-[300px]",children:Object(S.jsx)(Zt,{name:"triggerAction",options:v.actions.all((function(e){return e.entityId===I})).map((function(e){return{value:e.id,label:e.name}})),placeholder:"Select action..."})})}),Object(S.jsx)(U,{className:"repeat"===m?"":"hidden",children:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"Every"}),Object(S.jsx)("div",{className:"w-[60px]",children:Object(S.jsx)(Ut,{name:"triggerRepeat",validations:{required:"required",min:{value:1,message:"Every must be at least 1"}},placeholder:"",type:"number",inputProps:{min:1}})}),Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerEvery",options:Rn.map((function(e){return{label:e.label+((f||1)>1?"s":""),value:e.value}})),placeholder:""})})]}),"year"===x&&Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"in"}),Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerYearIn",options:Hn,validations:{required:"Time is required"},placeholder:""})})]}),("month"===x||"year"===x&&F(g))&&Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"on the"}),Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerMonthOn",options:"month"===x?(Gn(g||"february")||[]).concat([{label:"last day",value:1/0}]):Gn(g||"february")||[],validations:{required:"Time is required"},placeholder:""})})]}),"week"===x&&Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"on"}),Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerWeekOn",options:Bn,validations:{required:"Time is required"},placeholder:""})})]}),("day"===x||F(O)||F(h))&&Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Dn,{children:"at"}),Object(S.jsx)("div",{className:"w-[130px]",children:Object(S.jsx)(Ut,{name:"triggerDayAt",type:"time"})})]})]})}),Object(S.jsx)(U,{className:"date"===m?"":"hidden",children:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)("div",{className:"w-[60px]",children:Object(S.jsx)(Ut,{name:"triggerRepeat",validations:{required:"required",min:{value:1,message:"min 1"}},placeholder:"",type:"number",inputProps:{min:1}})}),Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerTiming",options:Qn.map((function(e){return{label:e.label+((f||1)>1?"s":""),value:e.value}})),placeholder:""})}),p&&Object(S.jsx)("div",{className:"w-[100px]",children:Object(S.jsx)(Zt,{name:"triggerTimingType",options:qn,validations:{required:"required"},placeholder:""})}),y&&Object(S.jsx)("div",{className:"w-[200px]",children:Object(S.jsx)(Zt,{name:"triggerDate",options:v.fields.all((function(e){return e.entityId===I&&"date"===e.type})).map((function(e){return{value:e.id,label:e.name}})),validations:{required:"required"},placeholder:""})})]})})]})})})})]}),Object(S.jsx)(Pn,{title:"Conditions",subtitle:"Fine grained controls over if the notification gets sent",children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[d.map((function(e,t){return Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(ti,{index:t,remove:function(){return j(t)}}),t!==d.length-1&&Object(S.jsx)("div",{className:"flex justify-center",children:Object(S.jsx)("span",{className:"text-sm font-medium px-4 py-1 rounded-full bg-indigo-600 text-white",children:"OR"})})]},t)})),Object(S.jsx)(Ie,{actions:{title:"Add condition set",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),onClick:function(){return b({rules:[]})}}})]})})}),Object(S.jsx)(Pn,{title:"Template",subtitle:Object(S.jsxs)("div",{className:"space-y-3",children:[Object(S.jsx)("div",{children:"Customise the content of the email message"}),Object(S.jsx)("div",{children:"Use the tag reference to add placeholders for real values"}),Object(S.jsx)(Ie,{actions:[{title:"Import Template",icon:Object(S.jsx)(K.j,{className:"w-5 h-5"}),iconSide:"right",placement:"bottom-start",actions:v.templates.all().map((function(e){return{title:e.name,onClick:function(){var t=Object(A.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,""===r.values.content||"<p><br></p>"===r.values.content){t.next=6;break}return t.next=4,ne({title:"Are you sure?",message:"This will overwrite your existing email content",intent:"primary",onAccept:function(){n=!0}});case 4:t.next=7;break;case 6:n=!0;case 7:n&&r.setFieldValue("content",e.content);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))}]})]}),children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[Object(S.jsxs)("div",{className:"flex items-start",children:[Object(S.jsx)(Ut,{name:"subject",label:"Subject line",validations:{required:"Subject line is required"},className:"flex-1 mr-3"}),Object(S.jsx)("div",{className:"mt-6",children:Object(S.jsx)(Ie,{actions:{title:"Insert Tag",icon:Object(S.jsx)(K.j,{className:"w-5 h-5"}),iconSide:"right",actions:$n((function(e){r.setFieldValue("subject",(null===k||void 0===k?void 0:k.length)?"".concat(k).concat(e):"".concat(e))}))||[]}})})]}),Object(S.jsx)(ei,{name:"content",label:"Content",validations:{required:"Content is required"},focus:I})]})})}),Object(S.jsx)("div",{className:"flex items-center justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Test",intent:"secondary",icon:Object(S.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!F(I)||!0},{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit",disabled:!F(I)}]})})]})})})]})},ai=function(){var e={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e){return[{icon:Object(S.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/templates/".concat(e.id,"/edit")},{title:"Test",icon:Object(S.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0}],[{title:"Delete",intent:"danger",icon:Object(S.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.templates.remove(e.id)}})}}]]}]}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Templates",actions:[{title:"Create Template",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/templates/create"}]})}),Object(S.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(S.jsx)(Pe,{schema:e,items:v.templates.all(),className:"-mb-px"})})]})})]})},ri=function(e){var t=e.id,n=e.mode,i=v.templates.find(t),a=qt({initialValues:{name:(null===i||void 0===i?void 0:i.name)||"",content:(null===i||void 0===i?void 0:i.content)||""},onSubmit:function(e){v.templates.save(Object(l.a)(Object(l.a)({id:Object(o.a)()},i||{}),e)),Object(s.e)("/settings/templates")}}),r="create"===n?"Create Template":"Edit Template";return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:r,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/templates"}}),Object(S.jsx)("div",{children:r})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(Qt,{context:a,children:Object(S.jsxs)(bt,{children:[Object(S.jsx)(jt,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(S.jsx)(ei,{name:"content",label:"Content",validations:{required:"Content is required"},focus:"all"})]})}),Object(S.jsx)(mt,{children:Object(S.jsx)("div",{className:"flex items-center justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Test",intent:"secondary",icon:Object(S.jsx)(K.f,{className:"w-5 h-5"}),onClick:function(){},disabled:!0},{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})})]})})})]})},ci=function(){var e={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e){return[{icon:Object(S.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/roles/".concat(e.id,"/edit")}],[{title:"Delete",intent:"danger",icon:Object(S.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.roles.remove(e.id)}})}}]]}]}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Roles",actions:[{title:"Create Role",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/roles/create"}]})}),Object(S.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(S.jsx)(Pe,{schema:e,items:v.roles.all(),className:"-mb-px"})})]})})]})},si=function(e){var t,n=e.name,i=e.label,a=e.disabled,r=e.inputClassName,s=e.color,o=void 0===s?"text-primary-500 dark:text-primary-600":s,d=e.className,u=Object(Lt.d)({name:n,type:"checkbox"}),b=Object(c.a)(u,1)[0],j=Object(Lt.f)();return Object(S.jsx)("div",{className:Object(h.a)(d),children:Object(S.jsxs)("label",{className:"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer",children:[Object(S.jsx)("input",Object(l.a)(Object(l.a)({},b),{},{type:"checkbox",className:Object(h.a)("form-checkbox",r,(t={},Object(N.a)(t,o,!a),Object(N.a)(t,"text-gray-400",a),t)),disabled:a||j.isSubmitting})),i&&Object(S.jsx)("span",{className:"ml-3",children:i})]})})},li=function(e){var t=e.title,n=e.subtitle,i=e.actions,a=e.className;return Object(S.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-600",children:Object(S.jsxs)("div",{className:Object(h.a)("flex flex-col sm:flex-row justify-between items-start sm:items-center flex-wrap sm:flex-nowrap space-y-4 sm:space-y-0",a),children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",children:t}),n&&Object(S.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-400",children:n})]}),Object(S.jsx)("div",{className:"flex-shrink-0 my-0 sm:-my-2",children:i&&i.length>0?Object(S.jsx)(Ie,{actions:i}):Object(S.jsx)("div",{className:"hidden sm:block",children:Object(S.jsx)(xt,{})})})]})})},oi=function(e){var t=e.children,n=e.className;return Object(S.jsx)("div",{className:Object(h.a)("border border-gray-200 dark:border-gray-600 rounded-md overflow-hidden",n),children:t})},di=function(e){var t=e.id,n=e.mode,i=v.roles.find(t),a=qt({initialValues:{name:(null===i||void 0===i?void 0:i.name)||"",entities:v.entities.all().reduce((function(e,n){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},n.key,{fields:v.fields.all((function(e){return e.entityId===n.id})).reduce((function(e,n){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},n.key,v.fieldPermissions.find((function(e){return e.fieldId===n.id&&e.roleId===t}))||{id:"",view:!0,modify:!0,roleId:t||"",fieldId:n.id}))}),{}),actions:v.actions.all((function(e){return e.entityId===n.id})).reduce((function(e,n){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},n.key,v.actionPermissions.find((function(e){return e.actionId===n.id&&e.roleId===t}))||{id:"",perform:!0,roleId:t||"",actionId:n.id}))}),{}),relations:v.relations.all((function(e){return e.entityId===n.id})).reduce((function(e,n){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},n.key,v.relationPermissions.find((function(e){return e.relationId===n.id&&e.roleId===t}))||{id:"",view:!0,modify:!0,remove:!0,roleId:t||"",relationId:n.id}))}),{})}))}),{})},onSubmit:function(e){v.roles.save(Object(l.a)(Object(l.a)({},i||{}),{},{name:e.name})),v.entities.all().forEach((function(t){Object.values(e.entities[t.key].fields).forEach((function(e){v.fieldPermissions.save(Object(l.a)(Object(l.a)({},e),{},{id:e.id||void 0}))})),Object.values(e.entities[t.key].actions).forEach((function(e){v.actionPermissions.save(Object(l.a)(Object(l.a)({},e),{},{id:e.id||void 0}))})),Object.values(e.entities[t.key].relations).forEach((function(e){v.relationPermissions.save(Object(l.a)(Object(l.a)({},e),{},{id:e.id||void 0}))}))})),Object(s.e)("".concat("/nzdrc-mockup","/settings/roles"))}}),r="create"===n?"Create Role":"Edit Role";return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:r,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/roles"}}),Object(S.jsx)("div",{children:r})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(Qt,{context:a,children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Pn,{title:"Details",subtitle:"Basic details about the role",children:Object(S.jsx)(ft,{children:Object(S.jsx)(U,{children:Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}})})})}),Object(S.jsx)(Pn,{title:"Permissions",subtitle:"A view of permissions for all existing entity types and their fields/actions/relations",children:Object(S.jsx)(U,{children:v.entities.all().map((function(e){return Object(S.jsxs)(bt,{children:[Object(S.jsx)(li,{title:e.name}),Object(S.jsx)("div",{className:"rounded-b-md overflow-hidden",children:Object(S.jsxs)(U,{className:"p-6",children:[function(){var t,n=v.fields.all((function(t){return t.entityId===e.id}));return n.length>0&&Object(S.jsx)(oi,{children:Object(S.jsx)(Pe,{schema:(t=e.key,{cols:[{title:"Field",value:function(e){return e.name}},{title:"View",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".fields.").concat(e.key,".view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".fields.").concat(e.key,".modify")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}(),function(){var t,n=v.actions.all((function(t){return t.entityId===e.id}));return n.length>0&&Object(S.jsx)(oi,{children:Object(S.jsx)(Pe,{schema:(t=e.key,{cols:[{title:"Action",value:function(e){return e.name}},{title:"Perform",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".actions.").concat(e.key,".perform")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}(),function(){var t,n=v.relations.all((function(t){return t.entityId===e.id}));return n.length>0&&Object(S.jsx)(oi,{children:Object(S.jsx)(Pe,{schema:(t=e.key,{cols:[{title:"Relation",value:function(e){return e.name}},{title:"View",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".relations.").concat(e.key,".view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".relations.").concat(e.key,".modify")})})},width:"minmax(auto, max-content)"},{title:"Remove",value:function(e,n){return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"entities.".concat(t,".relations.").concat(e.key,".remove")})})},width:"minmax(auto, max-content)"}]}),items:n,className:"-my-px"})})}()]})})]},e.key)}))})}),Object(S.jsx)("div",{className:"flex items-center justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"create"===n?"Create":"Save",intent:"primary",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},ui=function(){var e={cols:[{title:"Name",value:function(e){return e.name}},{title:"Fields",value:function(e){return v.fields.all((function(t){return t.entityId===e.id})).length||""}},{title:"Actions",value:function(e){return v.actions.all((function(t){return t.entityId===e.id})).length||""}},{title:"Relations",value:function(e){return v.relations.all((function(t){return t.entityId===e.id})).length||""}}],actions:function(e){return[{icon:Object(S.jsx)(K.p,{className:"w-5 h-5"}),intent:"menu",actions:[[{title:"Edit",icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/entities/".concat(e.id,"/edit")}],[{title:"Delete",intent:"danger",icon:Object(S.jsx)(K.z,{className:"w-5 h-5"}),onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){v.entities.remove(e.id)}})}}]]}]}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Entities",actions:[{title:"Create Entity",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/entities/create"}]})}),Object(S.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(S.jsx)(Pe,{schema:e,items:v.entities.all(),className:"-mb-px"})})]})})]})},bi=function(e){Object(it.a)(n,e);var t=Object(at.a)(n);function n(){return Object(tt.a)(this,n),t.apply(this,arguments)}return Object(nt.a)(n,[{key:"componentDidCatch",value:function(e){ue.a(e),console.dir(e)}},{key:"render",value:function(){var e;return F(null===(e=this.state)||void 0===e?void 0:e.error)?Object(S.jsx)(this.props.render,{error:this.state.error}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(i.Component),ji=function(e){var t=e.error;return Object(S.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(S.jsx)("h4",{className:"alert-heading",children:"Something went wrong"}),Object(S.jsx)("hr",{}),t.message&&Object(S.jsx)("p",{className:"m-0",children:t.message})]})},mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loader,a=void 0===n?Object(S.jsx)(Qe,{}):n,r=t.error,c=void 0===r?ji:r;return function(t){return Object(S.jsx)(bi,{render:c,children:Object(S.jsx)(i.Suspense,{fallback:a,children:Object(S.jsx)(e,Object(l.a)({},t))})})}}((function(e){return e.render}));function fi(){return(fi=Object(A.a)(w.a.mark((function e(t){var n,i,a,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.render,i=t.size,a=void 0===i?"md":i,r=t.mode,c=void 0===r?"":r,e.next=3,re({size:a,mode:c,children:function(e){return Object(S.jsx)(xi,{render:n,close:e})}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xi=function(e){var t=e.render,n=e.close;return Object(S.jsxs)("div",{className:"h-full w-full relative",children:[Object(S.jsx)("div",{className:"absolute top-0 left-0 -mx-12 mt-2",children:Object(S.jsx)(Ie,{actions:[{icon:Object(S.jsx)(K.B,{className:"w-5 h-5 -mx-2 text-white"}),intent:"invisible",onClick:function(){return n()}}]})}),Object(S.jsx)("div",{className:"h-full divide-y divide-gray-200 dark:divide-gray-600 flex flex-col bg-white dark:bg-gray-700 shadow-xl",children:Object(S.jsx)("div",{className:"flex-1 h-0 flex flex-col",children:Object(S.jsx)(mi,{render:t(n)})})})]})},vi=function(e){var t=e.title,n=e.subtitle,i=e.actions;return Object(S.jsxs)("div",{className:"py-6 px-4 bg-primary-500 dark:bg-primary-600 sm:px-6 flex-shrink-0",children:[Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[Object(S.jsx)("div",{className:"text-lg font-medium text-white antialiased",children:t}),Object(S.jsx)("div",{className:"ml-3 h-7 flex items-center",children:i&&Object(S.jsx)(Ie,{actions:i})})]}),n&&Object(S.jsx)("div",{className:"mt-1",children:Object(S.jsx)("div",{className:"text-sm text-white opacity-75 antialiased",children:n})})]})},gi=function(e){var t=e.className,n=e.children;return Object(S.jsx)("div",{className:Object(h.a)("flex-1 flex flex-col justify-between overflow-y-auto",t),children:n})},hi=function(e){return fi.apply(this,arguments)},Oi=["className"],pi=function(e){var t=e.as,n=void 0===t?"input":t,a=e.name,r=e.label,s=e.type,d=void 0===s?"text":s,u=e.className,b=e.autoFocus,j=void 0!==b&&b,m=e.validations,f=void 0===m?{}:m,x=e.placeholder,v=e.disabled,g=void 0!==v&&v,O=e.inputProps,p=void 0===O?{}:O,N=J(j),k=n,w=Object(Lt.d)({name:a,type:d,validate:Wt(f)}),A=Object(c.a)(w,3),I=A[0].value,C=A[2],E=C.setValue,T=C.setTouched,D=Object(Lt.f)(),P=Object(i.useState)(Object(o.a)()),M=Object(c.a)(P,1)[0],z=p.className,V=Object(y.a)(p,Oi);return Object(S.jsxs)("div",{className:Object(h.a)(u),children:[Object(S.jsx)("div",{className:"text-[0px] leading-none select-none",children:M}),Object(S.jsx)("div",{className:Object(h.a)("relative rounded-md",r&&"mt-1"),children:Object(S.jsx)(k,Object(l.a)({ref:N,type:d,value:I,onChange:function(e){return E(e.target.value)},onBlur:function(){T(!0)},placeholder:x,disabled:g||D.isSubmitting,className:Object(h.a)(z)},"input"===k?V:{}))})]})},yi=[{value:"string",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"date",label:"Date"},{value:"option",label:"Options"}],Ni=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.field,a=e.close,r=qt({initialValues:i,onSubmit:function(e){a(Object(l.a)(Object(l.a)({},e),{},{key:Be(e.name)}))}});console.log("field",i);var c=Xt("type",r),s=Xt("permissions",r),o=Yn("options",r),d=o.values,u=o.arrayHelpers,b={cols:[{title:"Role",value:function(e){return e.name}},{title:"View",value:function(e){var t=s.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e){var t=s.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].modify")})})},width:"minmax(auto, max-content)"}]};return Object(S.jsxs)(Qt,{context:r,className:"contents",children:[Object(S.jsx)(vi,{title:"create"===n?"Create Entity Field":"Edit Entity Field"}),Object(S.jsx)(gi,{children:Object(S.jsx)(U,{className:"py-6",children:Object(S.jsx)("div",{className:"px-6",children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",className:"flex-1",validations:{required:"Name is required"}}),Object(S.jsx)(Zt,{name:"type",label:"Type",options:yi,validations:{required:"Type is required"}}),"string"===c&&Object(S.jsx)(Ut,{name:"defaultValue",label:"Default Value"}),"number"===c&&Object(S.jsx)(Ut,{name:"defaultValue",label:"Default Value",type:"number"}),"boolean"===c&&Object(S.jsx)(Zt,{name:"defaultValue",label:"Default Value",options:[{value:"false",label:"False"},{value:"true",label:"True"}]}),"date"===c&&Object(S.jsx)(mn,{name:"defaultValue",label:"Default Value"}),"option"===c&&Object(S.jsxs)("div",{children:[d.map((function(e,t){return Object(S.jsxs)("div",{className:"relative",children:[Object(S.jsx)("div",{className:"absolute z-[2] top-0 left-0 ml-3 h-full flex items-center justify-center",children:Object(S.jsx)("div",{className:"text-xs font-medium rounded-full w-5 h-5 bg-gray-200 dark:bg-gray-700 dark:text-gray-100 flex items-center justify-center",children:t+1})}),Object(S.jsx)(pi,{name:"options[".concat(t,"]"),inputProps:{className:Object(h.a)("py-2 pl-12 pr-8 -mb-px relative text-sm w-full border border-gray-300 dark:border-gray-600 focus:z-[1] focus:ring-1 focus:ring-primary-500 focus:border-primary-500 dark:focus:border-primary-500 bg-white dark:bg-gray-800 dark:text-gray-100",0===t&&"rounded-t-md",t===d.length-1&&"rounded-b-md")}}),d.length>1&&Object(S.jsx)("div",{className:"absolute z-[1] top-0 right-0 mr-3 h-full flex items-center justify-center",children:Object(S.jsx)("button",{className:"rounded-full w-5 h-5 bg-red-100 dark:bg-red-500 dark:bg-opacity-25 text-red-500 flex items-center justify-center focus:ring-2 focus:ring-red-500 transition-shadow",type:"button",onClick:function(){return u.remove(t)},children:Object(S.jsx)(K.B,{className:"w-4 h-4"})})})]},t)})),Object(S.jsx)("div",{className:"mt-2 flex justify-end",children:Object(S.jsx)(Ie,{actions:{title:"Add option",icon:Object(S.jsx)(K.v,{className:"w-4 h-4"}),size:"sm",onClick:function(){return u.push("")}}})}),Object(S.jsx)(Ut,{name:"defaultValue",label:"Default Value"})]}),Object(S.jsx)(Ut,{name:"description",label:"Description"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(Dn,{children:"Permissions"}),Object(S.jsx)(oi,{className:"mt-2",children:Object(S.jsx)(Pe,{schema:b,items:v.roles.all(),className:"-my-px"})})]})]})})})}),Object(S.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Cancel",onClick:function(){return a()}},{title:"Save",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},ki=function(e){return hi({render:function(t){return Object(S.jsx)(Ni,Object(l.a)({close:t},e))}})},wi=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.action,a=(e.fields,e.close),r=qt({initialValues:i,onSubmit:function(e){a(Object(l.a)(Object(l.a)({},e),{},{key:Be(e.name)}))}}),c=Xt("permissions",r),s={cols:[{title:"Role",value:function(e){return e.name}},{title:"Perform",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].perform")})})},width:"minmax(auto, max-content)"}]};return Object(S.jsxs)(Qt,{context:r,className:"contents",children:[Object(S.jsx)(vi,{title:"create"===n?"Create Action":"Edit Action"}),Object(S.jsx)(gi,{children:Object(S.jsx)(U,{className:"py-6",children:Object(S.jsx)("div",{className:"px-6",children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",className:"flex-1",validations:{required:"Name is required"}}),Object(S.jsxs)("div",{children:[Object(S.jsx)(Dn,{children:"Permissions"}),Object(S.jsx)(oi,{className:"mt-2",children:Object(S.jsx)(Pe,{schema:s,items:v.roles.all(),className:"-my-px"})})]})]})})})}),Object(S.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Cancel",onClick:function(){return a()}},{title:"Save",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},Ai=function(e){return hi({size:"2xl",render:function(t){return Object(S.jsx)(wi,Object(l.a)({close:t},e))}})},Ii=[{value:"one-to-one",label:"Single"},{value:"one-to-many",label:"Many"}],Ci=[{value:"one-to-one",label:"Single"},{value:"one-to-many",label:"Single"}],Si=function(e){var t=e.mode,n=void 0===t?"create":t,i=e.relation,a=e.close,r=qt({initialValues:i,onSubmit:function(e){a(Object(l.a)(Object(l.a)({},e),{},{key:Be(e.name)}))}}),c=Xt("permissions",r),s={cols:[{title:"Role",value:function(e){return e.name}},{title:"View",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].view")})})},width:"minmax(auto, max-content)"},{title:"Modify",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].modify")})})},width:"minmax(auto, max-content)"},{title:"Remove",value:function(e){var t=c.findIndex((function(t){return t.roleId===e.id}));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(si,{name:"permissions[".concat(t,"].remove")})})},width:"minmax(auto, max-content)"}]};return Object(S.jsxs)(Qt,{context:r,className:"contents",children:[Object(S.jsx)(vi,{title:"create"===n?"Create Connection":"Edit Connection"}),Object(S.jsx)(gi,{children:Object(S.jsx)(U,{className:"py-6",children:Object(S.jsx)("div",{className:"px-6",children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(S.jsx)(Zt,{name:"relatedId",label:"Entity",options:v.entities.all().map((function(e){return{value:e.id,label:e.name}})),validations:{required:"Entity is required"}}),Object(S.jsx)(Zt,{name:"type",label:"Cardinality",options:Ii,validations:{required:"Cardinality is required"}}),Object(S.jsxs)("div",{children:[Object(S.jsx)(Dn,{children:"Permissions"}),Object(S.jsx)(oi,{className:"mt-2",children:Object(S.jsx)(Pe,{schema:s,items:v.roles.all(),className:"-my-px"})})]})]})})})}),Object(S.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Cancel",onClick:function(){return a()}},{title:"Save",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",type:"submit"}]})})]})},Ei=function(e){return hi({render:function(t){return Object(S.jsx)(Si,Object(l.a)({close:t},e))}})},Ti=n(117),Di=["permissions"],Pi=["permissions"],Mi=["permissions"],zi=function(e){var t=e.id,n=e.mode,a=v.entities.find(t),r=v.fields.all((function(e){return e.entityId===t})),d=v.actions.all((function(e){return e.entityId===t})),u=v.relations.all((function(e){return e.entityId===t||e.relatedId===t})),b=qt({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",plural:(null===a||void 0===a?void 0:a.plural)||"",mainNav:(null===a||void 0===a?void 0:a.mainNav)||!1,fields:r?r.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{permissions:v.fieldPermissions.all((function(t){return t.fieldId===e.id}))})})):[],actions:d?d.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{permissions:v.actionPermissions.all((function(t){return t.actionId===e.id}))})})):[],relations:u?u.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{permissions:v.relationPermissions.all((function(t){return t.relationId===e.id}))})})):[]},onSubmit:function(e){var t=v.entities.save(Object(l.a)(Object(l.a)({},a),{},{key:Be(e.name),name:e.name,plural:e.plural,mainNav:e.mainNav}));e.fields.forEach((function(e){var n=e.permissions,i=Object(y.a)(e,Di);v.fields.save(Object(l.a)(Object(l.a)({},i),{},{entityId:t.id})),n.forEach((function(e){v.fieldPermissions.save(Object(l.a)(Object(l.a)({},e),e.id?{}:{id:Object(o.a)()}))}))})),e.actions.forEach((function(e){var n=e.permissions,i=Object(y.a)(e,Pi);v.actions.save(Object(l.a)(Object(l.a)({},i),{},{entityId:t.id})),n.forEach((function(e){v.actionPermissions.save(Object(l.a)(Object(l.a)({},e),e.id?{}:{id:Object(o.a)()}))}))})),e.relations.forEach((function(e){var n=e.permissions,i=Object(y.a)(e,Mi);v.relations.save(Object(l.a)(Object(l.a)({},i),{},{entityId:t.id})),n.forEach((function(e){v.relationPermissions.save(Object(l.a)(Object(l.a)({},e),e.id?{}:{id:Object(o.a)()}))}))})),C.fields.forEach(v.fields.remove),C.actions.forEach(v.actions.remove),C.relations.forEach(v.relations.remove),Object(s.e)("".concat("/nzdrc-mockup","/settings/entities"))}}),j=Yn("fields",b),m=j.values,f=j.arrayHelpers,x=Yn("actions",b),g=x.values,h=x.arrayHelpers,O=Yn("relations",b),p=O.values,N=O.arrayHelpers,k=Object(i.useState)({fields:[],actions:[],relations:[]}),I=Object(c.a)(k,2),C=I[0],E=I[1],T={cols:[{title:"Name",value:function(e){return e.name}},{title:"Type",value:function(e){var t;return(null===(t=yi.find((function(t){return t.value===e.type})))||void 0===t?void 0:t.label)||""}}],actions:function(e,t){return[{icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var n=Object(A.a)(w.a.mark((function n(){var i;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ki({mode:"edit",field:e});case 2:(i=n.sent)&&f.replace(t,i);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{icon:Object(S.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){f.remove(t),E(Object(Ti.a)((function(t){t.fields.push(e.id)})))}})}}]}},D={cols:[{title:"Name",value:function(e){return e.name}}],actions:function(e,t){return[{icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var n=Object(A.a)(w.a.mark((function n(){var i;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ai({mode:"edit",action:e,fields:m});case 2:(i=n.sent)&&h.replace(t,i);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{icon:Object(S.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){h.remove(t),E(Object(Ti.a)((function(t){t.actions.push(e.id)})))}})}}]}},P={cols:[{title:"Name",value:function(e){return e.name}},{title:"Related Entity",value:function(e){var n,i;return e.entityId===t?null===(n=v.entities.find((function(t){return t.id===e.relatedId})))||void 0===n?void 0:n.name:null===(i=v.entities.find((function(t){return t.id===e.entityId})))||void 0===i?void 0:i.name}},{title:"Cardinality",value:function(e){var n,i;return e.entityId===t?null===(n=Ii.find((function(t){return t.value===e.type})))||void 0===n?void 0:n.label:null===(i=Ci.find((function(t){return t.value===e.type})))||void 0===i?void 0:i.label}}],actions:function(e,n){return[e.entityId===t&&{icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),intent:"menu",onClick:function(){var t=Object(A.a)(w.a.mark((function t(){var i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ei({mode:"edit",relation:e});case 2:(i=t.sent)&&N.replace(n,i);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},e.entityId===t&&{icon:Object(S.jsx)(K.B,{className:"w-5 h-5"}),intent:"menu-danger",onClick:function(){ne({title:"Are you sure?",message:"This cannot be undone",onAccept:function(){N.remove(n),E(Object(Ti.a)((function(t){t.relations.push(e.id)})))}})}}]}},M="create"===n?"Create Entity":"Edit Entity";return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:M,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/entities"}}),Object(S.jsx)("div",{children:M})]})}),Object(S.jsx)(Qt,{context:b,children:Object(S.jsx)(ht,{children:Object(S.jsxs)(U,{dividers:!0,children:[Object(S.jsx)(Pn,{title:"Details",subtitle:"The name and different types of labels for the entity",children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(S.jsx)(Ut,{name:"plural",label:"Plural"}),Object(S.jsx)(xn,{name:"mainNav",label:"Show in Main Nav"})]})})}),Object(S.jsx)(Pn,{title:"Fields",subtitle:"Fields are custom fields that are attached to this entity, that can be configured to contain many different kinds of data",children:Object(S.jsxs)(U,{children:[Object(S.jsx)(bt,{className:"rounded-md overflow-hidden",children:Object(S.jsx)(Pe,{items:m,schema:T,className:"-my-px"})}),Object(S.jsx)("div",{className:"flex justify-end",children:Object(S.jsx)(Ie,{actions:{title:"Add Field Type",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(A.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(o.a)(),e.next=3,ki({field:{id:t,entityId:"",key:"",name:"",plural:"",template:"",type:"string",options:[""],permissions:v.roles.all().map((function(e){return{id:"",roleId:e.id,fieldId:t,view:!0,modify:!0}}))}});case 3:(n=e.sent)&&f.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(S.jsx)(Pn,{title:"Actions",subtitle:"Actions are custom interactions that the user can use do to this entity. They can modify a field, or be used as triggers for notifications.",children:Object(S.jsxs)(U,{children:[Object(S.jsx)(bt,{className:"rounded-md overflow-hidden",children:Object(S.jsx)(Pe,{items:g,schema:D,className:"-my-px"})}),Object(S.jsx)("div",{className:"flex justify-end",children:Object(S.jsx)(Ie,{actions:{title:"Add Action",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(A.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(o.a)(),e.next=3,Ai({action:{id:t,entityId:"",key:"",name:"",changes:[],permissions:v.roles.all().map((function(e){return{id:"",roleId:e.id,actionId:t,perform:!0}}))},fields:m});case 3:(n=e.sent)&&h.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(S.jsx)(Pn,{title:"Relations",subtitle:Object(S.jsxs)("div",{className:"space-y-3",children:[Object(S.jsx)("p",{children:"Relations are a way to define a relationship between this entity type, and another entity type."}),Object(S.jsx)("p",{children:'For example, if a "case has many events", then a case should have a relation named "Events", set to the Event entity and a cardinality of "Many"'})]}),children:Object(S.jsxs)(U,{children:[Object(S.jsx)(bt,{className:"rounded-md overflow-hidden",children:Object(S.jsx)(Pe,{items:p,schema:P,className:"-my-px"})}),Object(S.jsx)("div",{className:"flex justify-end",children:Object(S.jsx)(Ie,{actions:{title:"Add Relation",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"invisible",onClick:function(){var e=Object(A.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(o.a)(),e.next=3,Ei({relation:{id:t,key:"",name:"",entityId:"",relatedId:"",type:"one-to-many",permissions:v.roles.all().map((function(e){return{id:"",roleId:e.id,relationId:t,view:!0,modify:!0,remove:!0}}))}});case 3:(n=e.sent)&&N.push(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}})})]})}),Object(S.jsx)("div",{className:"flex justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"create"===n?"Create":"Save",intent:"save",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},Vi=[{name:"Shared Workspace"},{name:"Document Production"},{name:"Document Exchange"}],Fi=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Modules",actions:[{title:"Add Module",icon:Object(S.jsx)(K.v,{className:"w-5 h-5"}),intent:"primary",to:"/settings/modules/add"}]})}),Object(S.jsx)("div",{className:"overflow-hidden rounded-br-md",children:Object(S.jsx)(Pe,{schema:{cols:[{title:"Name",value:function(e){return e.name}}]},items:Vi,className:"-mb-px"})})]})})]})},Ri=function(e){var t,n=e.checked,i=e.name,a=e.label,r=void 0===a?"":a,c=e.className,s=e.disabled,l=e.onChange,o=e.color,d=void 0===o?"text-emerald-600 dark:text-emerald-500":o;return Object(S.jsxs)("label",{className:Object(h.a)("text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-start cursor-pointer",c),children:[Object(S.jsx)("input",{type:"checkbox",name:i,id:i,checked:n,disabled:s,onChange:l,className:Object(h.a)("form-checkbox rounded-sm border-gray-300 mt-1",(t={},Object(N.a)(t,d,!s),Object(N.a)(t,"text-gray-400",s),t))}),r&&Object(S.jsx)("span",{className:"ml-3 mt-0.5 select-none",children:r})]})},Bi=[{id:Object(o.a)(),name:"Shared Workspace"},{id:Object(o.a)(),name:"Document Production"},{id:Object(o.a)(),name:"Document Exchange"},{id:Object(o.a)(),name:"Video Conferencing"},{id:Object(o.a)(),name:"Peer Review"}],Hi=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:"Add Module",title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/modules"}}),Object(S.jsx)("div",{children:"Add Module"})]})}),Object(S.jsx)(ht,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(ft,{children:Object(S.jsx)("div",{className:"grid grid-cols-3 gap-6",children:Bi.map((function(e){return Object(S.jsxs)("div",{className:Object(h.a)("border rounded relative cursor-pointer shadow-sm","col-span-1 min-h-[300px]",{"bg-white dark:bg-gray-750 border-gray-200 dark:border-gray-600":!n.includes(e.id),"bg-primary-50 dark:bg-primary-500 dark:bg-opacity-25 border-primary-500 dark:border-primary-500 ring-1 ring-primary-500":n.includes(e.id)}),onClick:function(){n.includes(e.id)?a((function(t){return t.filter((function(t){return t!==e.id}))})):a((function(t){return[].concat(Object(g.a)(t),[e.id])}))},children:[Object(S.jsxs)(U,{className:"p-4",children:[Object(S.jsx)(Ct,{items:[{value:Object(S.jsx)("span",{className:"text-lg font-medium",children:e.name})},{title:"Includes",value:Object(S.jsxs)("ul",{className:"list-disc pl-4",children:[Object(S.jsx)("li",{children:"3 Entities"}),Object(S.jsx)("li",{children:"5 Templates"}),Object(S.jsx)("li",{children:"5 Notifications"})]})}],columns:1}),Object(S.jsx)("button",{className:"text-primary-600 text-sm font-medium underline",children:"View More"})]}),Object(S.jsx)("div",{className:"p-4 absolute top-0 right-0",children:Object(S.jsx)(Ri,{checked:n.includes(e.id),onChange:function(t){t.target.checked?a((function(t){return t.filter((function(t){return t!==e.id}))})):a((function(t){return[].concat(Object(g.a)(t),[e.id])}))}})})]},e.id)}))})}),Object(S.jsx)("div",{className:"flex justify-end",children:Object(S.jsx)(Ie,{actions:{title:"Save",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),intent:"save",onClick:function(){}}})})]})})]})},Li=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"Settings"}),Object(S.jsx)(An,{links:hn,children:Object(S.jsxs)(U,{children:[Object(S.jsx)("div",{className:"px-6 pt-6",children:Object(S.jsx)(En,{title:"Site Settings",actions:[{title:"Edit Site Settings",icon:Object(S.jsx)(K.u,{className:"w-5 h-5"}),to:"/settings/site-settings/edit"}]})}),Object(S.jsx)("div",{className:"p-6",children:Object(S.jsx)(Ct,{items:[{title:"Title",value:v.siteSettings.get("title")},{title:"Layout",value:"sidebar"===v.siteSettings.get("layout")?"Nav on side":"Nav on top"}]})})]})})]})},Gi=n.p+"static/media/layout-sidebar.55a16042.svg",Qi=n.p+"static/media/layout-topbar.ff4c6906.svg",qi=function(){var e=qt({initialValues:{title:v.siteSettings.get("title")||"",layout:v.siteSettings.get("layout")||"sidebar",nav:v.entities.all().reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},t.key,{link:t.plural||t.name,permissions:v.roles.all().map((function(e){return e.id}))}))}),{}),signature:""},onSubmit:function(e){v.siteSettings.set("title",e.title),v.siteSettings.set("layout",e.layout),Object(s.e)("".concat("/nzdrc-mockup","/settings/site-settings"))}});console.log("formContext",e.values);var t=Xt("layout",e),n={cols:[{title:"Entity Type",value:function(e){return e.name},width:"minmax(auto, max-content)"},{title:"Link Name",value:function(e){return Object(S.jsx)(Ut,{name:"nav.".concat(e.key,".link")})}}].concat(Object(g.a)(v.roles.all().map((function(t){return{title:t.name,value:function(n){var i=Object(Lt.c)(e.values,"nav.".concat(n.key,".permissions"));return Object(S.jsx)("div",{className:"w-full flex justify-center",children:Object(S.jsx)(Ri,{checked:null===i||void 0===i?void 0:i.includes(t.id),onChange:function(a){return e.setFieldValue("nav.".concat(n.key,".permissions"),a.target.checked?[].concat(Object(g.a)(i),[t.id]):i.filter((function(e){return e!==t.id})))}})})},width:"minmax(auto, max-content)"}}))))},i="Edit Site Settings";return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{pageTitle:i,title:Object(S.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(S.jsx)(Ie,{actions:{icon:Object(S.jsx)(K.c,{className:"w-5 h-5 -mx-2"}),intent:"borderless",rounded:"full",to:"/settings/site-settings"}}),Object(S.jsx)("div",{children:i})]})}),Object(S.jsx)(ht,{children:Object(S.jsx)(Qt,{context:e,children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Pn,{title:"Page Title",subtitle:"This title appears in the browser tab, is important for SEO",children:Object(S.jsx)(ft,{children:Object(S.jsx)(Ut,{name:"title",label:"Title",validations:{required:"Title is required"}})})}),Object(S.jsx)(Pn,{title:"Layout",subtitle:"Control the sites layout design",children:Object(S.jsx)(ft,{children:Object(S.jsxs)("div",{className:"flex space-x-6",children:[Object(S.jsx)("button",{className:Object(h.a)("w-[200px] h-[200px] relative rounded-md hover:opacity-80 cursor-pointer","sidebar"===t&&"ring-2 ring-green-500"),onClick:function(){e.setFieldValue("layout","sidebar")},type:"button",children:Object(S.jsx)("img",{src:Gi,alt:"Sidebar"})}),Object(S.jsx)("button",{className:Object(h.a)("w-[200px] h-[200px] relative rounded-md hover:opacity-80 cursor-pointer","topbar"===t&&"ring-2 ring-green-500"),onClick:function(){e.setFieldValue("layout","topbar")},type:"button",children:Object(S.jsx)("img",{src:Qi,alt:"Topbar"})})]})})}),Object(S.jsx)(Pn,{title:"Navigation",subtitle:"Set up what pages are visible in the nav bar",children:Object(S.jsx)(bt,{className:"overflow-hidden",children:Object(S.jsx)(Pe,{schema:n,items:v.entities.all()})})}),Object(S.jsx)(Pn,{title:"Email Signature",subtitle:"This signature will be included at the bottom of every notification.",children:Object(S.jsx)(ft,{children:Object(S.jsx)(Zn,{name:"signature"})})}),Object(S.jsx)("div",{className:"flex items-center justify-end",children:Object(S.jsx)(Ie,{actions:[{title:"Update",intent:"primary",icon:Object(S.jsx)(K.i,{className:"w-5 h-5"}),type:"submit"}]})})]})})})]})},Wi=function(){var e=qt({initialValues:{name:"",startDate:new Date,options:[{label:"Gold",value:1},{label:"Silver",value:2},{label:"Bronze",value:3}],list:[],hash:{a:!0,b:!1}},onSubmit:function(e){console.log("formData",e)}});return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(vt,{title:"New Form Components"}),Object(S.jsx)(ht,{children:Object(S.jsx)(Qt,{context:e,children:Object(S.jsx)(ft,{children:Object(S.jsxs)(U,{children:[Object(S.jsx)(Ut,{name:"name",label:"Name",validations:{required:"Name is required"}}),Object(S.jsx)(Ie,{actions:[{title:"Submit",intent:"primary",type:"submit"}]})]})})})})]})},Xi=function(e){var t=e.children;return Object(S.jsx)(S.Fragment,{children:t})};console.log("process.env",Object({NODE_ENV:"production",PUBLIC_URL:"/nzdrc-mockup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COMMIT:"c5bd1c4b67e365c3b7ce44e255c20046cbad2910"}));var Yi=function(){var e="sidebar"===v.siteSettings.get("layout")?dt:ut,t=v.entities.all();return Object(S.jsx)(i.Suspense,{fallback:null,children:Object(S.jsx)(s.d,{basepath:"/nzdrc-mockup",children:Object(S.jsxs)(e,{path:"/",children:[Object(S.jsx)(s.c,{from:"/",to:"home",noThrow:false}),Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(pt,{path:"/home"}),Object(S.jsx)(pt,{path:"/events"}),Object(S.jsx)(pt,{path:"/users"}),t.map((function(e){return Object(S.jsxs)(Xi,{path:"/".concat(e.key),children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(At,{path:"/",entityId:e.id}),Object(S.jsx)(Ht,{path:":id",entityId:e.id}),Object(S.jsx)(vn,{path:"/create",entityId:e.id,mode:"create"}),Object(S.jsx)(vn,{path:":id/edit",entityId:e.id,mode:"edit"})]},e.id)})),Object(S.jsx)(gn,{path:"/value-history/:id"}),Object(S.jsxs)(On,{path:"/settings",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(s.c,{from:"/",to:"entities",noThrow:false}),Object(S.jsxs)(Xi,{path:"/entities",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(ui,{path:"/"}),Object(S.jsx)(zi,{path:"/create",mode:"create"}),Object(S.jsx)(zi,{path:":id/edit",mode:"edit"})]}),Object(S.jsxs)(Xi,{path:"/roles",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(ci,{path:"/"}),Object(S.jsx)(di,{path:"/create",mode:"create"}),Object(S.jsx)(di,{path:":id/edit",mode:"edit"})]}),Object(S.jsxs)(Xi,{path:"/templates",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(ai,{path:"/"}),Object(S.jsx)(ri,{path:"/create",mode:"create"}),Object(S.jsx)(ri,{path:":id/edit",mode:"edit"})]}),Object(S.jsxs)(Xi,{path:"/notifications",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(Tn,{path:"/"}),Object(S.jsx)(ii,{path:"/create",mode:"create"}),Object(S.jsx)(ii,{path:":id/edit",mode:"edit"})]}),Object(S.jsxs)(Xi,{path:"/modules",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(Fi,{path:"/"}),Object(S.jsx)(Hi,{path:"/add"})]}),Object(S.jsxs)(Xi,{path:"/site-settings",children:[Object(S.jsx)(Nt,{default:!0}),Object(S.jsx)(Li,{path:"/"}),Object(S.jsx)(qi,{path:"/edit"})]})]}),Object(S.jsx)(Wi,{path:"/test"})]})})})},Ui=(n(340),n(341),function(){var e=Object(i.useReducer)((function(){return{}}),{}),t=Object(c.a)(e,2)[1];return Object(i.useEffect)((function(){b.current=t}),[t]),Object(S.jsx)(Yi,{})});console.log("build #c5bd1c4b67e365c3b7ce44e255c20046cbad2910"),r.a.render(Object(S.jsx)(i.Suspense,{fallback:null,children:Object(S.jsx)(Ui,{})}),document.getElementById("root"))}},[[342,1,2]]]);
//# sourceMappingURL=main.65645558.chunk.js.map