{"version":3,"sources":["assets/img/workflow-logo-white-text.svg","assets/img/workflow-logo.svg","@primer/components/AlertTransition.tsx","@primer/utils/alert.tsx","@primer/components/Divider.tsx","@primer/components/AutoHeight.tsx","@primer/types/index.ts","@primer/components/Stack.tsx","@primer/hooks/useAutoFocus.ts","@primer/components/Button.tsx","@primer/alerts/Confirm.tsx","@primer/alerts/Slideout.tsx","@primer/utils/toast.tsx","@primer/utils/constants.ts","config.ts","@primer/hooks/usePopper.tsx","@primer/hooks/useDismissable.ts","@primer/components/CustomMenu.tsx","@primer/components/ActionMenu.tsx","@primer/components/Inline.tsx","@primer/components/Actions.tsx","@primer/components/BasicTruncate.tsx","@primer/components/Table.tsx","@primer/utils/funcs.tsx","@primer/components/Icon.tsx","@primer/components/Loader.tsx","@primer/hooks/useLocalStorage.ts","@primer/components/Tooltip.tsx","@primer/components/Sidebar.tsx","@primer/hooks/useDarkMode.ts","@primer/components/Topbar.tsx","@primer/components/MobileMenu.tsx","assets/img/ICRA_WhiteRev.png","@primer/components/OnRouteChange.tsx","@primer/utils/versions.ts","@primer/components/Layouts/PageSidebar.tsx","@primer/components/Card.tsx","@primer/components/ButtonSpacer.tsx","@primer/components/PageHeading.tsx","@primer/components/PageContent.tsx","data/index.ts","types/models.ts","data/seed.ts","pages/Home.tsx","assets/img/undraw_not_found_60pq.svg","pages/NotFound.tsx","pages/Settings/Settings.tsx","@primer/components/NavList.tsx","@primer/components/PageNavbar.tsx","@primer/components/Badge.tsx","@primer/components/SectionHeader.tsx","pages/Settings/Notifications/Notifications.tsx","@primer/components/Form2/Form.tsx","@primer/components/Form2/utils.ts","@primer/components/Form2/FormInput.tsx","@primer/components/Form2/FormLabel.tsx","@primer/components/Form2/FormDate.tsx","@primer/components/Form2/FormSelect.tsx","@primer/components/Form2/FormSection.tsx","@primer/components/Form2/FormToggle.tsx","@primer/components/Tabs.tsx","pages/Settings/Notifications/utils/options.tsx","@primer/components/Form2/useFieldArray.ts","@primer/components/Form2/FormEditor.tsx","@primer/components/Expandable.tsx","pages/Settings/Templates/utils/actions.tsx","components/FormTemplateEditor.tsx","pages/Settings/Notifications/NotificationForm.tsx","pages/Settings/Templates/Templates.tsx","pages/Settings/Templates/TemplateForm.tsx","fakedata.ts","pages/Settings/Roles/Roles.tsx","@primer/components/Form/Form.tsx","@primer/components/Form/FormInput.tsx","@primer/components/Form/FormCheckbox.tsx","@primer/components/Checkbox.tsx","@primer/components/CardHeader.tsx","pages/Settings/Roles/CreateRole.tsx","pages/Settings/Entities/Entities.tsx","@primer/components/Suspender.tsx","@primer/hooks/openSlideout.tsx","@primer/components/Form2/FormInputRaw.tsx","@primer/components/TableFrame.tsx","slideouts/openMetaType.tsx","@primer/components/Well.tsx","slideouts/openEntityAction.tsx","slideouts/openEntityConnection.tsx","pages/Settings/Entities/EntityForm.tsx","pages/Settings/Modules/Modules.tsx","@primer/components/DataListColumns.tsx","pages/Settings/Modules/AddModule.tsx","@primer/components/Form2/FormCheckbox.tsx","pages/Test.tsx","Router.tsx","App.tsx","index.tsx"],"names":["AlertTransition","show","className","children","div","clsx","style","originY","variants","hidden","y","visible","transition","type","ease","duration","initial","animate","exit","BackdropTransition","opacity","mountedAlerts","alert","DialogContent","Promise","resolvePromise","alertRoot","document","createElement","body","appendChild","push","ReactDOM","resolve","x","close","splice","findIndex","contains","removeChild","Divider","AutoHeight","useState","initialState","setInitialState","isAnimating","setAnimating","isVisible","setVisible","useEffect","setTimeout","padding","margin","overflow","height","onAnimationComplete","isNotNone","undefined","isLinkActionType","action","to","isButtonActionType","onClick","isSubmitActionType","isActionMenuActionType","actions","Array","isCustomMenuActionType","menu","isLinkRouteConfig","isAnchorRouteConfig","url","isLinkTabType","isButtonTabType","spaces","0","1","2","3","4","6","8","Stack","space","dividers","filteredItems","Children","toArray","reduce","list","i","props","omit","Fragment","concat","filter","map","item","useAutoFocus","enabled","ref","useRef","current","focus","sizes","xs","sm","md","lg","xl","inline","roundedness","none","rounded","full","intents","primary","span","button","secondary","light","save","danger","borderless","invisible","Button","forwardRef","intent","size","disabled","isLoading","as","Comp","attrs","Confirm","title","message","buttonLabel","dismissable","onAccept","open","setOpen","loading","setLoading","autoFocusRef","closeAlert","handleAccept","a","e","target","stroke","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","buttonIntents","buttonRoundness","buttonSizes","tabIndex","confirm","answer","Slideout","mode","React","closeSlideout","useCallback","backdropRef","maxWidth","slideout","toastRoot","holidays","name","date","Date","site","process","REACT_APP_ENV","REACT_APP_SITE","usePopper","options","reference","popper","cleanupCallback","instantiatePopper","createPopper","modifiers","flip","offset","preventOverflow","destroy","useMemo","referenceDomNode","popperDomNode","useDismissable","Math","floor","random","ignoreClass","onClose","prevState","setPrevState","onOpen","handle","key","window","addEventListener","removeEventListener","useClickOutside","CustomMenu","placement","strategy","tooltip","scale","submit","cancel","anchor","ActionInner","side","iconSide","icon","ActionMenu","hoverable","isHover","setHover","hoverTimer","setHoverTimer","actionList","index","divider","prevOpen","onMouseOver","clearTimeout","onMouseOut","dispatchEvent","Event","ButtonIntents","ButtonRoundness","ButtonSizes","Items","static","Item","active","state","replace","stopPropagation","isDividerActionType","wrapper","Inline","items","Actions","BasicTruncate","timer","isOverflowing","setOverflowing","check","clientWidth","clientHeight","scrollWidth","scrollHeight","handler","colSpan","5","7","9","10","11","12","breakpoints","xxl","visibilities","pass","vis","visibility","Table","schema","getKey","_","isStriped","queries","mediaQueryLists","q","matchMedia","getValue","mql","matches","value","setValue","forEach","addListener","removeListener","useMedia","Object","values","mqs","cols","responsive","tmplCols","width","join","gridTemplateColumns","col","j","truncate","onlyText","length","smartReplaceClasses","fixes","names","split","fix","find","pattern","test","defaultValue","isValidDate","isNaN","valueOf","ensureDate","val","getReservedDate","isSameDay","ordinal","k","slugify","trim","toLowerCase","fixClasses","Spinner","xmlns","cx","cy","r","Loader","spin","useLocalStorage","initialValue","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","Tooltip","hover","X","setX","Y","setY","offsetLeft","offsetWidth","offsetTop","left","top","originX","link","inactive","white","getProps","route","min","isCurrent","isPartiallyCurrent","exact","MenuLink","href","rel","NavLink","loc","useLocation","pathname","indexOf","Sidebar","header","footer","links","setMin","changeDarkMode","querySelector","classList","useDarkMode","setDarkMode","matchesMedia","func","hasOwnProperty","Topbar","logout","darkMode","MobileMenu","withTopbar","src","alt","block","OnRouteChangeWorker","prevProps","this","location","Component","OnRouteChange","versions","number","new","change","bug","PageSidebar","releases","sort","b","semver","gt","smallLogo","logo","fallback","scrollTo","CardWrapper","CardContent","CardFooter","Card","ButtonSpacer","PageHeading","pageTitle","infoList","info","PageContent","storage","entityTypes","metaTypes","entityActions","entityConnections","notifications","templates","renderContainer","dataActions","prop","all","prototype","call","id","data","uuid","persist","added","remove","clear","removeItem","restore","seed","userEntityType","plural","caseEntityType","eventEntityType","entityTypeId","changes","relationId","triggerType","triggerRepeat","triggerEvery","triggerYearIn","triggerMonthOn","triggerWeekOn","triggerDayAt","triggerAction","obeyTriggerTiming","triggerTimingType","triggerTiming","triggerDate","ruleGroups","rules","entity","field","operator","subject","content","Home","NotFound","illustration","Admin","navigate","toggle","NavList","PageNavbar","themes","gray","red","orange","yellow","green","teal","blue","indigo","purple","pink","Badge","color","SectionHeader","subtitle","Notifications","Form","context","useForm","onSubmit","handleSubmit","formData","helpers","setSubmitting","useFormik","validate","validations","required","max","watch","watchPath","path","getIn","FormInput","label","autoFocus","hideOptional","placeholder","description","inputProps","isRequired","useField","touched","setTouched","formik","useFormikContext","uuidv4","token","extraClassName","extraProps","onChange","onBlur","isSubmitting","FormLabel","isOptional","weekDays","isDate","FormDate","minDate","maxDate","inputDisabled","disableHolidays","inputClassName","format","display","setDisplay","startOfMonth","setContext","prevValue","setPrevValue","ensuredDate","dateValue","console","log","dismissableRef","preDays","getISODay","subDays","endOfMonth","subMonths","postDays","addDays","addMonths","days","getDaysInMonth","composeRefs","onKeyDown","preventDefault","event","displayDate","c","day","select","isBefore","isAfter","FormSelect","clearable","onChangeProp","option","autoComplete","autoCorrect","spellCheck","classNamePrefix","isClearable","isDisabled","menuPlacement","components","ClearIndicator","hasValue","innerProps","restInnerProps","DropdownIndicator","FormSection","vertical","Toggle","checked","role","aria-checked","aria-hidden","FormCheckbox","dark","border","tab","tabInactive","tabActive","card","buttons","Tabs","theme","activeIndex","getActiveIndex","tabs","simpleTitle","errors","types","repeatOptions","weekOnOptions","yearInOptions","generateMonthList","getMonthOnOptions","str","january","february","march","april","may","june","july","august","september","october","november","december","entityTiming","entityTimingType","useFieldArray","fieldName","setFieldValue","getFieldProps","meta","getFieldMeta","fieldArray","update","$push","swap","indexA","indexB","swapA","swapB","$splice","move","from","toMove","insert","unshift","$unshift","removedItem","pop","lastIndex","poppedItem","arrayHelpers","defaultEditorModules","toolbar","align","FormEditor","modules","readOnly","Expandable","isExpanded","setExpanded","templateTagActions","insertFn","level","FormTemplateEditor","insertTag","editor","getEditor","selection","getSelection","text","getText","deleteText","insertText","RuleGroup","formContext","appendRule","removeRule","prefix","Rule","metaType","string","boolean","users","user","NotificationForm","originalNotification","initialValues","enabledDate","appendRuleGroup","removeRuleGroup","FormToggle","Infinity","Templates","CreateTemplate","originalTemplate","roles","Roles","step","customErrors","useFormContext","formState","useController","fillRule","clipRule","Checkbox","CardHeader","userPermissions","casePermissions","eventPermissions","CreateRole","defaultValues","permissions","perms","userPermissionsFilter","setUserPermissionsFilter","eventPermissionsFilter","setEventPermissionsFilter","casePermissionsFilter","setCasePermissionsFilter","entries","bool","Entities","deleteRole","ErrorBoundary","Sentry","dir","render","defaultError","Suspender","loader","withSuspense","SlideoutInner","SlideoutHeader","SlideoutContent","openSlideout","TableFrame","typeOptions","optionsHelpers","permissionsSchema","FormInputRaw","openMetaType","Well","changesHelpers","getMetaType","userDefined","openEntityAction","connectionTypeOptions","db","openEntityConnection","EditEntityType","original","originalMetaTypes","originalEntityActions","originalEntityConnections","formSchema","newEntityType","metaTypeHelpers","entityActionsHelpers","entityConnectionsHelpers","metaTypeSchema","editedMetaType","entityActionsSchema","editedEntityAction","connectionSchema","editedEntityConnection","template","newMetaType","newEntityAction","newConnection","Modules","columnClassNames","DataListColumns","columns","lists","AddModule","selected","setSelected","includes","s","fruitOptions","Test","newsletter","fruit","dates","Route","Router2","Wrapper","basepath","noThrow","default","Settings","EntityForm","TemplateForm","App","useReducer","dispatch","Router","getElementById"],"mappings":"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","file":"static/js/main.77020b11.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/workflow-logo-white-text.c64a9d8e.svg\";","export default __webpack_public_path__ + \"static/media/workflow-logo.b7adb00c.svg\";","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { motion, AnimatePresence, MotionStyle } from 'framer-motion'\n\ninterface AlertTransitionProps {\n\tshow: boolean\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nexport const AlertTransition: FC<AlertTransitionProps> = ({ show, className, children }) => (\n\t<motion.div\n\t\tclassName={clsx(className, 'relative z-40')}\n\t\tstyle={{ originY: 0 } as MotionStyle}\n\t\tvariants={{\n\t\t\thidden: { y: -24 },\n\t\t\tvisible: { y: 0 },\n\t\t}}\n\t\ttransition={{\n\t\t\ttype: 'tween',\n\t\t\tease: 'easeOut',\n\t\t\tduration: 0.2,\n\t\t}}\n\t\tinitial=\"hidden\"\n\t\tanimate=\"visible\"\n\t\texit=\"hidden\"\n\t>\n\t\t{children}\n\t</motion.div>\n)\n\nexport const BackdropTransition: FC<AlertTransitionProps> = ({ show, className, children }) => (\n\t<AnimatePresence>\n\t\t{show && (\n\t\t\t<motion.div\n\t\t\t\tclassName={clsx(className, 'relative z-40')}\n\t\t\t\tstyle={{ originY: 0 } as MotionStyle}\n\t\t\t\tvariants={{\n\t\t\t\t\thidden: { opacity: 0 },\n\t\t\t\t\tvisible: { opacity: 1 },\n\t\t\t\t}}\n\t\t\t\ttransition={{\n\t\t\t\t\ttype: 'tween',\n\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\tduration: 0.2,\n\t\t\t\t}}\n\t\t\t\tinitial=\"hidden\"\n\t\t\t\tanimate=\"visible\"\n\t\t\t\texit=\"hidden\"\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</motion.div>\n\t\t)}\n\t</AnimatePresence>\n)\n\ninterface SlideoutTransitionProps {\n\tshow: boolean\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nexport const SlideoutTransition: FC<SlideoutTransitionProps> = ({ show, className, children }) => (\n\t<motion.div\n\t\tclassName={clsx(className)}\n\t\tvariants={{\n\t\t\thidden: { opacity: 0 },\n\t\t\tvisible: { opacity: 1 },\n\t\t}}\n\t\ttransition={{\n\t\t\ttype: 'tween',\n\t\t\tease: 'easeOut',\n\t\t\tduration: 0.2,\n\t\t}}\n\t\tinitial=\"hidden\"\n\t\tanimate=\"visible\"\n\t\texit=\"hidden\"\n\t>\n\t\t{children}\n\t</motion.div>\n)\n\ninterface ToastTransitionProps {\n\tshow: boolean\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nexport const ToastTransition: FC<ToastTransitionProps> = ({ show, className, children }) => (\n\t<AnimatePresence>\n\t\t{show && (\n\t\t\t<motion.div\n\t\t\t\tclassName={clsx(className, 'z-40')}\n\t\t\t\tstyle={{ originY: 1, originX: 1 } as MotionStyle}\n\t\t\t\tvariants={{\n\t\t\t\t\thidden: { scale: 0.95, opacity: 0 },\n\t\t\t\t\tvisible: { scale: 1, opacity: 1 },\n\t\t\t\t}}\n\t\t\t\ttransition={{\n\t\t\t\t\ttype: 'tween',\n\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\tduration: 0.3,\n\t\t\t\t}}\n\t\t\t\tinitial=\"hidden\"\n\t\t\t\tanimate=\"visible\"\n\t\t\t\texit=\"hidden\"\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</motion.div>\n\t\t)}\n\t</AnimatePresence>\n)\n","import React, { FC } from 'react'\nimport * as ReactDOM from 'react-dom'\n\nconst mountedAlerts: HTMLDivElement[] = []\n\ninterface DialogContentType<T> {\n\tresolve: (x?: T) => void\n\tclose: () => void\n}\n\nfunction alert<T>(DialogContent: FC<DialogContentType<T>>): Promise<T | undefined> {\n\treturn new Promise((resolvePromise) => {\n\t\tconst alertRoot = document.createElement('div')\n\t\tconst body = document.body\n\t\tbody.appendChild(alertRoot)\n\t\tmountedAlerts.push(alertRoot)\n\n\t\tconst close = () => {\n\t\t\tReactDOM.unmountComponentAtNode(alertRoot)\n\t\t\tmountedAlerts.splice(\n\t\t\t\tmountedAlerts.findIndex((x) => x === alertRoot),\n\t\t\t\t1\n\t\t\t)\n\t\t\tif (document.contains(alertRoot)) {\n\t\t\t\tdocument.body.removeChild(alertRoot)\n\t\t\t}\n\t\t}\n\n\t\tconst resolve = (x?: T) => resolvePromise(x)\n\n\t\tReactDOM.render(<DialogContent resolve={resolve} close={close} />, alertRoot)\n\t})\n}\n\nexport default alert\n","import React, { FC } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface DividerProps {\n\tclassName?: ClassValue\n}\n\nconst Divider: FC<DividerProps> = ({ className }) => (\n\t<div\n\t\tclassName={clsx('border-t border-black dark:border-white border-opacity-10 dark:border-opacity-10', className)}\n\t/>\n)\n\nexport default Divider\n","import React, { FC, ReactNode, useEffect, useState } from 'react'\nimport { motion, AnimatePresence, MotionStyle } from 'framer-motion'\n\ninterface AutoHeightProps {\n\tshow: boolean\n\tchildren: ReactNode\n\tstyle?: { [x: string]: string }\n}\n\nconst AutoHeight: FC<AutoHeightProps> = ({ show, style, children }) => {\n\tconst [initialState, setInitialState] = useState(show)\n\tconst [isAnimating, setAnimating] = useState(false)\n\tconst [isVisible, setVisible] = useState<boolean>(show)\n\n\tuseEffect(() => {\n\t\tif (show) {\n\t\t\tsetAnimating(true)\n\t\t\tsetTimeout(() => setVisible(true), 1)\n\t\t\tsetTimeout(() => setAnimating(false), 400)\n\t\t} else {\n\t\t\tsetAnimating(true)\n\t\t\tsetTimeout(() => setVisible(false), 1)\n\t\t\tsetTimeout(() => setAnimating(false), 400)\n\t\t}\n\t}, [show])\n\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{isVisible && (\n\t\t\t\t<motion.div\n\t\t\t\t\tstyle={\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toriginY: 0,\n\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\tmargin: '-0.5rem',\n\t\t\t\t\t\t\toverflow: isAnimating ? 'hidden' : 'visible',\n\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t} as MotionStyle\n\t\t\t\t\t}\n\t\t\t\t\tvariants={{\n\t\t\t\t\t\thidden: { height: 0 },\n\t\t\t\t\t\tvisible: { height: 'auto' },\n\t\t\t\t\t}}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\tduration: 0.3,\n\t\t\t\t\t}}\n\t\t\t\t\tonAnimationComplete={() => setInitialState(false)}\n\t\t\t\t\tinitial={initialState ? 'visible' : 'hidden'}\n\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\texit=\"hidden\"\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</motion.div>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t)\n}\n\nexport default AutoHeight\n","import { ReactNode, SetStateAction } from 'react'\nimport { AxiosError } from 'axios'\nimport { Placement } from '@popperjs/core/index'\n\nexport const isAxiosError = (obj: any): obj is AxiosError => typeof obj === 'object' && obj.isAxiosError === true\n\nexport type IntentType =\n\t| 'primary'\n\t| 'secondary'\n\t| 'light'\n\t| 'save'\n\t| 'danger'\n\t| 'menu'\n\t| 'menu-danger'\n\t| 'sidebar-menu'\n\t| 'sub-menu'\n\t| 'borderless'\n\t| 'invisible'\n\t| 'none'\n\nexport type ButtonSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'inline'\n\nexport type ButtonRoundness = 'none' | 'sm' | 'rounded' | 'md' | 'lg' | 'full'\n\nexport type None = undefined | '' | false | null\n\nexport const isNotNone = <T>(x: T | None): x is T => {\n\treturn x !== undefined && x !== '' && x !== false && x !== null\n}\n\nexport type Nullish = undefined | null\n\nexport const isNotNullish = <T>(x: T | Nullish): x is T => {\n\treturn typeof x !== 'undefined' && x !== null\n}\n\nexport interface BaseActionType {\n\ttitle?: ReactNode\n\tintent?: IntentType\n\tclassName?: string\n\ticon?: ReactNode\n\ticonSide?: 'left' | 'right'\n\tdisabled?: boolean\n\tsize?: ButtonSize\n\trounded?: ButtonRoundness\n}\n\nexport interface LinkActionType extends BaseActionType {\n\tto: string\n\tstate?: { [x: string]: any }\n\treplace?: boolean\n}\n\nexport const isLinkActionType = (action: any): action is LinkActionType => typeof action.to === 'string'\n\nexport interface ButtonActionType extends BaseActionType {\n\tonClick: (e: any) => void\n\ttype?: 'button' | 'submit'\n\tisLoading?: boolean\n}\n\nexport const isButtonActionType = (action: any): action is ButtonActionType => typeof action.onClick === 'function'\n\nexport interface SubmitActionType extends BaseActionType {\n\ttype: 'submit'\n\tisLoading?: boolean\n}\n\nexport const isSubmitActionType = (action: any): action is ButtonActionType => action.type === 'submit'\n\nexport interface DividerActionType extends BaseActionType {\n\tdivider: true\n}\n\nexport const isDividerActionType = (action: any): action is DividerActionType => action?.divider === true\n\nexport interface ActionMenuActionType extends BaseActionType {\n\tactions: ActionType[] | (ActionType[] | None)[]\n\tplacement?: Placement\n\toffset?: number | [number, number]\n\thoverable?: boolean\n}\n\nexport const isActionMenuActionType = (action: any): action is ActionMenuActionType => action.actions instanceof Array\n\nexport interface CustomMenuActionType extends BaseActionType {\n\tmenu: ReactNode\n\tmaxWidth?: number\n\tplacement?: Placement\n}\n\nexport const isCustomMenuActionType = (action: any): action is CustomMenuActionType => !!action.menu\n\nexport type ActionType =\n\t| LinkActionType\n\t| ButtonActionType\n\t| SubmitActionType\n\t| ActionMenuActionType\n\t| CustomMenuActionType\n\t| DividerActionType\n\t| None\n\nexport interface RouteConfig {\n\ttitle: string\n\ticon: ReactNode\n\tshow?: () => boolean\n\texact: boolean\n\tchildren?: RouteConfig[]\n\ttooltip?: ReactNode\n}\n\nexport interface LinkRouteConfig extends RouteConfig {\n\tto: string\n}\n\nexport const isLinkRouteConfig = (x: any): x is LinkRouteConfig => typeof x.to !== 'undefined'\n\nexport interface AnchorRouteConfig extends RouteConfig {\n\turl: string\n}\n\nexport const isAnchorRouteConfig = (x: any): x is AnchorRouteConfig => typeof x.url !== 'undefined'\n\nexport type SetState<T> = (x: SetStateAction<T>) => void\n\nexport interface BaseTabType {\n\ttitle: ReactNode\n\tsimpleTitle?: string\n\terrors?: number\n\tkey?: number | string\n}\n\nexport interface LinkTabType extends BaseTabType {\n\tto: string\n\tstate?: { [x: string]: any }\n\treplace?: boolean\n}\n\nexport const isLinkTabType = (action: any): action is LinkTabType => typeof action.to === 'string'\n\nexport interface ButtonTabType extends BaseTabType {\n\tonClick: (item: TabType, n: number) => void\n}\n\nexport const isButtonTabType = (action: any): action is ButtonTabType => typeof action.onClick === 'function'\n\nexport type TabType = LinkTabType | ButtonTabType\n\nexport interface PaginatedSet<T> {\n\titems: T[]\n\tpageNumber: number\n\tpageSize: number\n\ttotalCount: number\n\ttotalPages: number\n}\n\nexport interface FilterFormProps {\n\tclear: () => void\n}\n\nexport const isFile = (x: any): x is File => x instanceof File\n\nexport type RefetchFn = () => Promise<unknown>\n\nexport type ModalResolveFn<T = unknown> = (answer?: T) => void\nexport type SlideoutResolveFn<T = unknown> = (answer?: T) => void\n\nexport interface PresetValue<T> {\n\tvalue: T\n\tlocked?: boolean\n}\n\nexport type Keyed<T> = T & { key: string }\n\nexport interface PaginationSearch {\n\t[x: string]: any\n}\n\nexport interface PaginationState {\n\tpage: number\n\tpageSize: number\n\torderBy?: string\n\torderDir: number\n\tsearch?: PaginationSearch\n}\n\nexport interface InitialPaginationState {\n\tpage?: number\n\tpageSize?: number\n\torderBy?: string\n\torderDir?: number\n\tsearch?: PaginationSearch\n}\n","import React, { Children, FC, Fragment, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport Divider from '@primer/components/Divider'\nimport AutoHeight from '@primer/components/AutoHeight'\nimport { omit } from 'ramda'\nimport { isNotNone } from '@primer/types'\n\ninterface StackProps {\n\tspace?: SpaceType\n\tdividers?: boolean\n\tchildren: ReactNode\n\tclassName?: ClassValue\n}\n\ntype SpaceType = 0 | 1 | 2 | 3 | 4 | 6 | 8\n\nconst spaces = {\n\t0: '',\n\t1: 'pt-1',\n\t2: 'pt-2',\n\t3: 'pt-3',\n\t4: 'pt-4',\n\t6: 'pt-6',\n\t8: 'pt-8',\n}\n\nconst Stack: FC<StackProps> = ({ space = 6, dividers, className, children }: StackProps) => {\n\tconst items = Children.toArray(children)\n\n\tconst filteredItems = items.reduce<ReactNode[]>((list, x, i) => {\n\t\t// @ts-ignore\n\t\tconst type = x?.type\n\t\t// @ts-ignore\n\t\tconst children: ReactNode[] | null = x?.props?.children || null\n\t\t// @ts-ignore\n\t\tconst props = omit(['children', 'show'], x.props) || null\n\t\t// @ts-ignore\n\t\tconst show = x?.props?.show || null\n\n\t\tif (type === Fragment) {\n\t\t\treturn list.concat(children)\n\t\t}\n\n\t\treturn [\n\t\t\t...list,\n\t\t\ttype === AutoHeight ? (\n\t\t\t\t<AutoHeight show={show} {...props}>\n\t\t\t\t\t<div className={clsx(i > 0 && spaces[space || 0])}>\n\t\t\t\t\t\t{dividers && i > 0 && <Divider className={spaces[space || 0]} />}\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t</AutoHeight>\n\t\t\t) : (\n\t\t\t\tx\n\t\t\t),\n\t\t]\n\t}, [])\n\n\treturn (\n\t\t<div className={clsx(`flex flex-col`, className)}>\n\t\t\t{filteredItems.filter(isNotNone).map((item, i) =>\n\t\t\t\t// @ts-ignore\n\t\t\t\titem.type === AutoHeight ? (\n\t\t\t\t\t<Fragment key={i}>{item}</Fragment>\n\t\t\t\t) : (\n\t\t\t\t\t<div key={i} className={clsx(i > 0 && spaces[space || 0])}>\n\t\t\t\t\t\t{dividers && i > 0 && <Divider className={spaces[space || 0]} />}\n\t\t\t\t\t\t{item}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Stack\n","import { useEffect, useRef } from \"react\"\n\nconst useAutoFocus = <T = HTMLElement>(enabled: boolean = true) => {\n\tconst ref = useRef<T>(null)\n\n\tuseEffect(() => {\n\t\tif (ref.current && enabled) { \n\t\t\t// @ts-ignore\n\t\t\tif (typeof ref.current?.focus === 'function') {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tref.current?.focus()\n\t\t\t\t}, 100)\n\t\t\t}\n\t\t}\n\t}, [enabled])\n\n\treturn ref\n}\n\nexport default useAutoFocus","import React, { ReactNode, MouseEvent, forwardRef, ElementType } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { IntentType, ButtonSize, ButtonRoundness } from '@primer/types'\nimport { Spinner } from './Icon'\n\nexport const sizes = {\n\txs: 'px-2.5 py-1.5 text-xs leading-4',\n\tsm: 'px-3 py-2 text-sm leading-4',\n\tmd: 'px-4 py-2 text-sm leading-5',\n\tlg: 'px-4 py-2 text-base leading-6',\n\txl: 'px-6 py-3 text-base leading-6',\n\tinline: '',\n}\n\nexport const roundedness = {\n\tnone: '',\n\tsm: 'rounded-sm',\n\trounded: 'rounded',\n\tmd: 'rounded-md',\n\tlg: 'rounded-lg',\n\tfull: 'rounded-full',\n}\n\nexport const intents = {\n\tprimary: {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased',\n\t\t\t'disabled:cursor-not-allowed',\n\t\t\t'text-white dark:text-white',\n\t\t\t'border-0 border-primary-500',\n\t\t\t'bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-500 active:bg-primary-700 dark:active:bg-primary-700',\n\t\t\t'focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-primary-300 dark:focus:ring-primary-300 dark:ring-offset-gray-800',\n\t\t\t'disabled:opacity-50'\n\t\t),\n\t},\n\tsecondary: {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center font-medium border transition ease-in-out duration-150',\n\t\t\t'disabled:cursor-not-allowed',\n\t\t\t'border-gray-300 focus:border-primary-500 dark:border-gray-600 dark:focus:border-primary-500',\n\t\t\t'text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white',\n\t\t\t'bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750',\n\t\t\t'focus:outline-none dark:focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-500',\n\t\t\t'disabled:opacity-50'\n\t\t),\n\t},\n\tlight: {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased',\n\t\t\t'disabled:cursor-not-allowed',\n\t\t\t'text-gray-800 dark:text-white',\n\t\t\t'border-0 border-gray-500',\n\t\t\t'bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500 active:bg-gray-300 dark:active:bg-gray-700',\n\t\t\t'focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-300 dark:ring-offset-gray-800',\n\t\t\t'disabled:opacity-50'\n\t\t),\n\t},\n\tsave: {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center font-medium border transition ease-in-out duration-150',\n\t\t\t'disabled:cursor-not-allowed',\n\t\t\t'text-white dark:text-white',\n\t\t\t'border-0',\n\t\t\t'bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-500 hover:bg-emerald-400 dark:hover:bg-emerald-400 active:bg-emerald-600 dark:active:bg-emerald-700',\n\t\t\t'focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-emerald-300 dark:focus:ring-emerald-700'\n\t\t),\n\t},\n\tdanger: {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center font-medium border transition ease-in-out duration-150 antialiased',\n\t\t\t'disabled:cursor-not-allowed',\n\t\t\t'text-white dark:text-white',\n\t\t\t'border-0',\n\t\t\t'bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-500 active:bg-red-700 dark:active:bg-red-700',\n\t\t\t'focus:outline-none dark:focus:outline-none focus:ring-2 focus:ring-red-300 dark:focus:ring-red-300'\n\t\t),\n\t},\n\tmenu: {\n\t\tspan: 'flex',\n\t\tbutton: clsx(\n\t\t\t'w-8 h-8 inline-flex items-center justify-center rounded-full',\n\t\t\t'bg-transparent hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:bg-primary-200',\n\t\t\t'text-gray-400 hover:text-gray-500 focus:text-gray-500 dark:hover:text-gray-300',\n\t\t\t'focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t'transition ease-in-out duration-100',\n\t\t\t'dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400'\n\t\t),\n\t},\n\t'menu-danger': {\n\t\tspan: 'inline-flex', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'w-8 h-8 inline-flex items-center justify-center rounded-full',\n\t\t\t'bg-transparent hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:bg-red-200',\n\t\t\t'text-red-400 hover:text-red-500 focus:text-red-500 dark:hover:text-red-300',\n\t\t\t'focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t'transition ease-in-out duration-100',\n\t\t\t'dark:hover:bg-red-800 dark:focus:bg-red-900 dark:hover:text-red-400'\n\t\t),\n\t},\n\t'sidebar-menu': {\n\t\tspan: 'flex',\n\t\tbutton: clsx(\n\t\t\t'w-8 h-8 inline-flex items-center justify-center rounded-full',\n\t\t\t'bg-transparent hover:bg-gray-700 focus:bg-gray-600',\n\t\t\t'text-gray-400 hover:text-gray-300 focus:text-gray-200',\n\t\t\t'focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t'transition ease-in-out duration-100',\n\t\t\t'dark:hover:bg-gray-800 dark:focus:bg-gray-900 dark:hover:text-gray-400'\n\t\t),\n\t},\n\t'sub-menu': {\n\t\tspan: 'flex',\n\t\tbutton: 'flex items-center justify-between text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750',\n\t},\n\tborderless: {\n\t\tspan: 'inline hover', // shadow-sm\n\t\tbutton: clsx(\n\t\t\t'inline text-left border border-transparent hover:border-gray-300 focus:bg-gray-50 transition ease-in-out duration-150 dark:hover:border-gray-600 dark:focus:bg-gray-750',\n\t\t\t'focus:border-primary-500 dark:focus:border-primary-500',\n\t\t\t'focus:outline-none focus:ring-1 focus:ring-primary-500'\n\t\t),\n\t},\n\tinvisible: {\n\t\tspan: 'inline',\n\t\tbutton: clsx(\n\t\t\t'inline-flex items-center text-left border border-transparent',\n\t\t\t'hover:bg-gray-800 dark:hover:bg-gray-100 bg-opacity-10 hover:bg-opacity-10 dark:hover:bg-opacity-10',\n\t\t\t'focus:outline-none focus:ring-2 focus:ring-primary-500'\n\t\t),\n\t},\n\tnone: {\n\t\tspan: '',\n\t\tbutton: '',\n\t},\n}\n\ninterface ButtonProps {\n\tonClick?: (e: MouseEvent) => void\n\tchildren: ReactNode\n\tclassName?: ClassValue\n\tintent?: IntentType\n\ttype?: 'button' | 'submit'\n\tdisabled?: boolean\n\tisLoading?: boolean\n\tsize?: ButtonSize\n\trounded?: ButtonRoundness\n\tas?: ElementType\n}\n\nconst Button = forwardRef<HTMLElement, ButtonProps>(\n\t(\n\t\t{\n\t\t\tonClick,\n\t\t\ttype = 'button',\n\t\t\tintent = 'secondary',\n\t\t\tsize = 'md',\n\t\t\trounded = 'rounded',\n\t\t\tdisabled,\n\t\t\tisLoading,\n\t\t\tclassName,\n\t\t\tas = 'button',\n\t\t\tchildren,\n\t\t},\n\t\tref\n\t) => {\n\t\tconst Comp = as\n\n\t\tconst attrs = {}\n\n\t\tif (as === 'button') {\n\t\t\t// @ts-ignore\n\t\t\tattrs.type = type\n\t\t}\n\n\t\treturn (\n\t\t\t<span className={clsx('inline-flex select-none', intents[intent].span, roundedness[rounded])} ref={ref}>\n\t\t\t\t<Comp\n\t\t\t\t\t{...attrs}\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t'focus:outline-none',\n\t\t\t\t\t\tintents[intent].button,\n\t\t\t\t\t\tsizes[size],\n\t\t\t\t\t\troundedness[rounded],\n\t\t\t\t\t\tclassName\n\t\t\t\t\t)}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tdisabled={disabled || isLoading || false}\n\t\t\t\t>\n\t\t\t\t\t{isLoading && <Spinner className=\"animate-spin -ml-1 mr-3 h-4 w-4\" />}\n\t\t\t\t\t{children}\n\t\t\t\t</Comp>\n\t\t\t</span>\n\t\t)\n\t}\n)\n\nexport default Button\n","import React, { FC, ReactNode, useState, useRef, MouseEvent } from 'react'\nimport { BackdropTransition, AlertTransition } from '@primer/components/AlertTransition'\nimport alert from '@primer/utils/alert'\nimport { Spinner } from '@primer/components/Icon'\nimport useAutoFocus from '@primer/hooks/useAutoFocus'\nimport {\n\tintents as buttonIntents,\n\troundedness as buttonRoundness,\n\tsizes as buttonSizes,\n} from '@primer/components/Button'\nimport clsx from 'clsx'\n\ntype ConfirmIntent = 'danger' | 'primary'\n\ninterface ConfirmProps {\n\tresolve: (x?: boolean | undefined) => void\n\tclose: () => void\n\ttitle: ReactNode\n\tmessage?: ReactNode\n\tbuttonLabel?: ReactNode\n\tdismissable?: boolean\n\tintent?: ConfirmIntent\n\tonAccept?: () => Promise<any> | void\n}\n\nconst Confirm: FC<ConfirmProps> = ({\n\tresolve,\n\tclose,\n\ttitle,\n\tmessage,\n\tbuttonLabel = 'Yes',\n\tdismissable = true,\n\tintent = 'danger',\n\tonAccept,\n}) => {\n\tconst [open, setOpen] = useState(true)\n\tconst [loading, setLoading] = useState(false)\n\tconst ref = useRef<HTMLDivElement>(null)\n\n\tconst autoFocusRef = useAutoFocus<HTMLButtonElement>()\n\n\tconst closeAlert = (x: boolean) => {\n\t\tsetOpen(false)\n\t\tresolve(x)\n\t\tsetTimeout(() => {\n\t\t\tclose()\n\t\t}, 300)\n\t}\n\n\tconst handleAccept = async () => {\n\t\tif (onAccept) {\n\t\t\tsetLoading(true)\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 500))\n\t\t\tawait onAccept()\n\t\t\tcloseAlert(true)\n\t\t} else {\n\t\t\tcloseAlert(true)\n\t\t}\n\t}\n\n\treturn (\n\t\t<BackdropTransition show={open}>\n\t\t\t<div\n\t\t\t\tclassName=\"fixed inset-0 w-screen h-screen flex p-4 justify-center bg-black bg-opacity-50 overflow-y-auto z-60 backdrop-filter backdrop-grayscale\"\n\t\t\t\tonClick={(e: MouseEvent) => {\n\t\t\t\t\tif (e.target === ref.current) {\n\t\t\t\t\t\tdismissable && !loading && closeAlert(false)\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t<AlertTransition\n\t\t\t\t\tshow={open}\n\t\t\t\t\tclassName=\"w-full pointer-events-none sm:flex sm:justify-center sm:items-start\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-xl sm:max-w-lg sm:w-full pointer-events-auto\"\n\t\t\t\t\t\tref={dismissable ? ref : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"bg-white dark:bg-gray-700 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n\t\t\t\t\t\t\t<div className=\"sm:flex sm:items-start\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'bg-red-100 text-red-600': intent === 'danger',\n\t\t\t\t\t\t\t\t\t\t\t'bg-indigo-100 text-indigo-600': intent === 'primary',\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg className=\"h-6 w-6\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{message && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2 text-sm leading-5 text-gray-500 dark:text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"bg-gray-50 dark:bg-gray-750 px-4 py-3 sm:px-6 flex flex-col-reverse sm:flex-row justify-end sm:space-x-3\">\n\t\t\t\t\t\t\t<span className={clsx(buttonIntents.danger.span, buttonRoundness.md)}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={() => closeAlert(false)}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t// className=\"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:ring transition ease-in-out duration-150 sm:text-sm sm:leading-5 antialiased disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:text-gray-200 dark:bg-gray-700 dark:hover:text-white dark:focus:bg-gray-700\"\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\tbuttonIntents.secondary.button,\n\t\t\t\t\t\t\t\t\t\tbuttonSizes.md,\n\t\t\t\t\t\t\t\t\t\tbuttonRoundness.md,\n\t\t\t\t\t\t\t\t\t\t'w-full sm:w-auto justify-center'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\ttabIndex={1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<span className={clsx(buttonIntents[intent].span, buttonRoundness.md)}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={handleAccept}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t// className=\"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-red-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-red-500 focus:outline-none focus:border-red-700 focus:ring-red transition ease-in-out duration-150 sm:text-sm sm:leading-5 antialiased\"\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\tbuttonIntents[intent].button,\n\t\t\t\t\t\t\t\t\t\tbuttonSizes.md,\n\t\t\t\t\t\t\t\t\t\tbuttonRoundness.md,\n\t\t\t\t\t\t\t\t\t\t'w-full sm:w-auto justify-center mb-3 sm:mb-0'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\tref={autoFocusRef}\n\t\t\t\t\t\t\t\t\ttabIndex={2}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t{loading && <Spinner className=\"animate-spin -ml-1 mr-3 w-4 h-4\" />}\n\t\t\t\t\t\t\t\t\t\t{buttonLabel}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</AlertTransition>\n\t\t\t</div>\n\t\t</BackdropTransition>\n\t)\n}\n\nexport default Confirm\n\nexport const confirm = async ({\n\ttitle,\n\tmessage,\n\tintent,\n\tbuttonLabel,\n\tonAccept,\n}: {\n\ttitle: ReactNode\n\tmessage?: ReactNode\n\tintent?: ConfirmIntent\n\tbuttonLabel?: ReactNode\n\tonAccept?: () => Promise<any> | void\n}) => {\n\tconst answer = await alert<boolean>(({ resolve, close }) => (\n\t\t<Confirm\n\t\t\tresolve={resolve}\n\t\t\tclose={close}\n\t\t\ttitle={title}\n\t\t\tmessage={message}\n\t\t\tbuttonLabel={buttonLabel}\n\t\t\tonAccept={onAccept}\n\t\t\tdismissable={true}\n\t\t\tintent={intent}\n\t\t/>\n\t))\n\n\treturn answer\n}\n","import React, { ReactNode, useRef, MouseEvent, useCallback } from 'react'\n// import { BackdropTransition, SlideoutTransition } from '@primer/components/AlertTransition'\nimport alert from '@primer/utils/alert'\nimport { motion, AnimatePresence, MotionStyle } from 'framer-motion'\nimport { SlideoutResolveFn } from '@primer/types'\nimport clsx from 'clsx'\n\nexport type SizeValue = 'sm' | 'md' | 'lg' | 'xl'\n\nconst sizes = {\n\tsm: '20rem',\n\tmd: '40rem',\n\tlg: '60rem',\n\txl: '75rem',\n}\n\ninterface SlideoutProps<T> {\n\tresolve: SlideoutResolveFn<T>\n\tclose: () => void\n\tdismissable?: boolean\n\tsize?: SizeValue\n\tmode?: 'dark' | ''\n\tchildren: (close: SlideoutResolveFn<T>) => ReactNode\n}\n\nfunction Slideout<T>({ close, resolve, children, size = 'md', mode = '', dismissable = true }: SlideoutProps<T>) {\n\tconst [open, setOpen] = React.useState(true)\n\n\tconst closeSlideout = useCallback(\n\t\t(x) => {\n\t\t\tresolve(x)\n\n\t\t\tsetOpen(false)\n\t\t\tsetTimeout(() => {\n\t\t\t\tclose()\n\t\t\t}, 500)\n\t\t},\n\t\t[close, resolve]\n\t)\n\n\tconst backdropRef = useRef<HTMLDivElement>(null)\n\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{open && (\n\t\t\t\t<motion.div\n\t\t\t\t\tstyle={{ originY: 0 } as MotionStyle}\n\t\t\t\t\tvariants={{\n\t\t\t\t\t\thidden: { opacity: 0 },\n\t\t\t\t\t\tvisible: { opacity: 1 },\n\t\t\t\t\t}}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\tduration: 0.2,\n\t\t\t\t\t}}\n\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\texit=\"hidden\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={clsx('fixed z-40 inset-0 overflow-hidden', mode)}\n\t\t\t\t\t\tonClick={(e: MouseEvent) => {\n\t\t\t\t\t\t\tif (e.target === backdropRef.current) {\n\t\t\t\t\t\t\t\tdismissable && closeSlideout(false)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tref={backdropRef}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"absolute z-40 inset-0 overflow-hidden\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"absolute z-40 inset-0 bg-black bg-opacity-50 transition-opacity backdrop-filter backdrop-grayscale\"\n\t\t\t\t\t\t\t\tonClick={() => closeSlideout(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<section className=\"absolute z-40 inset-y-0 right-0 max-w-full flex\">\n\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\tclassName=\"pointer-events-none flex-1\"\n\t\t\t\t\t\t\t\t\tvariants={{\n\t\t\t\t\t\t\t\t\t\thidden: { x: '100%' },\n\t\t\t\t\t\t\t\t\t\tvisible: { x: '0%' },\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\t\tduration: 0.2,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"pointer-events-auto h-full\" style={{ maxWidth: sizes[size] }}>\n\t\t\t\t\t\t\t\t\t\t{children(closeSlideout)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</motion.div>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t)\n}\n\nexport default Slideout\n\ninterface slideoutProps<T> {\n\tdismissable?: boolean\n\tsize?: SizeValue\n\tmode: 'dark' | ''\n\tchildren: (close: SlideoutResolveFn<T>) => ReactNode\n}\n\nexport function slideout<T = boolean>({ dismissable, size, mode = '', children }: slideoutProps<T>) {\n\treturn alert<T>(({ resolve, close }) => {\n\t\treturn (\n\t\t\t<Slideout\n\t\t\t\tresolve={resolve}\n\t\t\t\tclose={close}\n\t\t\t\tchildren={children}\n\t\t\t\tdismissable={dismissable}\n\t\t\t\tsize={size}\n\t\t\t\tmode={mode}\n\t\t\t/>\n\t\t)\n\t})\n}\n","import React, { ReactElement } from 'react'\nimport * as ReactDOM from 'react-dom'\n\nconst toastRoot = document.createElement('div')\ntoastRoot.className = 'flex flex-col justify-start fixed inset-0 pointer-events-none z-50'\ndocument.body.appendChild(toastRoot)\n\nconst toast = (DialogContent: (props: { giveAnswer: (answer: boolean) => void }) => ReactElement): Promise<boolean> =>\n\tnew Promise((res) => {\n\t\tconst toastContainer = document.createElement('div')\n\t\ttoastRoot.appendChild(toastContainer)\n\n\t\tconst giveAnswer = (answer: boolean) => {\n\t\t\tReactDOM.unmountComponentAtNode(toastContainer)\n\t\t\tres(answer)\n\t\t}\n\n\t\tReactDOM.render(<DialogContent giveAnswer={giveAnswer} />, toastContainer)\n\t})\n\nexport default toast\n","export const holidays = [\n\t{ name: \"New Year's Day\", date: new Date('1 Jan 2021') },\n\t{ name: \"Day after New Year's Day\", date: new Date('4 Jan 2021') },\n\t{ name: 'Waitangi Day', date: new Date('8 Feb 2021') },\n\t{ name: 'Good Friday', date: new Date('2 Apr 2021') },\n\t{ name: 'Easter Monday', date: new Date('5 Apr 2021') },\n\t{ name: 'Anzac Day', date: new Date('26 Apr 2021') },\n\t{ name: \"Queen's Birthday\", date: new Date('7 Jun 2021') },\n\t{ name: 'Labour Day', date: new Date('25 Oct 2021') },\n\t{ name: 'Christmas Day', date: new Date('27 Dec 2021') },\n\t{ name: 'Boxing Day', date: new Date('28 Dec 2021') },\n\n\t{ name: \"New Year's Day\", date: new Date('3 Jan 2022') },\n\t{ name: \"Day after New Year's Day\", date: new Date('4 Jan 2022') },\n\t{ name: 'Waitangi Day', date: new Date('7 Feb 2022') },\n\t{ name: 'Good Friday', date: new Date('15 Apr 2022') },\n\t{ name: 'Easter Monday', date: new Date('18 Apr 2022') },\n\t{ name: 'Anzac Day', date: new Date('25 Apr 2022') },\n\t{ name: \"Queen's Birthday\", date: new Date('6 Jun 2022') },\n\t{ name: 'Matariki', date: new Date('24 Jun 2022') },\n\t{ name: 'Labour Day', date: new Date('24 Oct 2022') },\n\t{ name: 'Christmas Day', date: new Date('26 Dec 2022') },\n\t{ name: 'Boxing Day', date: new Date('27 Dec 2022') },\n]\n","export const env = process.env.REACT_APP_ENV || 'dev'\nexport const site = process.env.REACT_APP_SITE || 'dev'\n\nconst registry = 'nzdrc-icra.azurewebsites.net'\n\ninterface Environment {\n\turl: string\n\tregistry: string\n}\n\nconst environments: { [x: string]: Environment } = {\n\tdev: {\n\t\turl: 'https://nzdrc-api-dev.azurewebsites.net/api',\n\t\tregistry,\n\t},\n\tstaging: {\n\t\turl: 'https://nzdrc-api-stage.azurewebsites.net/api',\n\t\tregistry,\n\t},\n\tdemo: {\n\t\turl: 'https://nzdrc-api-demo.azurewebsites.net/api',\n\t\tregistry,\n\t},\n\tlivetest: {\n\t\turl: 'https://nzdrc-api.azurewebsites.net/api', //temporary\n\t\tregistry,\n\t},\n\tproduction: {\n\t\turl: 'https://nzdrc-api.azurewebsites.net/api',\n\t\tregistry,\n\t},\n}\n\nexport default environments[site]\n","import React from 'react'\nimport { createPopper, Options } from '@popperjs/core/lib/popper-lite'\nimport flip from '@popperjs/core/lib/modifiers/flip'\nimport offset from '@popperjs/core/lib/modifiers/offset'\nimport preventOverflow from '@popperjs/core/lib/modifiers/preventOverflow'\n\n/**\n * Example implementation to use Popper: https://popper.js.org/\n */\nexport function usePopper(\n\toptions?: Partial<Options>\n): [React.RefCallback<Element | null>, React.RefCallback<HTMLElement | null>] {\n\tconst reference = React.useRef<Element | null>(null)\n\tconst popper = React.useRef<HTMLElement | null>(null)\n\n\tconst cleanupCallback = React.useRef(() => {})\n\n\tconst instantiatePopper = React.useCallback(() => {\n\t\tif (!reference.current) return\n\t\tif (!popper.current) return\n\n\t\tif (cleanupCallback.current) cleanupCallback.current()\n\n\t\tcleanupCallback.current = createPopper(reference.current, popper.current, {\n\t\t\t...options,\n\t\t\tmodifiers: [flip, offset, preventOverflow, ...(options?.modifiers || [])],\n\t\t}).destroy\n\t}, [reference, popper, cleanupCallback, options])\n\n\treturn React.useMemo(\n\t\t() => [\n\t\t\t(referenceDomNode) => {\n\t\t\t\treference.current = referenceDomNode\n\t\t\t\tinstantiatePopper()\n\t\t\t},\n\t\t\t(popperDomNode) => {\n\t\t\t\tpopper.current = popperDomNode\n\t\t\t\tinstantiatePopper()\n\t\t\t},\n\t\t],\n\t\t[reference, popper, instantiatePopper]\n\t)\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport useClickOutside from 'react-cool-onclickoutside'\n\ninterface DismissableOptions {\n\tonOpen?: () => void\n\tonClose?: () => void\n}\n\nconst useDismissable = (options: DismissableOptions = {}) => {\n\tconst [open, setOpen] = useState(false)\n\n\tconst [ignoreClass] = useState(`ignore-dismissable-${Math.floor(Math.random() * 999999)}`)\n\n\tconst close = useCallback(() => {\n\t\toptions.onClose && options.onClose()\n\t\tsetOpen(false)\n\t}, [options])\n\n\tconst [prevState, setPrevState] = useState(open)\n\tuseEffect(() => {\n\t\tif (open !== prevState) {\n\t\t\toptions.onOpen && open && options.onOpen()\n\t\t\tsetPrevState(open)\n\t\t}\n\t}, [open, options, prevState])\n\n\tuseEffect(() => {\n\t\tconst handle = (e: KeyboardEvent) => e.key === 'Escape' && setOpen(false)\n\n\t\tif (open) {\n\t\t\twindow.addEventListener('keyup', handle)\n\t\t} else {\n\t\t\twindow.removeEventListener('keyup', handle)\n\t\t}\n\n\t\treturn () => window.removeEventListener('keyup', handle)\n\t}, [open, close])\n\n\tconst ref = useClickOutside(\n\t\t(e) => {\n\t\t\tsetOpen(false)\n\t\t},\n\t\t{ ignoreClass }\n\t)\n\n\treturn { open, setOpen, ignoreClass, ref }\n}\n\nexport default useDismissable\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { usePopper } from '@primer/hooks/usePopper'\nimport { Placement } from '@popperjs/core/index'\nimport { motion, AnimatePresence, MotionStyle } from 'framer-motion'\nimport useDismissable from '@primer/hooks/useDismissable'\n\ninterface CustomMenuProps {\n\tmenu: ReactNode\n\tchildren: (x: { onClick: () => void }) => ReactNode\n\tclassName?: ClassValue\n\tplacement?: Placement\n\tmaxWidth?: number\n}\n\nconst CustomMenu: FC<CustomMenuProps> = ({ placement = 'bottom-end', className, children, menu, maxWidth }) => {\n\tconst [reference, tooltip] = usePopper({\n\t\tplacement,\n\t\tstrategy: 'fixed',\n\t\tmodifiers: [\n\t\t\t{\n\t\t\t\tname: 'offset',\n\t\t\t\toptions: { offset: [0, 0] },\n\t\t\t},\n\t\t],\n\t})\n\n\tconst { open, setOpen, ignoreClass, ref } = useDismissable()\n\n\treturn (\n\t\t<div className={clsx('block text-left', className)}>\n\t\t\t{/*\n\t\t\t\t// @ts-ignore */}\n\t\t\t<div ref={reference} className={ignoreClass}>\n\t\t\t\t{children({ onClick: () => setOpen((x) => !x) })}\n\t\t\t</div>\n\n\t\t\t<div ref={tooltip} className=\"z-20\">\n\t\t\t\t<div ref={ref}>\n\t\t\t\t\t<AnimatePresence>\n\t\t\t\t\t\t{open && (\n\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\tclassName={clsx(className, 'relative z-60')}\n\t\t\t\t\t\t\t\tstyle={{ originY: 0 } as MotionStyle}\n\t\t\t\t\t\t\t\tvariants={{\n\t\t\t\t\t\t\t\t\thidden: { scale: 0.95, opacity: 0 },\n\t\t\t\t\t\t\t\t\tvisible: { scale: 1, opacity: 1 },\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\tduration: 0.2,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 rounded-md shadow-lg focus:outline-none\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmaxWidth: maxWidth\n\t\t\t\t\t\t\t\t\t\t\t? typeof maxWidth === 'number'\n\t\t\t\t\t\t\t\t\t\t\t\t? maxWidth + 'px'\n\t\t\t\t\t\t\t\t\t\t\t\t: maxWidth\n\t\t\t\t\t\t\t\t\t\t\t: 'auto',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"rounded-md ring-1 ring-black ring-opacity-5 whitespace-nowrap\">\n\t\t\t\t\t\t\t\t\t\t{menu}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CustomMenu\n","import React, { FC, ReactNode, useRef, useState } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { usePopper } from '@primer/hooks/usePopper'\nimport { Placement } from '@popperjs/core/index'\nimport { Menu } from '@headlessui/react'\nimport { AnimatePresence, motion, MotionStyle } from 'framer-motion'\nimport { Link } from '@reach/router'\nimport {\n\tActionType,\n\tisActionMenuActionType,\n\tisButtonActionType,\n\tisSubmitActionType,\n\tisLinkActionType,\n\tisCustomMenuActionType,\n\tisDividerActionType,\n\tisNotNone,\n\tIntentType,\n\tButtonSize,\n\tButtonRoundness as ButtonRoundnessType,\n\tNone,\n} from '@primer/types'\nimport Button, {\n\tintents as ButtonIntents,\n\tsizes as ButtonSizes,\n\troundedness as ButtonRoundness,\n} from '@primer/components/Button'\nimport CustomMenu from '@primer/components/CustomMenu'\n\nconst intents = {\n\tprimary:\n\t\t'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:bg-gray-750 h-10',\n\tsecondary:\n\t\t'rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-primary-300 hover:bg-opacity-25 dark:hover:bg-primary-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:focus:bg-gray-750 active:bg-gray-200 dark:active:bg-gray-700 h-10',\n\tsave: 'rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-green-300 hover:bg-opacity-25 dark:hover:bg-green-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-green-100 hover:text-green-600 font-normal dark:text-green-200 dark:hover:bg-opacity-50 dark:hover:text-green-100 dark:focus:bg-green-400 active:bg-green-200 dark:active:bg-green-300 h-10',\n\tdanger: 'rounded-md block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-red-300 hover:bg-opacity-25 dark:hover:bg-red-300 dark:hover:bg-opacity-25 focus:outline-none focus:bg-red-100 hover:text-red-600 font-normal dark:text-red-200 dark:hover:bg-opacity-50 dark:hover:text-red-100 dark:focus:bg-red-400 active:bg-red-200 dark:active-bg-red-300 h-10',\n\tsubmit: 'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal h-10',\n\tcancel: 'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal',\n\tmenu: 'block',\n\t'sidebar-menu': '',\n\t'sub-menu':\n\t\t'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal dark:text-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-750',\n\tanchor: 'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal',\n\tborderless:\n\t\t'block px-4 py-2 text-sm text-left w-full leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 font-normal',\n\tinvisible: '',\n\tnone: '',\n\tlight: '',\n\t'menu-danger': '',\n}\n\ninterface ActionMenuProps {\n\tactions: ActionType[] | (ActionType[] | None)[]\n\tintent?: IntentType\n\tplacement?: Placement\n\toffset?: number | [number, number]\n\thoverable?: boolean\n\tdisabled?: boolean\n\tsize?: ButtonSize\n\trounded?: ButtonRoundnessType\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nconst ActionMenu: FC<ActionMenuProps> = ({\n\tactions,\n\tintent,\n\tplacement = 'bottom-end',\n\toffset = 10,\n\thoverable = false,\n\tdisabled = false,\n\tsize,\n\trounded = 'rounded',\n\tclassName,\n\tchildren,\n}) => {\n\tconst [reference, tooltip] = usePopper({\n\t\tplacement,\n\t\tstrategy: 'fixed',\n\t\tmodifiers: [\n\t\t\t{\n\t\t\t\tname: 'offset',\n\t\t\t\toptions: { offset: offset instanceof Array ? offset : [0, offset] },\n\t\t\t},\n\t\t],\n\t})\n\n\tconst [isHover, setHover] = useState(false)\n\tconst [hoverTimer, setHoverTimer] = useState<ReturnType<typeof setTimeout> | null>()\n\n\tconst isDeepArray = (x: Array<any>): x is (ActionType[] | None)[] => x.filter(isNotNone)[0] instanceof Array\n\n\tconst actionList: ActionType[] = isDeepArray(actions)\n\t\t? actions.filter(isNotNone).reduce((list: ActionType[], actions: ActionType[], index) => {\n\t\t\t\tif (index === 0) return [...actions]\n\t\t\t\treturn [...list, { divider: true }, ...actions.filter(isNotNone)]\n\t\t  }, [])\n\t\t: actions.filter(isNotNone)\n\n\tconst prevOpen = useRef(false)\n\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx('block text-left w-full', className)}\n\t\t\tonMouseOver={() => {\n\t\t\t\tif (hoverable) {\n\t\t\t\t\tsetHover(true)\n\t\t\t\t\tif (hoverTimer) {\n\t\t\t\t\t\tclearTimeout(hoverTimer)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonMouseOut={() => {\n\t\t\t\tif (hoverable) {\n\t\t\t\t\tsetHoverTimer(\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetHover(false)\n\t\t\t\t\t\t}, 100)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<Menu>\n\t\t\t\t{({ open }) => {\n\t\t\t\t\t/// I dunno man, triggering a window resize event fixes this usePopper hook, which I think is jank af\n\t\t\t\t\tif (open !== prevOpen.current) {\n\t\t\t\t\t\tprevOpen.current = open\n\t\t\t\t\t\tif (open) {\n\t\t\t\t\t\t\twindow.dispatchEvent(new Event('resize'))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<span className={clsx(intent && ButtonIntents[intent].span, ButtonRoundness[rounded])}>\n\t\t\t\t\t\t\t\t<Menu.Button\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\tintent && ButtonIntents[intent].button,\n\t\t\t\t\t\t\t\t\t\tsize && ButtonSizes[size],\n\t\t\t\t\t\t\t\t\t\tButtonRoundness[rounded]\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\tref={reference}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t</Menu.Button>\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<div ref={tooltip} className=\"z-20 whitespace-nowrap\">\n\t\t\t\t\t\t\t\t<AnimatePresence>\n\t\t\t\t\t\t\t\t\t{(open || isHover) && !disabled && (\n\t\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ originY: 0 } as MotionStyle}\n\t\t\t\t\t\t\t\t\t\t\tvariants={{\n\t\t\t\t\t\t\t\t\t\t\t\thidden: { scale: 0.95, opacity: 0 },\n\t\t\t\t\t\t\t\t\t\t\t\tvisible: { scale: 1, opacity: 1 },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 0.3,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Items\n\t\t\t\t\t\t\t\t\t\t\t\tstatic\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"max-w-screen origin-top-right bg-white dark:bg-gray-900 rounded-md shadow-lg outline-none\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-2 rounded-md ring-1 ring-black ring-opacity-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actionList.filter(isNotNone).map((action, i) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLinkActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key={i} disabled={action.disabled}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ active }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}${action.to}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintents[action.intent || 'secondary'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'flex items-center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ring-2 ring-indigo-500 hover:ring-0':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate={action.state}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treplace={action.replace}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : isButtonActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!action.disabled && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key={i} disabled={action.disabled}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ active }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction.onClick(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintents[action.intent || 'secondary'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ring-2 ring-indigo-500 hover:ring-0':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : isSubmitActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!action.disabled && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key={i} disabled={action.disabled}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ active }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintents[action.intent || 'secondary'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ring-2 ring-indigo-500 hover:ring-0':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : isActionMenuActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactions={action.actions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent={action.intent || 'sub-menu'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement={action.placement}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toffset={action.offset || [-4, -1]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoverable={action.hoverable}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item disabled={action.disabled}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ active }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintents[action.intent || 'secondary'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'flex items-center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ring-2 ring-indigo-500 hover:ring-0':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ActionMenu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : isCustomMenuActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu={action.menu}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement={action.placement}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth={action.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ onClick }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent={action.intent || 'secondary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CustomMenu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : isDividerActionType(action) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"border-t border-gray-100 dark:border-gray-700 my-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Items>\n\t\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Menu>\n\t\t</div>\n\t)\n}\n\ninterface ActionInnerProps {\n\taction: ActionType\n}\n\nconst ActionInner: FC<ActionInnerProps> = ({ action }) => {\n\tif (!isNotNone(action)) return null\n\n\tlet side = action.iconSide || 'left'\n\n\treturn (\n\t\t<div className=\"flex items-center justify-between\">\n\t\t\t<div className=\"flex items-center\">\n\t\t\t\t{side === 'left' && action.icon ? (\n\t\t\t\t\t<span className={clsx(action.title ? '-ml-1 mr-3 opacity-75' : '-ml-1 -mr-1')}>{action.icon}</span>\n\t\t\t\t) : null}\n\t\t\t\t{action.title}\n\t\t\t</div>\n\t\t\t{side === 'right' && action.icon ? <span className=\"-mr-1 ml-2\">{action.icon}</span> : null}\n\t\t</div>\n\t)\n}\n\nexport default ActionMenu\n","import React, { Children, FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface InlineProps {\n\tspace?: SpaceType\n\tchildren: ReactNode\n\tclassName?: ClassValue\n}\n\ntype SpaceType = 0 | 1 | 2 | 3 | 4 | 6 | 8\n\nconst spaces = {\n\t0: {\n\t\twrapper: '',\n\t\titem: '',\n\t},\n\t1: {\n\t\twrapper: '-ml-1 -mt-1',\n\t\titem: 'pl-1 pt-1',\n\t},\n\t2: {\n\t\twrapper: '-ml-2 -mt-2',\n\t\titem: 'pl-2 pt-2',\n\t},\n\t3: {\n\t\twrapper: '-ml-3 -mt-3',\n\t\titem: 'pl-3 pt-3',\n\t},\n\t4: {\n\t\twrapper: '-ml-4 -mt-4',\n\t\titem: 'pl-4 pt-4',\n\t},\n\t6: {\n\t\twrapper: '-ml-6 -mt-6',\n\t\titem: 'pl-6 pt-6',\n\t},\n\t8: {\n\t\twrapper: '-ml-8 -mt-8',\n\t\titem: 'pl-8 pt-8',\n\t},\n}\n\nconst Inline: FC<InlineProps> = ({ space = 3, children, className }) => {\n\tconst items = Children.toArray(children)\n\n\treturn (\n\t\t<div className={clsx('flex flex-wrap', spaces[space || 0].wrapper, className)}>\n\t\t\t{items.map((item, i) => (\n\t\t\t\t<div key={i} className={clsx('flex items-center', spaces[space || 0].item)}>\n\t\t\t\t\t{item}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nexport default Inline\n","import React, { FC } from 'react'\nimport { Link } from '@reach/router'\nimport {\n\tActionType,\n\tisActionMenuActionType,\n\tisButtonActionType,\n\tisSubmitActionType,\n\tisLinkActionType,\n\tisCustomMenuActionType,\n\tisNotNone,\n} from '@primer/types'\nimport ActionMenu from './ActionMenu'\nimport CustomMenu from './CustomMenu'\nimport Inline from './Inline'\nimport Button from './Button'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface ActionsProps {\n\tactions?: ActionType[] | ActionType\n\tclassName?: ClassValue\n}\n\nconst Actions: FC<ActionsProps> = ({ actions = [], className }) => {\n\tconst actionList = (actions instanceof Array ? actions : [actions]).filter(isNotNone)\n\n\treturn (\n\t\t<Inline className={clsx('inline-flex', className)}>\n\t\t\t{actionList.map((action, i) =>\n\t\t\t\tisLinkActionType(action) ? (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}${action.to}`}\n\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\tstate={action.state}\n\t\t\t\t\t\treplace={action.replace}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button intent={action.intent} size={action.size} rounded={action.rounded}>\n\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t) : isButtonActionType(action) ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tintent={action.intent}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\taction.onClick && action.onClick(e)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={action.disabled || action.isLoading || false}\n\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\ttype={action.type}\n\t\t\t\t\t\tisLoading={action.isLoading}\n\t\t\t\t\t\tsize={action.size}\n\t\t\t\t\t\trounded={action.rounded}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t</Button>\n\t\t\t\t) : isSubmitActionType(action) ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tintent={action.intent}\n\t\t\t\t\t\tdisabled={action.disabled || action.isLoading || false}\n\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\ttype={action.type}\n\t\t\t\t\t\tisLoading={action.isLoading}\n\t\t\t\t\t\tsize={action.size}\n\t\t\t\t\t\trounded={action.rounded}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t</Button>\n\t\t\t\t) : isActionMenuActionType(action) ? (\n\t\t\t\t\t<ActionMenu\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tactions={action.actions}\n\t\t\t\t\t\tintent={action.intent || 'secondary'}\n\t\t\t\t\t\tplacement={action.placement}\n\t\t\t\t\t\toffset={action.offset}\n\t\t\t\t\t\thoverable={action.hoverable}\n\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\tdisabled={action.disabled}\n\t\t\t\t\t\tsize={action.size || 'md'}\n\t\t\t\t\t\trounded={action.rounded}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t</ActionMenu>\n\t\t\t\t) : isCustomMenuActionType(action) ? (\n\t\t\t\t\t<CustomMenu\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tmenu={action.menu}\n\t\t\t\t\t\tplacement={action.placement}\n\t\t\t\t\t\tclassName={action.className}\n\t\t\t\t\t\tmaxWidth={action.maxWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ onClick }) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tintent={action.intent}\n\t\t\t\t\t\t\t\tdisabled={action.disabled}\n\t\t\t\t\t\t\t\tsize={action.size}\n\t\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ActionInner action={action} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CustomMenu>\n\t\t\t\t) : null\n\t\t\t)}\n\t\t</Inline>\n\t)\n}\n\ninterface ActionInnerProps {\n\taction: ActionType\n}\n\nconst ActionInner: FC<ActionInnerProps> = ({ action }) => {\n\tif (!isNotNone(action)) return null\n\n\tif ((isButtonActionType(action) || isSubmitActionType(action)) && action.isLoading) return <>{action.title}</>\n\n\treturn (\n\t\t<>\n\t\t\t{(action.iconSide === 'left' || !action.iconSide) && action.icon ? (\n\t\t\t\t<span className={clsx(action.title ? '-ml-1 mr-2' : '')}>{action.icon}</span>\n\t\t\t) : null}\n\t\t\t{action.title}\n\t\t\t{action.iconSide === 'right' && action.icon ? <span className=\"-mr-1 ml-2\">{action.icon}</span> : null}\n\t\t</>\n\t)\n}\n\nexport default Actions\n","import React, { FC, useState, useRef, useCallback, useEffect, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface BasicTruncateProps {\n\ttitle: string\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nconst BasicTruncate: FC<BasicTruncateProps> = ({ title, className, children }) => {\n\tconst ref = useRef<HTMLSpanElement>(null)\n\tconst timer = useRef<NodeJS.Timeout | undefined>(undefined)\n\tconst [isOverflowing, setOverflowing] = useState(false)\n\n\tconst check = useCallback(() => {\n\t\tif (ref.current) {\n\t\t\tconst { clientWidth, clientHeight, scrollWidth, scrollHeight } = ref.current\n\t\t\tsetOverflowing(scrollHeight > clientHeight || scrollWidth > clientWidth)\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst handler = () => {\n\t\t\tif (timer.current) clearTimeout(timer.current)\n\t\t\ttimer.current = setTimeout(check, 500)\n\t\t}\n\t\twindow.addEventListener('resize', handler)\n\t\treturn () => window.removeEventListener('resize', handler)\n\t}, [check])\n\n\tuseEffect(check, [check])\n\n\treturn (\n\t\t<span\n\t\t\tref={ref}\n\t\t\tclassName={clsx('overflow-ellipsis overflow-hidden', className)}\n\t\t\ttitle={isOverflowing ? title : ''}\n\t\t>\n\t\t\t{children}\n\t\t</span>\n\t)\n}\n\nexport default BasicTruncate\n","import React, { useEffect, useState, useCallback, useMemo, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport Actions from '@primer/components/Actions'\nimport Truncate from '@primer/components/BasicTruncate'\nimport { ActionType, isNotNone, None } from '@primer/types'\nimport { onlyText } from 'react-children-utilities'\n\nconst colSpan: { [key: number]: string } = {\n\t1: 'col-span-1',\n\t2: 'col-span-2',\n\t3: 'col-span-3',\n\t4: 'col-span-4',\n\t5: 'col-span-5',\n\t6: 'col-span-6',\n\t7: 'col-span-7',\n\t8: 'col-span-8',\n\t9: 'col-span-9',\n\t10: 'col-span-10',\n\t11: 'col-span-11',\n\t12: 'col-span-12',\n}\n\nconst useMedia = (queries: string[]) => {\n\tconst mediaQueryLists = useMemo(() => queries.map((q) => window.matchMedia(q)), [queries])\n\n\tconst getValue = useCallback(() => {\n\t\tconst matches = mediaQueryLists.map((mql) => mql.matches)\n\t\treturn matches\n\t}, [mediaQueryLists])\n\n\tconst [value, setValue] = useState<boolean[]>(getValue)\n\n\tuseEffect(() => {\n\t\tconst handler = () => setValue(getValue)\n\t\tmediaQueryLists.forEach((mql) => mql.addListener(handler))\n\t\treturn () => mediaQueryLists.forEach((mql) => mql.removeListener(handler))\n\t}, [getValue, mediaQueryLists])\n\n\treturn value\n}\n\nconst breakpoints = {\n\tsm: '640px',\n\tmd: '768px',\n\tlg: '1024px',\n\txl: '1280px',\n\txxl: '1536px',\n}\n\ntype Breakpoint = 'sm' | 'md' | 'lg' | 'xl' | 'xxl'\n\ntype OnClickParams = { [x: string]: any }\n\nexport const isVisible =\n\t(visibilities: Array<Visibility | None>) =>\n\t<T,>(x: TableCol<T>) =>\n\t\tvisibilities.reduce<boolean>((pass, vis) => pass || x.visibility === vis, false)\n\ntype Visibility = 'copy-only' | 'screen-only' | 'all'\n\nexport interface TableCol<T> {\n\ttitle: ReactNode\n\tvalue: (x: T, i: number) => ReactNode\n\tcopyValue?: (x: T, i: number) => string\n\ttruncate?: boolean\n\twidth?: string\n\tclassName?: ClassValue\n\tresponsive?: Breakpoint\n\tonClick?: (x: string, y: OnClickParams) => void\n\tvisibility?: Visibility\n}\n\nexport interface TableSchema<T> {\n\tcols: (TableCol<T> | None)[]\n\tactions?: (x: T, i: number) => ActionType[] | None\n}\n\ninterface TableProps<T> {\n\tschema: TableSchema<T>\n\titems: T[]\n\tgetKey?: (x: T, i: number) => number | string\n\tisStriped?: boolean\n\tclassName?: ClassValue\n}\n\nconst Table = <T,>({ schema, items, getKey = (_, i) => i, isStriped = false, className }: TableProps<T>) => {\n\tconst [sm, md, lg, xl, xxl] = useMedia(Object.values(breakpoints).map((x) => `(min-width: ${x})`))\n\tconst mqs = { sm, md, lg, xl, xxl }\n\n\tconst cols = schema.cols\n\t\t.filter(isNotNone)\n\t\t.filter(isVisible([undefined, 'all', 'screen-only']))\n\t\t.filter((x) => {\n\t\t\tif (x.responsive) {\n\t\t\t\treturn mqs[x.responsive]\n\t\t\t}\n\n\t\t\treturn true\n\t\t})\n\n\tconst tmplCols = cols.map((x) => x.width || 'minmax(0, auto)').join(' ')\n\n\tconst actions = schema.actions\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<div\n\t\t\t\tclassName=\"grid border-t border-gray-200 dark:border-gray-600\"\n\t\t\t\tstyle={{\n\t\t\t\t\tgridTemplateColumns: isNotNone(actions) ? tmplCols.concat(' minmax(auto, max-content)') : tmplCols,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{cols.map((col, i) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t'px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300',\n\t\t\t\t\t\t\tcol.className\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{col.title}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{isNotNone(actions) && (\n\t\t\t\t\t<div className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap dark:border-gray-600 dark:bg-gray-750 dark:text-gray-300\"></div>\n\t\t\t\t)}\n\n\t\t\t\t{items.map((item, i) => (\n\t\t\t\t\t<div key={getKey(item, i)} className=\"contents group\">\n\t\t\t\t\t\t{cols.map((col, j) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'min-h-11 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600',\n\t\t\t\t\t\t\t\t\tj === 0 && 'font-medium',\n\t\t\t\t\t\t\t\t\t!col.truncate && 'px-6 py-4',\n\t\t\t\t\t\t\t\t\tisStriped && i % 2 && 'bg-gray-50 dark:bg-gray-750',\n\t\t\t\t\t\t\t\t\tcol.className\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{col.truncate ? (\n\t\t\t\t\t\t\t\t\t<Truncate title={onlyText(col.value(item, i))} className=\"px-6 py-4\">\n\t\t\t\t\t\t\t\t\t\t{col.value(item, i)}\n\t\t\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t\t\t) : col.value ? (\n\t\t\t\t\t\t\t\t\tcol.value(item, i)\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{actions?.length ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'px-6 whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 group-hover:text-gray-700 dark:group-hover:text-gray-100 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 group-hover:bg-primary-50 dark:group-hover:bg-gray-600',\n\t\t\t\t\t\t\t\t\tisStriped && i % 2 && 'bg-gray-50 dark:bg-gray-750'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Actions actions={actions(item, i)} className=\"flex-nowrap\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{items.length === 0 && (\n\t\t\t\t\t<div className=\"contents group\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\tcolSpan[cols.length + (actions?.length ? 1 : 0)],\n\t\t\t\t\t\t\t\t'px-6 py-3',\n\t\t\t\t\t\t\t\t'whitespace-nowrap text-sm leading-5 text-gray-500 dark:text-gray-300 flex items-center justify-center border-b border-gray-100 dark:border-gray-600 select-none'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNo items\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Table\n","import React, { ReactNode } from 'react'\nimport { AxiosError } from 'axios'\nimport { warning } from '../alerts'\nimport { WindowLocation } from '@reach/router'\nimport { isNotNone, None } from '@primer/types'\nimport { differenceInDays, format, formatRelative, parseISO, isSameDay } from 'date-fns'\nimport { holidays } from './constants'\nimport { env } from 'config'\nimport * as Sentry from '@sentry/react'\nimport { utcToZonedTime, format as formatTZ } from 'date-fns-tz'\nimport { TableSchema, isVisible } from '@primer/components/Table'\nimport { onlyText } from 'react-children-utilities'\n\nexport const nzDate = (x: Date) => utcToZonedTime(x, 'Pacific/Auckland')\nexport const isNZ = () => formatTZ(new Date(), 'zzzz').indexOf('New Zealand') > -1\n\ninterface ClassFixType {\n\tpattern: RegExp\n\tdefaultValue: string\n}\n\nexport const smartReplaceClasses = (className: string, fixes: ClassFixType[]) => {\n\tlet names = className.split(' ')\n\n\tfor (let i = 0; i < fixes.length; i++) {\n\t\tlet fix = fixes[i]\n\t\tif (!names.find((x) => fix.pattern.test(x))) names.push(fix.defaultValue)\n\t}\n\n\treturn names.join(' ')\n}\n\nexport const handleError = (error: AxiosError) => {\n\tlet message: ReactNode = null\n\n\tif (error?.response?.data.title) {\n\t\tmessage = <p>{error.response.data.title}</p>\n\t}\n\n\tif (error?.response?.data.errors) {\n\t\t// @ts-ignore\n\t\tmessage = Object.values(error.response.data.errors).map((x: string, i: number) => <p key={i}>{x}</p>)\n\t}\n\n\twarning({ title: 'An error occurred', message })\n}\n\nexport const enumToOption = (item: any) => {\n\treturn Object.keys(item)\n\t\t.filter((x) => isNaN(+x))\n\t\t.map((label) => ({ label, value: item[label] }))\n}\n\n// https://stackoverflow.com/questions/10420352/converting-file-size-in-bytes-to-human-readable-string\nexport const humanFileSize = (bytes: number, si = true) => {\n\tvar thresh = si ? 1000 : 1024\n\tif (Math.abs(bytes) < thresh) {\n\t\treturn bytes + ' B'\n\t}\n\tvar units = si\n\t\t? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\t\t: ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n\tvar u = -1\n\tdo {\n\t\tbytes /= thresh\n\t\t++u\n\t} while (Math.abs(bytes) >= thresh && u < units.length - 1)\n\treturn bytes.toFixed(1) + ' ' + units[u]\n}\n\nexport const getState = <T,>(location?: WindowLocation) => location?.state as T | null\n\nexport const queryString = (obj: Object) => {\n\treturn Object.entries(obj)\n\t\t.filter(([_, val]) => !!val)\n\t\t.map(([key, val]) => [key, encodeURIComponent(val)].join('='))\n\t\t.join('&')\n}\n\nexport const getDateFromTime = (time: string, rootDate?: Date) =>\n\tnew Date(`${rootDate ? format(rootDate, 'yyyy-MM-dd') : '1970-01-01'} ` + time)\n\nexport const blobUrl = (blob: Blob) => {\n\treturn window.URL.createObjectURL(blob)\n}\n\nexport const series = async <T,>(items: T[], fn: (x: T) => Promise<any>) => {\n\tlet output = []\n\n\tfor (let i = 0; i < items.length; i++) {\n\t\toutput.push(await fn(items[i]))\n\t}\n\n\treturn output\n}\n\nexport function isValidDate(d: Date) {\n\treturn !isNaN(d.valueOf())\n}\n\nexport const last = <T,>(arr: T[]): T => arr[arr.length - 1]\n\nexport const detectIE = () => {\n\tvar ua = window.navigator.userAgent\n\n\tvar msie = ua.indexOf('MSIE ')\n\tif (msie > 0) {\n\t\t// IE 10 or older => return version number\n\t\treturn parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10)\n\t}\n\n\tvar trident = ua.indexOf('Trident/')\n\tif (trident > 0) {\n\t\t// IE 11 => return version number\n\t\tvar rv = ua.indexOf('rv:')\n\t\treturn parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10)\n\t}\n\n\t// other browser\n\treturn false\n}\n\nconst errorIsStatus = (error: AxiosError, status: number) => {\n\treturn error.response && error.response.status === status\n}\n\nexport const getErrorMessage = (error: AxiosError) => {\n\tlet data = error ? (error.response ? error.response.data : null) : null\n\tlet message = []\n\n\tif (errorIsStatus(error, 404)) {\n\t\tmessage.push('Not found')\n\t}\n\n\tif (data) {\n\t\tif (data.title) {\n\t\t\tmessage.push(data.title)\n\t\t}\n\n\t\tif (data.errors instanceof Array) {\n\t\t\tmessage.push(data.errors[0].message.split(', ')[0])\n\t\t} else if (data.errors && typeof data.errors === 'object') {\n\t\t\tObject.values(data.errors).forEach((msg) => {\n\t\t\t\tmessage.push(msg)\n\t\t\t})\n\t\t}\n\t}\n\n\treturn message.join('\\n')\n}\n\nexport const reportError = (request: any, error: AxiosError) => {\n\tSentry.withScope((scope) => {\n\t\tscope.setExtra('request', request)\n\t\tif (error && error.response) {\n\t\t\tscope.setExtra('response', {\n\t\t\t\tdata: error.response.data,\n\t\t\t\tstatus: error.response.status,\n\t\t\t\tstatusText: error.response.statusText,\n\t\t\t\theaders: error.response.headers,\n\t\t\t})\n\t\t} else {\n\t\t\tscope.setExtra('error', error)\n\t\t}\n\n\t\tSentry.captureException(new Error('Request Failure'))\n\t})\n\n\tif (env === 'dev') {\n\t\tconsole.group('Captured Error')\n\t\tconsole.log('request', request)\n\t\tif (error && error.response) {\n\t\t\tconsole.log(\n\t\t\t\t'response',\n\t\t\t\tJSON.stringify(\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: error.response.data,\n\t\t\t\t\t\tstatus: error.response.status,\n\t\t\t\t\t\tstatusText: error.response.statusText,\n\t\t\t\t\t\theaders: error.response.headers,\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\t4\n\t\t\t\t)\n\t\t\t)\n\t\t} else {\n\t\t\tconsole.log('error', error)\n\t\t}\n\t\tconsole.groupEnd()\n\t}\n}\n\n// this thing is insane, type it later\nexport const includer = (data: any, map: any): any => {\n\tif (map instanceof Array) {\n\t\treturn data.reduce((res: any, val: any, i: any) => {\n\t\t\treturn map[i] ? [...res, includer(val, map[i])] : res\n\t\t}, [])\n\t} else if (typeof map === 'object') {\n\t\treturn Object.keys(map).reduce((res, key) => {\n\t\t\treturn map[key] ? { ...res, [key]: includer(data[key], map[key]) } : res\n\t\t}, {})\n\t} else if (typeof map === 'boolean') {\n\t\tif (map) return data\n\t}\n}\n\nexport const parseQueryCode = (str: string): { [x: string]: string } => {\n\treturn str\n\t\t.replace('?', '')\n\t\t.split('&')\n\t\t.reduce((a, x) => {\n\t\t\tlet [key, val] = x.split('=')\n\t\t\treturn { ...a, [key]: val }\n\t\t}, {})\n}\n\nexport const ensureDate = (val: string | Date | None): Date => (val instanceof Date ? val : new Date(val || ''))\n\nexport const split = (str: string) => {\n\treturn str.replace(/\\[/g, '.').replace(/\\]/g, '').split('.')\n}\n\nexport const getGSTfromIncl = (x: number) => (x * 3) / 23\n\nexport const createNumberedFileName = (filename: string) => {\n\tconst reg = /\\(([\\d]+)\\)$/\n\tconst match = filename.match(reg)\n\tif (!match) return `${filename} (2)`\n\treturn filename.replace(reg, `(${+match[1] + 1})`)\n}\n\nexport const fixedFormatRelative = (x: string) => {\n\tlet target = parseISO(x)\n\n\tlet diff = differenceInDays(new Date(), target)\n\n\tif (diff >= 6) {\n\t\treturn format(target, 'dd/MM/yyyy')\n\t} else {\n\t\treturn formatRelative(target, new Date())\n\t}\n}\n\nexport const getReservedDate = (d: Date) => {\n\treturn holidays.find((x) => isSameDay(x.date, d))?.name\n}\n\nexport const copyTabularData = async <T,>(schema: TableSchema<T>, items: T[]) => {\n\tconst rows: string[] = []\n\n\tconst cols = schema.cols.filter(isNotNone).filter(isVisible([undefined, 'all', 'copy-only']))\n\n\trows.push(cols.map((x) => onlyText(x.title)).join('\\t'))\n\n\titems.forEach((item) => {\n\t\trows.push(cols.map((x, i) => onlyText(!!x.copyValue ? x.copyValue(item, i) : x.value(item, i))).join('\\t'))\n\t})\n\n\t// it doesn't like clipboard-write as an option\n\t// @ts-ignore\n\tawait navigator.permissions.query({ name: 'clipboard-write' })\n\n\tnavigator.clipboard.writeText(rows.join('\\n'))\n}\n\nexport const ordinal = (i: number) => {\n\tvar j = i % 10,\n\t\tk = i % 100\n\tif (j === 1 && k !== 11) {\n\t\treturn i + 'st'\n\t}\n\tif (j === 2 && k !== 12) {\n\t\treturn i + 'nd'\n\t}\n\tif (j === 3 && k !== 13) {\n\t\treturn i + 'rd'\n\t}\n\treturn i + 'th'\n}\n\nexport const slugify = (name: string) => name.trim().replace(/\\s/g, '-').toLowerCase()\n","import React, { FC } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { smartReplaceClasses } from '@primer/utils/funcs'\n\ninterface IconProps {\n\tclassName?: ClassValue\n}\n\nconst fixClasses = (className = '') =>\n\tsmartReplaceClasses(className, [\n\t\t{ pattern: /^w-\\d+$/, defaultValue: 'w-5' },\n\t\t{ pattern: /^h-\\d+$/, defaultValue: 'h-5' },\n\t])\n\nexport const Spinner: FC<IconProps> = ({ className }) => (\n\t<svg className={fixClasses(clsx(className))} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n\t\t<circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n\t\t<path\n\t\t\tclassName=\"opacity-75\"\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FilePlus: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\tclassName={fixClasses(clsx(className))}\n\t\tfill=\"none\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tstrokeWidth=\"1\"\n\t\tstroke=\"currentColor\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path d=\"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n\t</svg>\n)\n\nexport const History: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\tclassName={fixClasses(clsx(className))}\n\t\tfill=\"currentColor\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 512 512\"\n\t>\n\t\t<g transform=\"scale(0.8)\" style={{ transformOrigin: 'center' }}>\n\t\t\t<path d=\"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z\" />\n\t\t</g>\n\t</svg>\n)\n\nexport const Undo: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 512 512\"\n\t>\n\t\t<g transform=\"scale(0.8)\" style={{ transformOrigin: 'center' }}>\n\t\t\t<path\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\td=\"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z\"\n\t\t\t/>\n\t\t</g>\n\t</svg>\n)\n\nexport const FilePdf: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileImage: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileWord: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileText: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileArchive: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileExcel: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z\"\n\t\t/>\n\t</svg>\n)\n\nexport const File: FC<IconProps> = ({ className }) => (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\tclassName={fixClasses(clsx(className))}\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 600 600\"\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z\"\n\t\t/>\n\t</svg>\n)\n\nexport const FileIcon: FC<IconProps & { type: string }> = ({ type, className }) =>\n\ttype === '.pdf' ? (\n\t\t<FilePdf className={className} />\n\t) : type === '.xlsx' ? (\n\t\t<FileExcel className={className} />\n\t) : type === '.docx' ? (\n\t\t<FileWord className={className} />\n\t) : type === '.jpg' || type === '.png' || type === '.gif' ? (\n\t\t<FileImage className={className} />\n\t) : type === '.zip' || type === '.7z' || type === '.rar' ? (\n\t\t<FileArchive className={className} />\n\t) : (\n\t\t<File className={className} />\n\t)\n","import React from 'react'\nimport { Spinner } from '@primer/components/Icon'\n\nconst Loader = ({ size = '3x', spin = true, className = '', ...props }) => {\n\treturn (\n\t\t<div className={`flex flex-col justify-center items-center p-2 ${className}`} {...props}>\n\t\t\t<Spinner className=\"w-10 h-10 animate-spin\" />\n\t\t</div>\n\t)\n}\nexport default Loader\n","import { useState } from 'react'\n\n// https://usehooks.com/useLocalStorage\n\nfunction useLocalStorage<T = any>(key: string, initialValue: T) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = window.localStorage.getItem(key)\n\t\t\treturn item ? JSON.parse(item) : initialValue\n\t\t} catch (error) {\n\t\t\treturn initialValue\n\t\t}\n\t})\n\n\tconst setValue = (value: T) => {\n\t\tconst valueToStore = value instanceof Function ? value(storedValue) : value\n\t\tsetStoredValue(valueToStore)\n\t\twindow.localStorage.setItem(key, JSON.stringify(valueToStore))\n\t}\n\n\treturn [storedValue, setValue]\n}\n\nexport default useLocalStorage\n","import React, { FC, ReactNode, useRef, useState } from 'react'\nimport { motion, AnimatePresence, MotionStyle } from 'framer-motion'\nimport clsx from 'clsx'\n\ninterface TooltipProps {\n\tmessage: ReactNode\n\tenabled?: boolean\n\tintent?: 'light' | 'dark'\n\tchildren: ReactNode\n}\n\nconst Tooltip: FC<TooltipProps> = ({ message, enabled = true, intent = 'light', children }) => {\n\tlet ref = useRef<HTMLDivElement>(null)\n\tconst [hover, setHover] = useState(false)\n\tconst [X, setX] = useState(0)\n\tconst [Y, setY] = useState(0)\n\n\tconst show = () => {\n\t\tif (!ref.current) return null\n\t\tif (!enabled) return null\n\n\t\tsetX(ref.current.offsetLeft + ref.current.offsetWidth)\n\t\tsetY(ref.current.offsetTop)\n\t\tsetHover(true)\n\t}\n\n\tconst hide = () => {\n\t\tsetHover(false)\n\t}\n\n\treturn (\n\t\t<div ref={ref} onMouseOver={show} onMouseOut={hide}>\n\t\t\t<div>{children}</div>\n\n\t\t\t<div\n\t\t\t\tclassName=\"flex items-center absolute z-10 ml-6 w-80 pointer-events-none\"\n\t\t\t\tstyle={{\n\t\t\t\t\tleft: `${X}px`,\n\t\t\t\t\ttop: `${Y}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<AnimatePresence>\n\t\t\t\t\t{hover && (\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tstyle={{ originX: 0 } as MotionStyle}\n\t\t\t\t\t\t\tvariants={{\n\t\t\t\t\t\t\t\thidden: { opacity: 0, x: -30 },\n\t\t\t\t\t\t\t\tvisible: { opacity: 1, x: 0 },\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\tduration: 0.1,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx('rounded px-3 py-2 text-sm font-medium shadow-lg', {\n\t\t\t\t\t\t\t\t\t'bg-white text-gray-900 dark:bg-primary-900 dark:text-white': intent === 'light',\n\t\t\t\t\t\t\t\t\t'bg-primary-900 text-white dark:bg-primary-200 dark:text-primary-900 antialiased':\n\t\t\t\t\t\t\t\t\t\tintent === 'dark',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t)}\n\t\t\t\t</AnimatePresence>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Tooltip\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { Link, LinkGetProps, useLocation } from '@reach/router'\nimport useLocalStorage from '@primer/hooks/useLocalStorage'\nimport { RouteConfig, isLinkRouteConfig, isAnchorRouteConfig, isNotNone } from '@primer/types'\nimport { ExternalLinkIcon } from '@heroicons/react/outline'\nimport Tooltip from '@primer/components/Tooltip'\n\ntype IntentValue = 'primary' | 'secondary' | 'white'\n\nconst intents = {\n\tprimary: {\n\t\twrapper: 'bg-gray-800 dark:bg-gray-900 antialiased',\n\t\tlink: {\n\t\t\tactive: 'text-white bg-gradient-to-r from-primary-600 to-primary-500 text-white dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800',\n\t\t\tinactive:\n\t\t\t\t'text-gray-200 hover:text-white hover:bg-gray-700 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800',\n\t\t},\n\t},\n\tsecondary: {\n\t\twrapper: 'bg-white dark:bg-gray-700 antialiased shadow',\n\t\tlink: {\n\t\t\tactive: 'text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800',\n\t\t\tinactive:\n\t\t\t\t'text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100',\n\t\t},\n\t},\n\twhite: {\n\t\twrapper: 'bg-white antialiased shadow',\n\t\tlink: {\n\t\t\tactive: 'text-gray-900 bg-gray-50 focus:bg-gray-200',\n\t\t\tinactive: 'text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100',\n\t\t},\n\t},\n}\n\nconst getProps =\n\t(route: RouteConfig, min: boolean, intent: IntentValue) =>\n\t({ isCurrent, isPartiallyCurrent }: LinkGetProps) => {\n\t\treturn (route.exact ? isCurrent : isPartiallyCurrent)\n\t\t\t? {\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150',\n\t\t\t\t\t\tmin && 'justify-center',\n\t\t\t\t\t\tintents[intent].link.active\n\t\t\t\t\t),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'group flex items-center py-2 px-2.5 text-sm font-medium leading-5 rounded focus:outline-none transition ease-in-out duration-150',\n\t\t\t\t\t\tmin && 'justify-center',\n\t\t\t\t\t\tintents[intent].link.inactive\n\t\t\t\t\t),\n\t\t\t  }\n\t}\n\nconst MenuLink = ({\n\troute,\n\tmin,\n\tintent,\n\tchildren,\n}: {\n\troute: RouteConfig\n\tmin: boolean\n\tintent: IntentValue\n\tchildren: ReactNode\n}) => {\n\treturn isAnchorRouteConfig(route) ? (\n\t\t<a\n\t\t\thref={route.url}\n\t\t\tclassName={clsx(\n\t\t\t\t'group flex items-center justify-center py-2 px-2.5 text-sm leading-5 rounded focus:outline-none transition ease-in-out duration-150',\n\t\t\t\tintents[intent].link.inactive,\n\t\t\t\tmin && 'justify-center'\n\t\t\t)}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t<div className=\"flex items-center justify-center\">{children}</div>\n\t\t\t{!min && (\n\t\t\t\t<div className=\"flex-1 flex justify-end\">\n\t\t\t\t\t<ExternalLinkIcon className=\"opacity-25 w-4 h-4\" />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</a>\n\t) : isLinkRouteConfig(route) ? (\n\t\t<Link to={`${process.env.PUBLIC_URL}${route.to}`} getProps={getProps(route, min, intent)}>\n\t\t\t{children}\n\t\t</Link>\n\t) : null\n}\n\ninterface SidebarProps {\n\theader?: (min: boolean) => ReactNode\n\tfooter?: (min: boolean) => ReactNode\n\tlinks: RouteConfig[]\n\tintent: IntentValue\n\tname: string\n\tclassName?: ClassValue\n}\n\nconst Sidebar: FC<SidebarProps> = ({ header, footer, links, intent, name, className }) => {\n\tconst [min, setMin] = useLocalStorage(`sidebar-${name}-min`, false)\n\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\t'flex flex-col h-screen relative',\n\t\t\t\tmin ? 'w-16' : 'w-64',\n\t\t\t\tintents[intent].wrapper,\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={clsx('absolute right-0 top-0 h-full -mr-2 w-4 z-40 group', {\n\t\t\t\t\t'cursor-right': min,\n\t\t\t\t\t'cursor-left': !min,\n\t\t\t\t})}\n\t\t\t\tonClick={() => setMin((x: boolean) => !x)}\n\t\t\t>\n\t\t\t\t<div className=\"group-hover:opacity-100 opacity-0 transition-opacity ease-in-out duration-200 w-1 h-full ml-1.5 bg-primary-600\" />\n\t\t\t</div>\n\n\t\t\t<div className=\"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto overflow-x-visible\">\n\t\t\t\t{header && header(min)}\n\n\t\t\t\t<nav className=\"mt-5 flex-1 px-3 space-y-1\">\n\t\t\t\t\t{links.filter(isNotNone).map((link, i) => (\n\t\t\t\t\t\t<NavLink key={i} link={link} intent={intent} min={min} />\n\t\t\t\t\t))}\n\t\t\t\t</nav>\n\t\t\t</div>\n\n\t\t\t{footer && footer(min)}\n\t\t</div>\n\t)\n}\n\ninterface NavLinkProps {\n\tlink: RouteConfig\n\tmin: boolean\n\tintent: IntentValue\n}\n\nconst NavLink: FC<NavLinkProps> = ({ link, min, intent }) => {\n\tconst loc = useLocation()\n\n\tconst matches = isLinkRouteConfig(link) ? loc.pathname.indexOf(link.to) === 0 : false\n\n\treturn (\n\t\t<div>\n\t\t\t{link && (\n\t\t\t\t<Tooltip message={link.tooltip || link.title} enabled={min}>\n\t\t\t\t\t<MenuLink route={link} min={min} intent={intent}>\n\t\t\t\t\t\t<div className={clsx('opacity-75 pointer-events-none', min ? 'mr-0' : 'mr-3')}>{link.icon}</div>\n\t\t\t\t\t\t{!min && link.title}\n\t\t\t\t\t</MenuLink>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t\t{matches && link.children && link.children.length > 0 && (\n\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t<div className=\"p-1 rounded-md space-y-1 border-2 border-gray-700\">\n\t\t\t\t\t\t{link.children\n\t\t\t\t\t\t\t.filter((x) => x)\n\t\t\t\t\t\t\t.map((link, i) => (\n\t\t\t\t\t\t\t\t<NavLink key={i} link={link} intent={intent} min={min} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Sidebar\n","import { useEffect, useState } from 'react'\n\ntype MediaChange = (this: MediaQueryList, ev: MediaQueryListEvent) => any\n\nconst changeDarkMode = (x: boolean) => document.querySelector('html')?.classList[x ? 'add' : 'remove']('dark')\n\nconst useDarkMode = (): [boolean | null, (x: boolean | null) => void] => {\n\t// const [value, setDarkMode] = useStore((store) => [store.darkMode, store.setDarkMode])\n\tconst [value, setDarkMode] = useState<boolean | null>(false)\n\tconst matchesMedia = window.matchMedia('(prefers-color-scheme: dark)')\n\n\tuseEffect(() => {\n\t\tif (value !== null) {\n\t\t\tchangeDarkMode(value)\n\t\t} else {\n\t\t\tconst func: MediaChange = (e) => changeDarkMode(e.matches)\n\t\t\tchangeDarkMode(matchesMedia.matches)\n\n\t\t\tif (matchesMedia.hasOwnProperty('addEventListener')) {\n\t\t\t\tmatchesMedia.addEventListener('change', func)\n\t\t\t\treturn () => matchesMedia.removeEventListener('change', func)\n\t\t\t}\n\t\t}\n\t}, [value, matchesMedia])\n\n\treturn [value, setDarkMode]\n}\n\nexport default useDarkMode\n","import React, { FC } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { ChevronDownIcon, CheckIcon, ChevronLeftIcon, LogoutIcon } from '@heroicons/react/outline'\nimport Actions from '@primer/components/Actions'\nimport useDarkMode from '@primer/hooks/useDarkMode'\n// import { useLocation } from '@reach/router'\n\ninterface TopbarProps {\n\tintent?: 'light' | 'dark'\n\tclassName?: ClassValue\n}\n\nconst Topbar: FC<TopbarProps> = ({ intent = 'light', className }) => {\n\tconst profile = {}\n\n\tconst logout = async () => {\n\t\t// store.getState().logout()\n\t}\n\n\tconst [darkMode, setDarkMode] = useDarkMode()\n\n\t// const location = useLocation()\n\t// const state = location?.state as { term?: string } | null\n\t// const [search, setSearch] = useState(state?.term || '')\n\t// const timer = useRef<NodeJS.Timeout | undefined>()\n\n\t// useEffect(() => {\n\t// \tsetSearch(state?.term || '')\n\t// }, [state?.term])\n\n\treturn (\n\t\t<div className={clsx('max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-end', className)}>\n\t\t\t{profile && (\n\t\t\t\t<div className=\"flex items-center space-x-2\">\n\t\t\t\t\t<Actions\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: (\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-4\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t'text-sm font-medium',\n\t\t\t\t\t\t\t\t\t\t\t\tintent === 'dark' && 'text-gray-200 antialiased'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tYour Name\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t<ChevronDownIcon\n\t\t\t\t\t\t\t\t\t\tclassName={clsx('w-5 h-5 opacity-75', intent === 'dark' && 'text-white')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ticonSide: 'right',\n\t\t\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\t\t\t\tsize: 'xs',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Colour Scheme',\n\t\t\t\t\t\t\t\t\t\t\ticon: <ChevronLeftIcon className=\"w-4 h-4\" />,\n\t\t\t\t\t\t\t\t\t\t\ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t\tplacement: 'left-start',\n\t\t\t\t\t\t\t\t\t\t\thoverable: true,\n\t\t\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Dark Mode',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'w-4 h-4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdarkMode === true ? 'opacity-100' : 'opacity-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => setDarkMode(true),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Light Mode',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'w-4 h-4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdarkMode === false ? 'opacity-100' : 'opacity-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => setDarkMode(false),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'System Preference',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'w-4 h-4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdarkMode === null ? 'opacity-100' : 'opacity-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => setDarkMode(null),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \ttitle: 'Manage Devices',\n\t\t\t\t\t\t\t\t\t\t// \ticon: <DeviceMobileIcon className=\"w-4 h-4\" />,\n\t\t\t\t\t\t\t\t\t\t// \ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t// \tto: '/devices',\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t],\n\n\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Logout',\n\t\t\t\t\t\t\t\t\t\t\ticon: <LogoutIcon className=\"w-4 h-4\" />,\n\t\t\t\t\t\t\t\t\t\t\ticonSide: 'left',\n\t\t\t\t\t\t\t\t\t\t\tonClick: logout,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Topbar\n","import React, { FC, useState } from 'react'\nimport clsx from 'clsx'\nimport { Link } from '@reach/router'\nimport logo from 'assets/img/ICRA_WhiteRev.png'\nimport { RouteConfig, isLinkRouteConfig, isAnchorRouteConfig, isNotNone } from '@primer/types'\nimport AutoHeight from '@primer/components/AutoHeight'\nimport Topbar from '@primer/components/Topbar'\n\ninterface MobileMenuProps {\n\tlinks: RouteConfig[]\n\twithTopbar?: boolean\n}\n\nconst MobileMenu: FC<MobileMenuProps> = ({ links, withTopbar = false }) => {\n\tconst [open, setOpen] = useState(false)\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"md:hidden bg-gray-800 dark:bg-gray-900 flex justify-between p-4\">\n\t\t\t\t<Link to=\"/dashboard\">\n\t\t\t\t\t<img src={logo} alt=\"ICRA\" className=\"h-10\" />\n\t\t\t\t</Link>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white\"\n\t\t\t\t\tonClick={() => setOpen((x) => !x)}\n\t\t\t\t>\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName={clsx('h-6 w-6', { block: !open, hidden: open })}\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h16\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName={clsx('h-6 w-6', { block: open, hidden: !open })}\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div className={clsx('md:hidden bg-gray-800 dark:bg-gray-900 antialiased')}>\n\t\t\t\t<AutoHeight show={open}>\n\t\t\t\t\t<div className=\"px-2 pt-2 pb-3 sm:px-3\">\n\t\t\t\t\t\t{links.filter(isNotNone).map((link, i) =>\n\t\t\t\t\t\t\tisLinkRouteConfig(link) ? (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tto={link.to}\n\t\t\t\t\t\t\t\t\tgetProps={({ isCurrent }) => ({\n\t\t\t\t\t\t\t\t\t\tclassName: clsx({\n\t\t\t\t\t\t\t\t\t\t\t'flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700':\n\t\t\t\t\t\t\t\t\t\t\t\t!isCurrent,\n\t\t\t\t\t\t\t\t\t\t\t'flex items-center px-3 py-2 rounded-md text-base font-medium text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700':\n\t\t\t\t\t\t\t\t\t\t\t\tisCurrent,\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"mr-3\">{link.icon}</div>\n\t\t\t\t\t\t\t\t\t{link.title}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t) : isAnchorRouteConfig(link) ? (\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\thref={link.url}\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"mr-3\">{link.icon}</div>\n\t\t\t\t\t\t\t\t\t{link.title}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{withTopbar && <Topbar intent=\"dark\" />}\n\t\t\t\t\t</div>\n\t\t\t\t</AutoHeight>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default MobileMenu\n","export default \"data:image/png;base64,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\"","import React, { FC, Component } from 'react'\nimport { Location, WindowLocation } from '@reach/router'\n\ninterface OnRouteChangeProps {\n\taction: () => void\n}\n\nconst OnRouteChange: FC<OnRouteChangeProps> = ({ action }) => (\n\t<Location>\n\t\t{({ location }: { location: WindowLocation }) => <OnRouteChangeWorker location={location} action={action} />}\n\t</Location>\n)\n\ninterface OnRouteChangeWorkerProps {\n\tlocation: WindowLocation\n\taction: () => void\n}\n\nclass OnRouteChangeWorker extends Component<OnRouteChangeWorkerProps, {}> {\n\tcomponentDidUpdate(prevProps: OnRouteChangeWorkerProps) {\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\n\t\t\tthis.props.action()\n\t\t}\n\t}\n\n\trender() {\n\t\treturn null\n\t}\n}\n\nexport default OnRouteChange\n","interface Version {\n\tnumber: string\n\tdate: string\n\tnew: string[]\n\tchange: string[]\n\tbug: string[]\n}\n\nconst versions: Version[] = [\n\t{\n\t\tnumber: '0.0.0',\n\t\tdate: '2021-07-29',\n\t\tnew: ['Everything is new'],\n\t\tchange: [],\n\t\tbug: []\n\t},\n\t\n]\n\nexport default versions\n","import React, { FC, Suspense, useMemo, useRef } from 'react'\nimport clsx from 'clsx'\nimport { RouteComponentProps, Link } from '@reach/router'\nimport logo from 'assets/img/workflow-logo-white-text.svg'\nimport smallLogo from 'assets/img/workflow-logo.svg'\nimport Loader from '@primer/components/Loader'\nimport Sidebar from '@primer/components/Sidebar'\nimport MobileMenu from '@primer/components/MobileMenu'\nimport { CogIcon, PhoneIcon, ScaleIcon, UserGroupIcon, ViewGridIcon } from '@heroicons/react/outline'\nimport Topbar from '@primer/components/Topbar'\nimport OnRouteChange from '@primer/components/OnRouteChange'\nimport versions from '@primer/utils/versions'\nimport semver from 'semver'\nimport { site } from 'config'\n\nconst PageSidebar: FC<RouteComponentProps> = ({ children }) => {\n\tconst releases = versions.sort((a, b) => (semver.gt(a.number, b.number) ? -1 : 1))\n\n\tconst ref = useRef<HTMLDivElement>(null)\n\n\tconst links = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\ttitle: 'Home',\n\t\t\t\tto: '/home',\n\t\t\t\ticon: <ViewGridIcon className=\"w-5 h-5\" />,\n\t\t\t\texact: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Cases',\n\t\t\t\tto: '/cases',\n\t\t\t\ticon: <ScaleIcon className=\"w-5 h-5\" />,\n\t\t\t\texact: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Events',\n\t\t\t\tto: '/events',\n\t\t\t\ticon: <PhoneIcon className=\"w-5 h-5\" />,\n\t\t\t\texact: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Users',\n\t\t\t\tto: '/users',\n\t\t\t\ticon: <UserGroupIcon className=\"w-5 h-5\" />,\n\t\t\t\texact: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Settings',\n\t\t\t\tto: '/settings',\n\t\t\t\ticon: <CogIcon className=\"w-5 h-5\" />,\n\t\t\t\texact: false,\n\t\t\t},\n\t\t],\n\t\t[]\n\t)\n\n\treturn (\n\t\t<div className=\"h-screen flex flex-col md:flex-row md:overflow-hidden bg-gray-200 dark:bg-gray-800\">\n\t\t\t<MobileMenu links={links} />\n\t\t\t<Sidebar\n\t\t\t\tname=\"main\"\n\t\t\t\tintent=\"primary\"\n\t\t\t\tlinks={links}\n\t\t\t\tclassName=\"hidden md:flex\"\n\t\t\t\theader={(min) => (\n\t\t\t\t\t<div className={clsx('flex items-center', min ? 'justify-center' : 'pl-5')}>\n\t\t\t\t\t\t<Link to={`${process.env.PUBLIC_URL}/dashboard`}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={min ? smallLogo : logo}\n\t\t\t\t\t\t\t\talt=\"ICRA\"\n\t\t\t\t\t\t\t\tclassName={clsx('my-5 h-12', min ? 'ml-2' : '')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\tfooter={(min) => (\n\t\t\t\t\t<div className={clsx('flex justify-between items-center', min ? 'flex-col space-y-2' : 'p-4')}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'text-gray-400 text-sm font-medium cursor-default',\n\t\t\t\t\t\t\t\tmin ? 'text-center' : ''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!min ? `Version: ${releases[0].number}` : `v${releases[0].number}`}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{site === 'livetest' ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'py-0.5 -my-0.5 font-medium text-sm leading-6 text-red-300 bg-red-400 dark:bg-red-500 bg-opacity-25 dark:bg-opacity-25',\n\t\t\t\t\t\t\t\t\tmin ? 'w-full text-center' : 'px-2.5 rounded-full'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLiveTest\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : site === 'demo' ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25',\n\t\t\t\t\t\t\t\t\tmin ? 'w-full text-center' : 'px-2.5 rounded-full'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDemo\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : site === 'staging' ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'py-0.5 -my-0.5 font-medium text-sm leading-6 text-green-300 bg-green-400 dark:bg-green-500 bg-opacity-25 dark:bg-opacity-25',\n\t\t\t\t\t\t\t\t\tmin ? 'w-full text-center' : 'px-2.5 rounded-full'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tStaging\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : site === 'dev' ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'py-0.5 -my-0.5 font-medium text-sm leading-6 text-indigo-300 bg-indigo-400 dark:bg-indigo-500 bg-opacity-25 dark:bg-opacity-25',\n\t\t\t\t\t\t\t\t\tmin ? 'w-full text-center' : 'px-2.5 rounded-full'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDev\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\n\t\t\t<div className=\"flex flex-col flex-1 md:w-0 md:overflow-hidden\">\n\t\t\t\t<main className=\"flex-1 relative z-0 md:overflow-y-auto focus:outline-none\" ref={ref}>\n\t\t\t\t\t<div className=\"max-w-7xl mx-auto\">\n\t\t\t\t\t\t<div className=\"border-b border-gray-300 dark:border-gray-700\">\n\t\t\t\t\t\t\t<Topbar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Suspense\n\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t<div className=\"flex justify-center items-center h-screen\">\n\t\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"relative z-10\">{children}</div>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</main>\n\t\t\t</div>\n\n\t\t\t<OnRouteChange\n\t\t\t\taction={() => {\n\t\t\t\t\tif (ref?.current?.scrollTo) ref.current.scrollTo(0, 0)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default PageSidebar\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface CardProps {\n\tclassName?: ClassValue\n\theader?: ReactNode\n\tfooter?: ReactNode\n\tchildren?: ReactNode\n}\n\nconst Card: FC<CardProps> = ({ className, header, footer, children }) => (\n\t<CardWrapper className={clsx(className)}>\n\t\t{header}\n\t\t{children && <CardContent>{children}</CardContent>}\n\t\t{footer && <CardFooter>{footer}</CardFooter>}\n\t</CardWrapper>\n)\n\nexport const CardWrapper: FC<{ children: ReactNode; className?: ClassValue }> = ({ className, children }) => (\n\t<div className={clsx('bg-white dark:bg-gray-700 shadow rounded-none sm:rounded-md', className)}>{children}</div>\n)\n\nexport const CardContent: FC<{ children: ReactNode; className?: ClassValue }> = ({ className, children }) => (\n\t<div className={clsx('px-4 py-5 sm:p-6', className)}>{children}</div>\n)\n\nexport const CardFooter: FC<{ children: ReactNode; className?: ClassValue }> = ({ className, children }) => (\n\t<div className={clsx('bg-gray-50 dark:bg-gray-750 sm:rounded-b-md px-4 py-4 sm:px-6', className)}>{children}</div>\n)\n\nexport default Card\n","import React, { FC } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface ButtonSpacerProps {\n\tclassName?: ClassValue\n}\n\nconst ButtonSpacer: FC<ButtonSpacerProps> = ({ className }) => (\n\t<div className={clsx('px-4 py-2 text-sm opacity-0 leading-5 pointer-events-none', className)}>&nbsp;</div>\n)\n\nexport default ButtonSpacer\n","import React, { FC, ReactNode, useEffect } from 'react'\nimport Actions from '@primer/components/Actions'\nimport ButtonSpacer from '@primer/components/ButtonSpacer'\nimport { ActionType, isNotNone, None } from '@primer/types'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface PageInfo {\n\ttitle: ReactNode\n\ticon?: ReactNode\n}\n\ntype PageInfoType = PageInfo | None\n\ninterface PageHeadingProps {\n\ttitle?: ReactNode\n\tpageTitle?: string\n\tactions?: ActionType[]\n\tinfoList?: PageInfoType[]\n\tclassName?: ClassValue\n}\n\nconst PageHeading: FC<PageHeadingProps> = ({ title = '', pageTitle, actions = [], infoList, className }) => {\n\tuseEffect(() => {\n\t\tconst value = pageTitle || title\n\t\tdocument.title = `${value} - ICRA`\n\t}, [title, pageTitle])\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<div className=\"pt-3 lg:pt-6 antialiased\">\n\t\t\t\t<div className=\"max-w-7xl mx-auto px-4 mb-8 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"md:flex md:items-start md:justify-between flex-wrap\">\n\t\t\t\t\t\t<div className=\"mr-4 my-3 flex-1 mb-6 md:mb-0\">\n\t\t\t\t\t\t\t<h2 className=\"flex items-center text-2xl leading-8 font-bold text-gray-900 dark:text-white sm:text-3xl sm:leading-9 whitespace-nowrap\">\n\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t{infoList && (\n\t\t\t\t\t\t\t\t<div className=\"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap\">\n\t\t\t\t\t\t\t\t\t{infoList.filter(isNotNone).map((info, i) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center text-sm leading-5 text-gray-600 dark:text-gray-300 sm:mr-6\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{info.icon && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0 mr-1.5 text-gray-500 dark:text-gray-200\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{info.icon}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{info.title}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{actions.filter(isNotNone).length > 0 ? (\n\t\t\t\t\t\t\t<div className=\"my-3 flex\">\n\t\t\t\t\t\t\t\t<Actions actions={actions} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"my-3 hidden md:block\">\n\t\t\t\t\t\t\t\t<ButtonSpacer />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default PageHeading\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { smartReplaceClasses } from '@primer/utils/funcs'\n\nconst fixClasses = (className = '') =>\n\tsmartReplaceClasses(className, [{ pattern: /^max-w-\\dxl$/, defaultValue: 'max-w-7xl' }])\n\ninterface PageContentProps {\n\tclassName?: ClassValue\n\twidth?: number\n\tchildren: ReactNode\n}\n\nconst PageContent: FC<PageContentProps> = ({ className, children }) => {\n\treturn <div className={fixClasses(clsx('w-full mx-auto pb-8 sm:px-6 lg:px-8', className))}>{children}</div>\n}\n\nexport default PageContent\n","import {\n\tEntityTypeModel,\n\tMetaTypeModel,\n\tEntityActionModel,\n\tEntityConnectionModel,\n\tUnsaved,\n\tisUnsaved,\n\tNotificationModel,\n\tTemplateModel,\n} from 'types/models'\nimport { v4 as uuid } from 'uuid'\n\ninterface Storage {\n\tentityTypes: EntityTypeModel[]\n\tmetaTypes: MetaTypeModel[]\n\tentityActions: EntityActionModel[]\n\tentityConnections: EntityConnectionModel[]\n\tnotifications: NotificationModel[]\n\ttemplates: TemplateModel[]\n}\n\nconst storage: Storage = {\n\tentityTypes: [],\n\tmetaTypes: [],\n\tentityActions: [],\n\tentityConnections: [],\n\tnotifications: [],\n\ttemplates: [],\n}\n\nexport const renderContainer = {\n\tcurrent: () => {},\n}\n\nconst dataActions = <T extends Storage[K][0], K extends keyof Storage>(prop: K) => ({\n\tall: (filter?: (x: T) => boolean): T[] => {\n\t\tif (filter && storage[prop]) return Array.prototype.filter.call(storage[prop], filter)\n\t\t// @ts-ignore\n\t\treturn storage[prop] || []\n\t},\n\tfind: (id?: string | ((x: T) => boolean)): T | undefined => {\n\t\treturn Array.prototype.find.call(storage[prop], typeof id === 'function' ? id : (x) => x.id === id)\n\t},\n\tsave: (data: T | Unsaved<T>) => {\n\t\tif (isUnsaved<T>(data)) {\n\t\t\tlet x = {\n\t\t\t\tid: uuid(),\n\t\t\t\t...data,\n\t\t\t}\n\t\t\tArray.prototype.push.call(storage[prop], x)\n\t\t\tpersist()\n\t\t\treturn x\n\t\t} else {\n\t\t\tlet added = false\n\n\t\t\t// @ts-ignore\n\t\t\tstorage[prop] = storage[prop].map((x) => {\n\t\t\t\t// @ts-ignore\n\t\t\t\tif (x.id === data.id) {\n\t\t\t\t\tadded = true\n\t\t\t\t\treturn data\n\t\t\t\t}\n\t\t\t\treturn x\n\t\t\t})\n\n\t\t\tif (!added) Array.prototype.push.call(storage[prop], data)\n\n\t\t\tpersist()\n\t\t\treturn data\n\t\t}\n\t},\n\tremove: (id: string) => {\n\t\t// @ts-ignore\n\t\tstorage[prop] = storage[prop].filter((x) => x.id !== id)\n\t\tpersist()\n\t\trenderContainer.current()\n\t},\n})\n\nconst data = {\n\tentityTypes: dataActions('entityTypes'),\n\tmetaTypes: dataActions('metaTypes'),\n\tentityActions: dataActions('entityActions'),\n\tentityConnections: dataActions('entityConnections'),\n\tnotifications: dataActions('notifications'),\n\ttemplates: dataActions('templates'),\n}\n\nexport const persist = () => localStorage.setItem('data', JSON.stringify(storage))\n\nexport const restore = () => {\n\tconst data = JSON.parse(localStorage.getItem('data') || 'null')\n\n\tif (data) {\n\t\tstorage.entityTypes = data.entityTypes\n\t\tstorage.metaTypes = data.metaTypes\n\t\tstorage.entityActions = data.entityActions\n\t\tstorage.entityConnections = data.entityConnections\n\t\tstorage.notifications = data.notifications\n\t\tstorage.templates = data.templates\n\t}\n}\n\nexport const clear = () => {\n\tlocalStorage.removeItem('data')\n\n\tstorage.entityTypes = []\n\tstorage.metaTypes = []\n\tstorage.entityActions = []\n\tstorage.entityConnections = []\n\tstorage.notifications = []\n\tstorage.templates = []\n}\n\nrestore()\n\nexport default data\n","export type Unsaved<T> = Omit<T, 'id'>\n\nexport const isUnsaved = <T>(x: any): x is Unsaved<T> => typeof x === 'object' && typeof x.id === 'undefined'\nexport const isSaved = <T>(x: any): x is Unsaved<T> => typeof x === 'object' && typeof x.id === 'string'\n\nexport interface Model {\n\tid: string\n}\n\nexport interface UserModel extends Model {\n\tfirstName: string\n\tlastName: string\n\tfullName: string\n}\n\nexport interface RoleModel extends Model {\n\tname: string\n}\n\nexport interface EntityTypeModel extends Model {\n\tkey: string\n\tname: string\n\tplural?: string\n}\n\nexport interface EntityModel extends Model {\n\tentityTypeId: string\n}\n\nexport type MetaType = 'string' | 'number' | 'date' | 'boolean' | 'option' | 'entityType' | 'entity'\n\nexport interface MetaTypeModel extends Model {\n\tentityTypeId: string\n\tkey: string\n\tname: string\n\tplural?: string\n\ttemplate?: string\n\ttype: MetaType\n\toptions: string[]\n\tdefaultValue?: string\n}\n\nexport interface MetaModel extends Model {\n\tmetaTypeId: string\n\tentityId: string\n\tvalue: any\n}\n\nexport interface EntityActionModel extends Model {\n\tentityTypeId: string\n\tkey: string\n\tname: string\n\tchanges?: EntityActionChangeModel[]\n}\n\nexport interface EntityActionChangeModel extends Model {\n\tentityActionId: string\n\tmetaTypeId: string\n\tuserDefined: boolean\n}\n\nexport type ConnectionType = 'one-to-one' | 'one-to-many' | 'many-to-many'\n\nexport interface EntityConnectionModel extends Model {\n\tkey: string\n\tname: string\n\tentityTypeId: string\n\trelationId: string\n\ttype: ConnectionType\n}\n\nexport interface NotificationModel extends Model {\n\tname: string\n\tfocus: string\n\tenabled: boolean\n\tenabledDate?: Date\n\ttriggerType: string\n\ttriggerRepeat: number\n\ttriggerEvery: string\n\ttriggerYearIn: string\n\ttriggerMonthOn: string\n\ttriggerWeekOn: string\n\ttriggerDayAt: string\n\ttriggerAction: string\n\tobeyTriggerTiming: boolean\n\ttriggerTimingType: string\n\ttriggerTiming: string\n\ttriggerDate: string\n\tsubject: string\n\tcontent: string\n\truleGroups: NotificationRuleGroup[]\n}\n\nexport interface NotificationRuleGroup {\n\trules: NotificationRule[]\n}\n\nexport interface NotificationRule {\n\tentity: string\n\tfield: string\n\toperator: string\n\tvalue: string\n}\n\nexport interface TemplateModel {\n\tid: string\n\tname: string\n\tcontent: string\n}\n","import { EntityActionModel, EntityTypeModel, MetaTypeModel } from 'types/models'\nimport { v4 as id } from 'uuid'\nimport data, { clear, persist } from './index'\n\nexport const seed = () => {\n\tclear()\n\tpersist()\n\n\t// ENTITY TYPES\n\n\tconst userEntityType: EntityTypeModel = {\n\t\tid: id(),\n\t\tkey: 'user',\n\t\tname: 'User',\n\t\tplural: 'Users',\n\t}\n\n\tconst caseEntityType: EntityTypeModel = {\n\t\tid: id(),\n\t\tkey: 'case',\n\t\tname: 'Case',\n\t\tplural: 'Cases',\n\t}\n\n\tconst eventEntityType: EntityTypeModel = {\n\t\tid: id(),\n\t\tkey: 'event',\n\t\tname: 'Event',\n\t\tplural: 'Events',\n\t}\n\n\tdata.entityTypes.save(userEntityType)\n\tdata.entityTypes.save(caseEntityType)\n\tdata.entityTypes.save(eventEntityType)\n\n\t// META TYPES\n\n\t// CASE\n\n\tconst caseMetaTypes: MetaTypeModel[] = [\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'case-number',\n\t\t\tname: 'Case Number',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'type',\n\t\t\tname: 'Type',\n\t\t\ttype: 'option',\n\t\t\toptions: ['Review', 'Mediation', 'Hybrid'],\n\t\t\tdefaultValue: 'Review',\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'claim-number',\n\t\t\tname: 'Claim Number',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'complexity',\n\t\t\tname: 'Complexity',\n\t\t\ttype: 'option',\n\t\t\toptions: ['Standard', 'Complex'],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'closed-date',\n\t\t\tname: 'Closed Date',\n\t\t\ttype: 'date',\n\t\t\toptions: [],\n\t\t},\n\t]\n\n\tcaseMetaTypes.forEach(data.metaTypes.save)\n\n\t// EVENTS\n\n\tconst eventMetaTypes: MetaTypeModel[] = [\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: eventEntityType.id,\n\t\t\tkey: 'start-date',\n\t\t\tname: 'Start Date',\n\t\t\ttype: 'date',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: eventEntityType.id,\n\t\t\tkey: 'end-date',\n\t\t\tname: 'End Date',\n\t\t\ttype: 'date',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: eventEntityType.id,\n\t\t\tkey: 'type',\n\t\t\tname: 'Type',\n\t\t\ttype: 'option',\n\t\t\toptions: ['Review', 'Mediation', 'CMC'],\n\t\t\tdefaultValue: 'CMC',\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: eventEntityType.id,\n\t\t\tkey: 'decision-date',\n\t\t\tname: 'Decision Date',\n\t\t\ttype: 'date',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: eventEntityType.id,\n\t\t\tkey: 'postponed',\n\t\t\tname: 'Postponed',\n\t\t\ttype: 'boolean',\n\t\t\toptions: [],\n\t\t},\n\t]\n\n\teventMetaTypes.forEach(data.metaTypes.save)\n\n\t// USERS\n\n\tconst userMetaTypes: MetaTypeModel[] = [\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: userEntityType.id,\n\t\t\tkey: 'first-name',\n\t\t\tname: 'First Name',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: userEntityType.id,\n\t\t\tkey: 'last-name',\n\t\t\tname: 'Last Name',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: userEntityType.id,\n\t\t\tkey: 'email',\n\t\t\tname: 'Email',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: userEntityType.id,\n\t\t\tkey: 'phone',\n\t\t\tname: 'Phone',\n\t\t\ttype: 'string',\n\t\t\toptions: [],\n\t\t},\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: userEntityType.id,\n\t\t\tkey: 'active',\n\t\t\tname: 'Active',\n\t\t\ttype: 'boolean',\n\t\t\toptions: [],\n\t\t\tdefaultValue: 'true',\n\t\t},\n\t]\n\n\tuserMetaTypes.forEach(data.metaTypes.save)\n\n\t// ACTIONS\n\n\t// CASE\n\n\tconst caseActions: EntityActionModel[] = [\n\t\t{\n\t\t\tid: id(),\n\t\t\tentityTypeId: caseEntityType.id,\n\t\t\tkey: 'close-case',\n\t\t\tname: 'Close Case',\n\t\t\tchanges: [],\n\t\t},\n\t]\n\n\tcaseActions.forEach(data.entityActions.save)\n\n\t// EVENTS\n\n\tconst eventActions: EntityActionModel[] = []\n\n\teventActions.forEach(data.entityActions.save)\n\n\t// CONNECTIONS\n\n\tdata.entityConnections.save({\n\t\tid: id(),\n\t\tkey: 'events',\n\t\tname: 'Events',\n\t\tentityTypeId: caseEntityType.id,\n\t\trelationId: eventEntityType.id,\n\t\ttype: 'one-to-many',\n\t})\n\n\tdata.entityConnections.save({\n\t\tid: id(),\n\t\tkey: 'attendees',\n\t\tname: 'Attendees',\n\t\tentityTypeId: eventEntityType.id,\n\t\trelationId: userEntityType.id,\n\t\ttype: 'one-to-many',\n\t})\n\n\tdata.entityConnections.save({\n\t\tid: id(),\n\t\tkey: 'applicant',\n\t\tname: 'Applicant',\n\t\tentityTypeId: userEntityType.id,\n\t\trelationId: caseEntityType.id,\n\t\ttype: 'one-to-many',\n\t})\n\n\t// NOTIFICATIONS\n\n\tdata.notifications.save({\n\t\tid: id(),\n\t\tname: 'Event Reminder 2 days',\n\t\tfocus: eventEntityType.id,\n\t\tenabled: true,\n\t\ttriggerType: 'date',\n\t\ttriggerRepeat: 2,\n\t\ttriggerEvery: '',\n\t\ttriggerYearIn: '',\n\t\ttriggerMonthOn: '',\n\t\ttriggerWeekOn: '',\n\t\ttriggerDayAt: '',\n\t\ttriggerAction: '',\n\t\tobeyTriggerTiming: true,\n\t\ttriggerTimingType: 'before',\n\t\ttriggerTiming: 'day',\n\t\ttriggerDate:\n\t\t\tdata.metaTypes.find((x) => x.entityTypeId === eventEntityType.id && x.key === 'start-date')?.id || '',\n\t\truleGroups: [\n\t\t\t{\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tentity: eventEntityType.id,\n\t\t\t\t\t\tfield:\n\t\t\t\t\t\t\tdata.metaTypes.find((x) => x.entityTypeId === eventEntityType.id && x.key === 'postponed')\n\t\t\t\t\t\t\t\t?.id || '',\n\t\t\t\t\t\toperator: 'false',\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t\tsubject: 'Upcoming Conference',\n\t\tcontent:\n\t\t\t'<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>',\n\t})\n\n\tdata.templates.save({\n\t\tid: id(),\n\t\tname: 'Event Reminder 2 days',\n\t\tcontent:\n\t\t\t'<h1>Hello {{recipient-first-name}}</h1><p><br></p><p>You have a {{event-type}} coming up on {{event-start-date}}</p>',\n\t})\n}\n\nif (!localStorage.getItem('data')) {\n\tseed()\n}\n","import React, { FC } from 'react'\nimport Card from '@primer/components/Card'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageContent from '@primer/components/PageContent'\nimport { RouteComponentProps } from '@reach/router'\nimport Actions from '@primer/components/Actions'\nimport { clear } from 'data'\nimport { seed } from 'data/seed'\nimport Stack from '@primer/components/Stack'\n\nconst Home: FC<RouteComponentProps> = () => {\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Home\" />\n\n\t\t\t<PageContent>\n\t\t\t\t<Card>\n\t\t\t\t\t<Stack>\n\t\t\t\t\t\t<div className=\"rounded-md bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25 p-4\">\n\t\t\t\t\t\t\t<span className=\"font-medium\">Note:</span> Roles, permissions and modules haven't been\n\t\t\t\t\t\t\tproperly figured out yet, so that stuff is only a visual mockup\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"rounded-md bg-primary-400 text-primary-800 dark:bg-primary-500 dark:text-primary-300 bg-opacity-25 dark:bg-opacity-25 p-4 space-y-3\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tFeel free to play around with the forms, create stuff, edit stuff, delete stuff. You can\n\t\t\t\t\t\t\t\tcome back to this page to reset the data.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>Any changes you make are contained within your browser, so nothing is real.</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Clear Database',\n\t\t\t\t\t\t\t\t\tonClick: () => clear(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Reset Database',\n\t\t\t\t\t\t\t\t\tonClick: () => seed(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Card>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default Home\n","export default __webpack_public_path__ + \"static/media/undraw_not_found_60pq.faf05e44.svg\";","import React, { FC } from 'react'\nimport { RouteComponentProps } from '@reach/router'\nimport illustration from 'assets/img/undraw_not_found_60pq.svg'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageContent from '@primer/components/PageContent'\n\nconst NotFound: FC<RouteComponentProps> = () => {\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Not Found\" />\n\n\t\t\t<PageContent>\n\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t<img src={illustration} alt=\"not found\" width=\"500\" className=\"mx-auto\" />\n\t\t\t\t</div>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default NotFound\n","import React, { FC } from 'react'\nimport { useLocation, navigate, RouteComponentProps } from '@reach/router'\nimport { MailIcon, AcademicCapIcon, CubeIcon, PuzzleIcon, DocumentTextIcon } from '@heroicons/react/outline'\n\nexport const links = [\n\t{\n\t\ttitle: 'Entities',\n\t\tto: '/settings/entities',\n\t\ticon: <CubeIcon className=\"w-5 h-5\" />,\n\t\tshow: () => true,\n\t\texact: true,\n\t},\n\t{\n\t\ttitle: 'Roles',\n\t\tto: `/settings/roles`,\n\t\ticon: <AcademicCapIcon className=\"w-5 h-5\" />,\n\t\tshow: () => true,\n\t\texact: true,\n\t},\n\t{\n\t\ttitle: 'Templates',\n\t\tto: `/settings/templates`,\n\t\ticon: <DocumentTextIcon className=\"w-5 h-5\" />,\n\t\tshow: () => true,\n\t\texact: true,\n\t},\n\t{\n\t\ttitle: 'Notifications',\n\t\tto: '/settings/notifications',\n\t\ticon: <MailIcon className=\"w-5 h-5\" />,\n\t\tshow: () => true,\n\t\texact: true,\n\t},\n\t{\n\t\ttitle: 'Modules',\n\t\tto: '/settings/modules',\n\t\ticon: <PuzzleIcon className=\"w-5 h-5\" />,\n\t\tshow: () => true,\n\t\texact: true,\n\t},\n]\n\nconst Admin: FC<RouteComponentProps> = ({ children }) => {\n\tconst location = useLocation()\n\n\tif (location.pathname === '/settings') {\n\t\tnavigate(links[0].to)\n\t\treturn null\n\t}\n\n\treturn <>{children}</>\n}\n\nexport default Admin\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { isAnchorRouteConfig, isLinkRouteConfig, isNotNone, RouteConfig } from '@primer/types'\nimport { LinkGetProps, Link } from '@reach/router'\nimport { ExternalLinkIcon } from '@heroicons/react/outline'\nimport Tooltip from './Tooltip'\n\ntype IntentValue = 'primary' | 'secondary' | 'white'\n\nconst intents = {\n\tprimary: {\n\t\twrapper: 'bg-gray-800 dark:bg-gray-900 antialiased',\n\t\tlink: {\n\t\t\tactive: 'text-white bg-gray-700 dark:bg-gray-700 focus:bg-gray-900 dark:focus:bg-gray-800',\n\t\t\tinactive:\n\t\t\t\t'text-gray-200 hover:text-white hover:bg-gray-900 focus:text-white focus:bg-gray-700 dark:hover:bg-gray-800',\n\t\t},\n\t\ttoggle: 'text-gray-400 hover:text-gray-300 hover:bg-gray-700',\n\t},\n\tsecondary: {\n\t\twrapper: 'bg-white dark:bg-gray-700 antialiased shadow',\n\t\tlink: {\n\t\t\tactive: 'text-primary-900 dark:text-gray-100 bg-primary-100 dark:bg-gray-800 focus:bg-gray-200 dark:focus:bg-gray-800',\n\t\t\tinactive:\n\t\t\t\t'text-gray-600 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-200 dark:hover:bg-gray-600 hover:bg-primary-50 focus:text-gray-900 focus:bg-gray-100 dark:focus:bg-gray-800 dark:focus:text-gray-200',\n\t\t},\n\t\ttoggle: 'text-gray-400 hover:text-gray-500 hover:bg-gray-100',\n\t},\n\twhite: {\n\t\twrapper: 'bg-white antialiased shadow',\n\t\tlink: {\n\t\t\tactive: 'text-gray-900 bg-gray-50 focus:bg-gray-200',\n\t\t\tinactive: 'text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:text-gray-900 focus:bg-gray-100',\n\t\t},\n\t\ttoggle: 'text-gray-400 hover:text-gray-500 hover:bg-gray-100',\n\t},\n}\n\ninterface NavListProps {\n\tlinks: RouteConfig[]\n\tintent?: IntentValue\n\tmin?: boolean\n\tclassName?: ClassValue\n}\n\nconst NavList: FC<NavListProps> = ({ links, intent = 'secondary', min = false, className = null }) => {\n\treturn (\n\t\t<nav className={clsx('space-y-1', className)}>\n\t\t\t{links.filter(isNotNone).map((link, i) => (\n\t\t\t\t<NavLink key={i} link={link} intent={intent} min={min} />\n\t\t\t))}\n\t\t</nav>\n\t)\n}\n\ninterface NavLinkProps {\n\tlink: RouteConfig\n\tintent: IntentValue\n\tmin?: boolean\n}\n\nconst NavLink: FC<NavLinkProps> = ({ link, intent, min = false }) => {\n\treturn (\n\t\t<div>\n\t\t\t{link && (\n\t\t\t\t<Tooltip message={link.tooltip || link.title} enabled={min} intent=\"dark\">\n\t\t\t\t\t<MenuLink route={link} intent={intent}>\n\t\t\t\t\t\t<div className=\"opacity-75 pointer-events-none mr-3\">{link.icon}</div>\n\t\t\t\t\t\t<div className={clsx(min && 'lg:hidden')}>{link.title}</div>\n\t\t\t\t\t</MenuLink>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nconst getProps =\n\t(route: RouteConfig, intent: IntentValue) =>\n\t({ isCurrent, isPartiallyCurrent }: LinkGetProps) => {\n\t\treturn (route.exact ? isCurrent : isPartiallyCurrent)\n\t\t\t? {\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t\t\t\tintents[intent].link.active\n\t\t\t\t\t),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'group flex items-center p-2 text-sm font-medium leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t\t\t\tintents[intent].link.inactive\n\t\t\t\t\t),\n\t\t\t  }\n\t}\n\nconst MenuLink = ({ route, intent, children }: { route: RouteConfig; intent: IntentValue; children: ReactNode }) => {\n\treturn isAnchorRouteConfig(route) ? (\n\t\t<a\n\t\t\thref={route.url}\n\t\t\tclassName={clsx(\n\t\t\t\t'group flex items-center justify-center p-2 text-sm leading-5 rounded-l rounded-r transition ease-in-out duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500',\n\t\t\t\tintents[intent].link.inactive,\n\t\t\t\t'justify-center'\n\t\t\t)}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t<div className=\"flex items-center justify-center\">{children}</div>\n\n\t\t\t<div className=\"flex-1 flex justify-end\">\n\t\t\t\t<ExternalLinkIcon className=\"opacity-25 w-4 h-4\" />\n\t\t\t</div>\n\t\t</a>\n\t) : isLinkRouteConfig(route) ? (\n\t\t<Link to={`${process.env.PUBLIC_URL}${route.to}`} getProps={getProps(route, intent)}>\n\t\t\t{children}\n\t\t</Link>\n\t) : null\n}\n\nexport default NavList\n","import React, { FC, ReactNode } from 'react'\nimport { RouteConfig } from '@primer/types'\nimport NavList from '@primer/components/NavList'\nimport PageContent from '@primer/components/PageContent'\nimport { CardWrapper } from '@primer/components/Card'\nimport clsx, { ClassValue } from 'clsx'\nimport useLocalStorage from '@primer/hooks/useLocalStorage'\n\ninterface PageNavbarProps {\n\tlinks: RouteConfig[]\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nconst PageNavbar: FC<PageNavbarProps> = ({ links, className, children }) => {\n\tconst [min, setMin] = useLocalStorage('case-min', false)\n\n\treturn (\n\t\t<PageContent className={className}>\n\t\t\t<CardWrapper className=\"relative\">\n\t\t\t\t<div className=\"max-w-full\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t'grid grid-cols-1 max-w-full',\n\t\t\t\t\t\t\tmin ? 'md:grid-cols-[62px,minmax(0,1fr)]' : 'md:grid-cols-[20rem,minmax(0,1fr)]'\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"p-3\">\n\t\t\t\t\t\t\t<NavList links={links} min={min} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"relative mt-6 lg:mt-0 border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-gray-600\">\n\t\t\t\t\t\t\t<div className=\"absolute top-0 left-0 h-full group z-10\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'w-1 -ml-0.5 h-full bg-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-100 ease-linear',\n\t\t\t\t\t\t\t\t\t\tmin ? 'cursor-right' : 'cursor-left'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonClick={() => setMin(!min)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>{children}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</CardWrapper>\n\t\t</PageContent>\n\t)\n}\n\nexport default PageNavbar\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ntype SizeType = 'sm' | 'md'\n\nconst sizes = {\n\tsm: 'px-2 py-0.5 -my-0.5 text-xs leading-5',\n\tmd: 'px-2.5 py-0.5 -my-0.5 text-sm leading-6',\n}\n\ntype ThemeType = 'gray' | 'red' | 'green' | 'yellow' | 'green' | 'teal' | 'blue' | 'indigo' | 'purple' | 'pink'\n\nexport const themes = {\n\tgray: 'bg-gray-400 text-gray-800 dark:bg-gray-500 dark:text-gray-300 bg-opacity-25 dark:bg-opacity-25',\n\tred: 'bg-red-400 text-red-800 dark:bg-red-500 dark:text-red-300 bg-opacity-25 dark:bg-opacity-25',\n\torange: 'bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25',\n\tyellow: 'bg-yellow-400 text-yellow-800 dark:bg-yellow-500 dark:text-yellow-300 bg-opacity-25 dark:bg-opacity-25',\n\tgreen: 'bg-green-400 text-green-800 dark:bg-green-500 dark:text-green-300 bg-opacity-25 dark:bg-opacity-25',\n\tteal: 'bg-teal-400 text-teal-800 dark:bg-teal-500 dark:text-teal-300 bg-opacity-25 dark:bg-opacity-25',\n\tblue: 'bg-blue-400 text-blue-800 dark:bg-blue-500 dark:text-blue-300 bg-opacity-25 dark:bg-opacity-25',\n\tindigo: 'bg-indigo-400 text-indigo-800 dark:bg-indigo-500 dark:text-indigo-300 bg-opacity-25 dark:bg-opacity-25',\n\tpurple: 'bg-purple-400 text-purple-800 dark:bg-purple-500 dark:text-purple-300 bg-opacity-25 dark:bg-opacity-25',\n\tpink: 'bg-pink-400 text-pink-800 dark:bg-pink-500 dark:text-pink-300 bg-opacity-25 dark:bg-opacity-25',\n}\n\nexport interface BadgeProps {\n\tcolor: ThemeType\n\tsize?: SizeType\n\ticon?: ReactNode\n\tclassName?: ClassValue\n\tchildren?: ReactNode\n}\n\nconst Badge: FC<BadgeProps> = ({ color, size = 'md', icon, className, children }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={clsx(`inline-flex items-center font-medium`, themes[color], sizes[size], 'rounded', className)}\n\t\t>\n\t\t\t{icon !== undefined ? (\n\t\t\t\ticon\n\t\t\t) : (\n\t\t\t\t<svg className=\"mr-2 h-2 w-2\" fill=\"currentColor\" viewBox=\"0 0 8 8\">\n\t\t\t\t\t<circle cx=\"4\" cy=\"4\" r=\"3\" />\n\t\t\t\t</svg>\n\t\t\t)}\n\t\t\t{children}\n\t\t</span>\n\t)\n}\n\nexport default Badge\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport Actions from './Actions'\nimport { ActionType, isNotNone } from '@primer/types'\nimport ButtonSpacer from './ButtonSpacer'\n\ninterface SectionHeaderProps {\n\ttitle: ReactNode\n\tsubtitle?: ReactNode\n\tactions?: ActionType[]\n\tclassName?: ClassValue\n}\n\nconst SectionHeader: FC<SectionHeaderProps> = ({ title, subtitle, actions, className }) => (\n\t<div className={clsx('flex justify-between items-center flex-wrap sm:flex-nowrap', className)}>\n\t\t<div>\n\t\t\t<h3 className=\"text-lg leading-5 font-medium text-gray-900 dark:text-white\">{title}</h3>\n\t\t\t{subtitle && <p className=\"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300\">{subtitle}</p>}\n\t\t</div>\n\t\t<div className=\"flex-shrink-0\">\n\t\t\t{actions && actions.filter(isNotNone).length > 0 ? <Actions actions={actions} /> : <ButtonSpacer />}\n\t\t</div>\n\t</div>\n)\n\nexport default SectionHeader\n","import React, { FC } from 'react'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageNavbar from '@primer/components/PageNavbar'\nimport { RouteComponentProps } from '@reach/router'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport {\n\tBeakerIcon,\n\tCheckIcon,\n\tDotsHorizontalIcon,\n\tPencilIcon,\n\tPlusIcon,\n\tTrashIcon,\n\tXIcon,\n} from '@heroicons/react/outline'\nimport Badge from '@primer/components/Badge'\nimport { links } from '../Settings'\nimport SectionHeader from '@primer/components/SectionHeader'\nimport Stack from '@primer/components/Stack'\nimport data from 'data'\nimport { NotificationModel } from 'types/models'\n\nconst Notifications: FC<RouteComponentProps> = () => {\n\tconst deleteNotification = (x: NotificationModel) => null\n\n\tconst schema: TableSchema<NotificationModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Enabled',\n\t\t\t\tvalue: (x) => (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tcolor={x.enabled ? 'green' : 'red'}\n\t\t\t\t\t\ticon={x.enabled ? <CheckIcon className=\"w-5 h-5\" /> : <XIcon className=\"w-5 h-5\" />}\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t],\n\t\tactions: (x) => [\n\t\t\t{\n\t\t\t\ticon: <DotsHorizontalIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tactions: [\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Edit',\n\t\t\t\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tto: `${x.id}/edit`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Test',\n\t\t\t\t\t\t\ticon: <BeakerIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => {},\n\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Delete',\n\t\t\t\t\t\t\tintent: 'danger',\n\t\t\t\t\t\t\ticon: <TrashIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => deleteNotification(x),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Settings\" />\n\n\t\t\t<PageNavbar links={links}>\n\t\t\t\t<Stack>\n\t\t\t\t\t<div className=\"px-6 pt-6\">\n\t\t\t\t\t\t<SectionHeader\n\t\t\t\t\t\t\ttitle=\"Notifications\"\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Create Notification',\n\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\tto: '/settings/notifications/create',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Table schema={schema} items={data.notifications.all()} className=\"-mb-px\" />\n\t\t\t\t</Stack>\n\t\t\t</PageNavbar>\n\t\t</>\n\t)\n}\n\nexport default Notifications\n","import React, { ReactNode } from 'react'\nimport { FormikConfig, Form as FormikForm, FormikProps, FormikHelpers, FormikProvider, useFormik } from 'formik'\n\ntype FormikRenderProp<T> = (props: FormikProps<T>) => ReactNode\n\nexport function isFormikRenderProp<T>(prop: any): prop is FormikRenderProp<T> {\n\treturn typeof prop === 'function'\n}\n\ninterface FormProps<T> {\n\tchildren: ReactNode | FormikRenderProp<T>\n\tcontext: FormikProps<T>\n\tclassName?: string\n}\n\nexport function Form<T>({ children, className, context }: FormProps<T>) {\n\treturn (\n\t\t<FormikProvider value={context}>\n\t\t\t<FormikForm className={className}>\n\t\t\t\t{isFormikRenderProp<T>(children) ? children(context) : children}\n\t\t\t</FormikForm>\n\t\t</FormikProvider>\n\t)\n}\n\nexport default Form\n\nexport const useForm = <T,>({ onSubmit, ...props }: FormikConfig<T>) => {\n\t// https://github.com/formium/formik/issues/739\n\tconst handleSubmit = async (formData: T, helpers: FormikHelpers<T>) => {\n\t\tawait onSubmit(formData, helpers)\n\t\thelpers.setSubmitting(false)\n\t}\n\n\tconst context = useFormik({\n\t\tonSubmit: handleSubmit,\n\t\t...props,\n\t})\n\n\treturn context\n}\n","import { FormikContextType, getIn } from 'formik'\n\nexport interface FormValidations {\n\trequired?: string\n\tmin?: {\n\t\tvalue: number\n\t\tmessage: string\n\t}\n\tmax?: {\n\t\tvalue: number\n\t\tmessage: string\n\t}\n}\n\nexport const validate =\n\t(validations?: FormValidations) =>\n\t(value: any): string | undefined => {\n\t\tif (validations?.required && !value) {\n\t\t\treturn validations.required\n\t\t}\n\n\t\tif (validations?.min && +value < +validations.min.value) {\n\t\t\treturn validations.min.message\n\t\t}\n\n\t\tif (validations?.max && +value > +validations.max.value) {\n\t\t\treturn validations.max.message\n\t\t}\n\n\t\treturn undefined\n\t}\n\nexport function watch<T, K extends keyof T>(context: FormikContextType<T>, name: K) {\n\treturn context.values[name]\n}\n\nexport function watchPath<T>(context: FormikContextType<T>, path: string) {\n\treturn getIn(context.values, path) as unknown\n}\n","import React, { ChangeEvent, ElementType, FC, ReactNode, useState } from 'react'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\nimport useAutoFocus from '@primer/hooks/useAutoFocus'\nimport { FormValidations, validate } from './utils'\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface FormInputProps {\n\tas?: ElementType | string\n\tname: string\n\tlabel?: ReactNode\n\ttype?: string\n\tclassName?: ClassValue\n\tautoFocus?: boolean\n\thideOptional?: boolean\n\tvalidations?: FormValidations\n\tplaceholder?: string\n\tdisabled?: boolean\n\tstep?: number\n\tdescription?: string\n\tinputProps?: {\n\t\tmin?: number\n\t\tmax?: number\n\t\tstep?: number\n\t\tclassName?: string\n\t}\n}\n\nconst FormInput: FC<FormInputProps> = ({\n\tas = 'input',\n\tname,\n\tlabel,\n\ttype = 'text',\n\tclassName,\n\tautoFocus = false,\n\thideOptional = false,\n\tvalidations = {},\n\tplaceholder,\n\tdisabled = false,\n\tdescription,\n\tinputProps = {},\n}) => {\n\tconst isRequired = validations?.required\n\n\tconst ref = useAutoFocus<HTMLInputElement>(autoFocus)\n\n\tconst Comp = as\n\n\tconst [{ value }, { error, touched }, { setValue, setTouched }] = useField({\n\t\tname,\n\t\ttype,\n\t\tvalidate: validate(validations),\n\t})\n\n\tconst formik = useFormikContext()\n\n\tconst [token] = useState(uuidv4())\n\n\tconst { className: extraClassName, ...extraProps } = inputProps\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t{label && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default\"\n\t\t\t\t\tonClick={() => ref.current?.focus()}\n\t\t\t\t>\n\t\t\t\t\t{label}{' '}\n\t\t\t\t\t{!isRequired && !hideOptional && (\n\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className=\"text-[0px] leading-none select-none\">{token}</div>\n\n\t\t\t<div className={clsx('relative rounded-md', label && 'mt-1')}>\n\t\t\t\t<Comp\n\t\t\t\t\tref={ref}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => setValue(e.target.value)}\n\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tdisabled={disabled || formik.isSubmitting}\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t'form-input block w-full sm:text-sm sm:leading-5',\n\t\t\t\t\t\textraClassName,\n\t\t\t\t\t\terror &&\n\t\t\t\t\t\t\ttouched &&\n\t\t\t\t\t\t\t'pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500'\n\t\t\t\t\t)}\n\t\t\t\t\t{...(Comp === 'input' ? extraProps : {})}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{description && <p className=\"mt-2 text-xs text-gray-500\">{description}</p>}\n\t\t\t{error && touched && <p className=\"mt-2 text-sm text-red-600\">{error}</p>}\n\t\t</div>\n\t)\n}\n\nexport default FormInput\n","import React, { FC } from 'react'\n\ninterface FormLabelProps {\n\tonClick?: () => void\n\tisOptional?: boolean\n}\n\nconst FormLabel: FC<FormLabelProps> = ({ children, isOptional, onClick }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default\"\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{children && (\n\t\t\t\t<>\n\t\t\t\t\t{children}{' '}\n\t\t\t\t\t{isOptional && (\n\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default FormLabel\n","import React, { FC, useEffect, useState } from 'react'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\nimport { usePopper } from '@primer/hooks/usePopper'\nimport { Placement } from '@popperjs/core/index'\nimport { ArrowLeftIcon, ArrowRightIcon } from '@heroicons/react/outline'\nimport useDismissable from '@primer/hooks/useDismissable'\nimport {\n\taddDays,\n\taddMonths,\n\tendOfMonth,\n\tformat,\n\tgetDaysInMonth,\n\tgetISODay,\n\tisAfter,\n\tisBefore,\n\tisSameDay,\n\tparse,\n\tstartOfMonth,\n\tsubDays,\n\tsubMonths,\n} from 'date-fns'\nimport { ensureDate, getReservedDate, isValidDate } from '@primer/utils/funcs'\nimport useAutoFocus from '@primer/hooks/useAutoFocus'\nimport composeRefs from '@seznam/compose-react-refs'\nimport { FormValidations, validate } from './utils'\n\nconst weekDays = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su']\n\nconst isDate = (x: any): x is Date => x && x instanceof Date && isValidDate(x)\n\ninterface FormDateProps {\n\tname: string\n\tlabel?: string\n\tdescription?: string\n\tplaceholder?: string\n\thideOptional?: boolean\n\tvalidations?: FormValidations\n\tplacement?: Placement\n\toffset?: number | [number, number]\n\tdisabled?: boolean\n\tminDate?: Date\n\tmaxDate?: Date\n\tdisableHolidays?: boolean\n\tinputDisabled?: boolean\n\tautoFocus?: boolean\n\tclassName?: ClassValue\n\tinputClassName?: ClassValue\n}\n\nconst FormDate: FC<FormDateProps> = ({\n\tname,\n\tlabel,\n\tdescription,\n\tplaceholder = 'DD/MM/YYYY',\n\thideOptional,\n\tvalidations = {},\n\tplacement = 'bottom-end',\n\toffset = 10,\n\tdisabled,\n\tminDate,\n\tmaxDate,\n\tinputDisabled,\n\tdisableHolidays = false,\n\tautoFocus = false,\n\tclassName,\n\tinputClassName,\n}) => {\n\tconst isRequired = validations?.required\n\n\tconst [{ value, onBlur }, { error, touched }, { setValue, setTouched }] = useField({\n\t\tname,\n\t\tvalidate: validate(validations),\n\t})\n\n\tconst formik = useFormikContext()\n\n\tconst [display, setDisplay] = useState(isDate(value) ? format(value, 'dd/MM/yyyy') : '')\n\tconst [context, setContext] = useState<Date>(startOfMonth(isDate(value) ? value : new Date()))\n\tconst [prevValue, setPrevValue] = useState<Date | null | undefined>()\n\n\tuseEffect(() => {\n\t\tif (prevValue !== value) {\n\t\t\tif (value) {\n\t\t\t\tlet ensuredDate = ensureDate(value)\n\t\t\t\tsetDisplay(isDate(ensuredDate) ? format(ensuredDate, 'dd/MM/yyyy') : '')\n\t\t\t\tsetPrevValue(value)\n\t\t\t} else {\n\t\t\t\tsetDisplay('')\n\t\t\t\tsetContext(new Date())\n\t\t\t}\n\t\t}\n\t}, [prevValue, value])\n\n\tconst {\n\t\topen,\n\t\tsetOpen,\n\t\tignoreClass,\n\t\tref: dismissableRef,\n\t} = useDismissable({\n\t\tonOpen: () => {\n\t\t\ttry {\n\t\t\t\tif (value) {\n\t\t\t\t\tlet dateValue = ensureDate(value)\n\t\t\t\t\tsetDisplay(format(dateValue, 'dd/MM/yyyy'))\n\t\t\t\t\tsetContext(dateValue)\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('error', error)\n\t\t\t\tsetDisplay('')\n\t\t\t\tsetContext(new Date())\n\t\t\t}\n\t\t},\n\t})\n\n\tconst [reference, tooltip] = usePopper({\n\t\tplacement,\n\t\tstrategy: 'fixed',\n\t\tmodifiers: [\n\t\t\t{\n\t\t\t\tname: 'offset',\n\t\t\t\toptions: { offset: offset instanceof Array ? offset : [0, offset] },\n\t\t\t},\n\t\t],\n\t})\n\n\tconst preDays = new Array(getISODay(startOfMonth(context)) - 1)\n\t\t.fill(null)\n\t\t.map((_, i) => subDays(endOfMonth(subMonths(context, 1)), i))\n\n\tconst postDays = new Array(7 - getISODay(endOfMonth(context)))\n\t\t.fill(null)\n\t\t.map((_, i) => addDays(startOfMonth(addMonths(context, 1)), i))\n\n\tconst days = new Array(getDaysInMonth(context)).fill(null).map((_, i) => addDays(startOfMonth(context), i))\n\n\tconst select = (day: Date) => {\n\t\tsetValue(day)\n\t\tsetTouched(true)\n\t\tsetOpen(false)\n\n\t\tsetDisplay(format(day, 'dd/MM/yyyy'))\n\t}\n\n\tconst autoFocusRef = useAutoFocus<HTMLInputElement>(autoFocus)\n\n\treturn (\n\t\t<div className={clsx(className)} ref={dismissableRef}>\n\t\t\t<label>\n\t\t\t\t{label && (\n\t\t\t\t\t<div className=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200\">\n\t\t\t\t\t\t{label}{' '}\n\t\t\t\t\t\t{!isRequired && !hideOptional && (\n\t\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className={clsx('relative rounded-md', label && 'mt-1')}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={display}\n\t\t\t\t\t\tonChange={(e) => setDisplay(e.target.value)}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tdisabled={formik.isSubmitting || disabled}\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tref={composeRefs(reference, autoFocusRef)}\n\t\t\t\t\t\tonClick={() => setOpen(true)}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (inputDisabled) {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={(event) => {\n\t\t\t\t\t\t\tif (!display) {\n\t\t\t\t\t\t\t\tsetValue(null)\n\t\t\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet displayDate = parse(display, 'dd/MM/yyyy', new Date())\n\n\t\t\t\t\t\t\t\tif (isValidDate(displayDate)) {\n\t\t\t\t\t\t\t\t\tsetValue(displayDate)\n\t\t\t\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetDisplay(isDate(value) ? format(value, 'dd/MM/yyyy') : '')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tonBlur(event)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t'form-input block w-full sm:text-sm sm:leading-5',\n\t\t\t\t\t\t\terror &&\n\t\t\t\t\t\t\t\ttouched &&\n\t\t\t\t\t\t\t\t'pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500',\n\t\t\t\t\t\t\tinputClassName,\n\t\t\t\t\t\t\tignoreClass\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className={clsx(!open && 'hidden', 'z-10')} ref={tooltip}>\n\t\t\t\t\t\t<div className=\"mt rounded-md shadow-lg bg-white dark:bg-gray-700 w-80 overflow-hidden\">\n\t\t\t\t\t\t\t<div className=\"flex items-center dark:bg-gray-750 p-4 border-b border-gray-100 dark:border-gray-600\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setContext((c) => subMonths(c, 1))}\n\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ArrowLeftIcon className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<div className=\"flex-1 flex items-center justify-center text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t{format(context, 'MMMM yyyy')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setContext((c) => addMonths(c, 1))}\n\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center font-medium border transition ease-in-out duration-150 disabled:cursor-not-allowed border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-500 text-gray-700 active:text-gray-800 hover:text-gray-500 dark:text-gray-200 dark:active:text-white dark:hover:text-white bg-white active:bg-gray-50 dark:bg-gray-800 dark:active:bg-gray-900 dark:hover:bg-gray-750 focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-700 px-3 py-2 text-sm leading-5 rounded-md\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ArrowRightIcon className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"p-4 grid grid-cols-7\">\n\t\t\t\t\t\t\t\t{weekDays.map((day, i) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tclassName=\"col-span-1 w-8 h-8 flex items-center justify-center rounded m-1 cursor-default text-sm text-gray-400\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{day}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t{preDays.map((day, i) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tclassName=\"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{format(day, 'd')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t{days.map((day, i) => (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t'col-span-1 w-7 h-7 flex items-center justify-center rounded m-2 cursor-pointer disabled:pointer-events-none text-sm font-medium hover:bg-indigo-100 dark:hover:bg-gray-800 disabled:opacity-50',\n\t\t\t\t\t\t\t\t\t\t\tisSameDay(new Date(), day) && 'text-indigo-400 ring-2 ring-indigo-300',\n\t\t\t\t\t\t\t\t\t\t\tvalue && isSameDay(ensureDate(value), day) && 'bg-indigo-600 text-white'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tonClick={() => select(day)}\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t(minDate && isBefore(day, minDate)) ||\n\t\t\t\t\t\t\t\t\t\t\t(maxDate && isAfter(day, maxDate)) ||\n\t\t\t\t\t\t\t\t\t\t\t(disableHolidays && !!getReservedDate(day))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle={getReservedDate(day)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{format(day, 'd')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t{postDays.map((day, i) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tclassName=\"col-span-1 w-8 h-8 flex items-center justify-center rounded text-gray-300 dark:text-gray-500 m-1 cursor-default text-sm font-medium\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{format(day, 'd')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</label>\n\n\t\t\t{description && !error && !touched && <p className=\"mt-2 text-sm text-gray-500\">{description}</p>}\n\t\t\t{error && touched && <p className=\"mt-2 text-sm text-red-600\">{error}</p>}\n\t\t</div>\n\t)\n}\n\nexport default FormDate\n","import React, { FC, ReactNode, useState } from 'react'\nimport Select from 'react-select'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\nimport { XIcon } from '@heroicons/react/outline'\nimport { v4 as uuidv4 } from 'uuid'\nimport { FormValidations, validate } from './utils'\n\nexport interface Option {\n\tlabel: string\n\tvalue: any\n}\n\ninterface FormSelectProps {\n\tname: string\n\tlabel?: ReactNode\n\toptions: Option[]\n\tclearable?: boolean\n\tdisabled?: boolean\n\tdescription?: string\n\tplaceholder?: string\n\tvalidations?: FormValidations\n\thideOptional?: boolean\n\tclassName?: ClassValue\n\tautoFocus?: boolean\n\tonChange?: (value: any) => void\n}\n\nconst FormSelect: FC<FormSelectProps> = ({\n\tname,\n\tlabel,\n\toptions,\n\tclearable,\n\tdisabled = false,\n\tdescription,\n\tplaceholder,\n\tvalidations = {},\n\thideOptional = false,\n\tclassName,\n\tautoFocus,\n\tonChange: onChangeProp,\n}) => {\n\tconst isRequired = validations?.required\n\n\tconst [{ value, onBlur }, { error, touched }, { setValue, setTouched }] = useField({\n\t\tname,\n\t\tvalidate: validate(validations),\n\t})\n\n\tconst formik = useFormikContext()\n\n\tconst [token] = useState(uuidv4())\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<label className=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200\">\n\t\t\t\t{label && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{label}{' '}\n\t\t\t\t\t\t{!isRequired && !hideOptional && (\n\t\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"text-[0px] leading-none select-none\">{token}</div>\n\n\t\t\t\t<Select\n\t\t\t\t\toptions={options}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\toptions.find((x) => {\n\t\t\t\t\t\t\t// console.log('x.value', x.value, name)\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tx.value === value ||\n\t\t\t\t\t\t\t\t(value !== null && x.value === +value) ||\n\t\t\t\t\t\t\t\t(x.value?.id !== undefined && x.value?.id === value?.id)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) || null\n\t\t\t\t\t}\n\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t\tsetValue(option ? option.value : null)\n\t\t\t\t\t\tif (onChangeProp) onChangeProp(option ? option.value : null)\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t\tonBlur(e)\n\t\t\t\t\t}}\n\t\t\t\t\tinputProps={{ autoComplete: 'none', autoCorrect: 'off', spellCheck: 'off' }}\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t'react-select-container font-normal',\n\t\t\t\t\t\tlabel && 'mt-1',\n\t\t\t\t\t\terror && touched && 'react-select-container-error'\n\t\t\t\t\t)}\n\t\t\t\t\tclassNamePrefix=\"react-select\"\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tisClearable={clearable}\n\t\t\t\t\tisDisabled={disabled || formik.isSubmitting}\n\t\t\t\t\tautoFocus={autoFocus}\n\t\t\t\t\tmenuPlacement=\"auto\"\n\t\t\t\t\tcomponents={{\n\t\t\t\t\t\tClearIndicator: ({ hasValue, innerProps: { ref, ...restInnerProps } }) => {\n\t\t\t\t\t\t\treturn hasValue ? (\n\t\t\t\t\t\t\t\t<span ref={ref} {...restInnerProps}>\n\t\t\t\t\t\t\t\t\t<XIcon className=\"mr-8 w-5 h-5 cursor-pointer text-gray-400 hover:text-red-500\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t},\n\t\t\t\t\t\tDropdownIndicator: ({ innerProps: { ref } }) => null,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</label>\n\n\t\t\t{description && !error && !touched && <p className=\"mt-2 text-sm text-gray-500\">{description}</p>}\n\t\t\t{error && touched && <p className=\"mt-2 text-sm text-red-600\">{error}</p>}\n\t\t</div>\n\t)\n}\n\nexport default FormSelect\n","import React, { FC, ReactNode } from 'react'\nimport clsx from 'clsx'\nimport { ActionType } from '@primer/types'\nimport Actions from '@primer/components/Actions'\n\ninterface FormSectionProps {\n\ttitle: ReactNode\n\tsubtitle?: ReactNode\n\tactions?: ActionType | ActionType[]\n\tvertical?: boolean\n\tchildren: ReactNode\n}\n\nconst FormSection: FC<FormSectionProps> = ({ title, subtitle, actions, vertical = false, children }) => {\n\treturn (\n\t\t<div className={clsx(vertical ? 'flex flex-col space-y-6' : 'md:grid md:grid-cols-3 md:gap-6')}>\n\t\t\t<div className=\"md:col-span-1\">\n\t\t\t\t<h3 className=\"-mt-1 text-lg font-medium leading-6 text-gray-900 dark:text-white\">{title}</h3>\n\t\t\t\t{subtitle && <div className=\"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300\">{subtitle}</div>}\n\t\t\t\t{actions && (\n\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t<Actions actions={actions} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"mt-5 md:mt-0 md:col-span-2\">{children}</div>\n\t\t</div>\n\t)\n}\n\nexport default FormSection\n","import React, { FC, ReactNode } from 'react'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface FormCheckboxProps {\n\tname: string\n\tlabel?: ReactNode\n\tdefaultValue?: any\n\tdisabled?: boolean\n\tinputClassName?: ClassValue\n\tclassName?: ClassValue\n\tcolor?: string\n\tautoFocus?: boolean\n}\n\nconst FormCheckbox: FC<FormCheckboxProps> = ({\n\tname,\n\tlabel,\n\tdisabled,\n\tcolor = 'bg-primary-500 dark:bg-primary-500',\n\tclassName,\n\tautoFocus,\n}) => {\n\t// helpers: {setValue: ƒ, setTouched: ƒ, setError: ƒ}\n\tconst [field] = useField({\n\t\tname,\n\t\ttype: 'checkbox',\n\t})\n\n\tconst { value } = field\n\n\tconst formik = useFormikContext()\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<label className=\"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer\">\n\t\t\t\t<Toggle checked={value} color={color} />\n\t\t\t\t{label && <span className=\"ml-3\">{label}</span>}\n\t\t\t\t<input\n\t\t\t\t\t{...field}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tdisabled={disabled || formik.isSubmitting}\n\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\tautoFocus={autoFocus}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\t)\n}\n\ninterface ToggleProps {\n\tchecked: boolean\n\tcolor: string\n}\n\nconst Toggle: FC<ToggleProps> = ({ checked, color }) => {\n\treturn (\n\t\t<span\n\t\t\trole=\"checkbox\"\n\t\t\ttabIndex={0}\n\t\t\taria-checked=\"false\"\n\t\t\tclassName={clsx(\n\t\t\t\t'relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline',\n\t\t\t\t{\n\t\t\t\t\t[color]: checked,\n\t\t\t\t\t'bg-gray-200 dark:bg-gray-800': !checked,\n\t\t\t\t}\n\t\t\t)}\n\t\t>\n\t\t\t<span\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'translate-x-0 inline-block h-5 w-5 rounded-full shadow transform transition ease-in-out duration-200',\n\t\t\t\t\t{\n\t\t\t\t\t\t'translate-x-5 bg-white dark:bg-white': checked,\n\t\t\t\t\t\t'translate-x-0 bg-white dark:bg-gray-400': !checked,\n\t\t\t\t\t}\n\t\t\t\t)}\n\t\t\t></span>\n\t\t</span>\n\t)\n}\n\nexport default FormCheckbox\n","import React, { FC, ChangeEvent } from 'react'\nimport { Link, navigate } from '@reach/router'\nimport { TabType, isLinkTabType, isButtonTabType, None, isNotNone } from '@primer/types'\nimport Badge from './Badge'\nimport clsx, { ClassValue } from 'clsx'\n\nconst themes = {\n\tdark: {\n\t\tborder: 'border-b border-gray-600',\n\t\ttab: '',\n\t\ttabInactive:\n\t\t\t'whitespace-nowrap py-2 border-b border-transparent font-medium text-sm leading-5 text-white hover:text-gray-100 hover:border-gray-500 focus:outline-none focus:text-gray-100 focus:border-gray-300 antialiased',\n\t\ttabActive:\n\t\t\t'whitespace-nowrap py-2 border-b border-indigo-500 font-medium text-sm leading-5 text-indigo-300 focus:outline-none focus:text-indigo-600 focus:border-indigo-400 antialiased',\n\t},\n\tlight: {\n\t\tborder: 'border-b border-gray-300 dark:border-gray-600 font-medium text-sm leading-5',\n\t\ttab: 'whitespace-nowrap py-4 px-4 border-b -mb-px',\n\t\ttabInactive:\n\t\t\t'border-transparent text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300',\n\t\ttabActive:\n\t\t\t'border-indigo-600 text-indigo-600 dark:border-white dark:text-white focus:outline-none focus:text-indigo-800 dark:focus:text-indigo-400 focus:border-indigo-700',\n\t},\n\tcard: {\n\t\tborder: '',\n\t\ttab: 'whitespace-nowrap px-4 py-3 dark:bg-gray-700 rounded-tl-md rounded-tr-md px-4 mr-2 font-medium text-sm leading-5 shadow',\n\t\ttabInactive:\n\t\t\t'bg-gray-100 dark:bg-gray-750 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 relative z-10',\n\t\ttabActive:\n\t\t\t'bg-white text-black dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700 relative z-20',\n\t},\n\tbuttons: {\n\t\tborder: '',\n\t\ttab: 'whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5',\n\t\ttabInactive:\n\t\t\t'bg-gray-200 hover:bg-white transition transition-background text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300',\n\t\ttabActive:\n\t\t\t'bg-gray-700 text-white dark:text-white focus:outline-none focus:text-indigo-800 focus:border-indigo-700',\n\t},\n\tlinks: {\n\t\tborder: '',\n\t\ttab: 'whitespace-nowrap px-4 py-2 rounded-md mr-2 font-medium text-sm leading-5',\n\t\ttabInactive:\n\t\t\t'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:text-gray-700',\n\t\ttabActive: 'text-indigo-600 dark:text-indigo-300 focus:outline-none focus:text-indigo-800',\n\t},\n}\n\ninterface TabsProps {\n\titems: (TabType | None)[]\n\tactiveIndex?: number\n\ttheme?: 'light' | 'dark' | 'card' | 'buttons' | 'links'\n\tgetActiveIndex?: (x: TabType[]) => number\n\tclassName?: ClassValue\n}\n\nconst Tabs: FC<TabsProps> = ({ items, theme = 'dark', activeIndex, getActiveIndex, className }) => {\n\tlet tabs = items.filter(isNotNone)\n\tlet index = getActiveIndex !== undefined ? getActiveIndex(tabs) : activeIndex || 0\n\n\tconst handleSelect = (e: ChangeEvent<HTMLSelectElement>) => {\n\t\tlet index = +e.target.value\n\t\tlet item = tabs[index]\n\n\t\tif (isLinkTabType(item)) {\n\t\t\tnavigate(item.to, { state: item.state, replace: item.replace })\n\t\t} else if (isButtonTabType(item)) {\n\t\t\titem.onClick(item, index)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<div className=\"sm:hidden\">\n\t\t\t\t<select\n\t\t\t\t\tclassName=\"form-input block w-full dark:bg-gray-800 dark:placeholder-gray-400 dark:border-gray-600\"\n\t\t\t\t\tvalue={index}\n\t\t\t\t\tonChange={handleSelect}\n\t\t\t\t>\n\t\t\t\t\t{tabs.map((item, i) => (\n\t\t\t\t\t\t<option key={i} value={i}>\n\t\t\t\t\t\t\t{item.simpleTitle || item.title}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className=\"hidden sm:block py-2\">\n\t\t\t\t<div className={themes[theme].border}>\n\t\t\t\t\t<div className=\"flex items-end overflow-x-auto px-2 -m-2 overflow-y-hidden -mb-2\">\n\t\t\t\t\t\t{tabs.map((item, i) =>\n\t\t\t\t\t\t\tisLinkTabType(item) ? (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}${item.to}`}\n\t\t\t\t\t\t\t\t\tstate={item.state}\n\t\t\t\t\t\t\t\t\treplace={item.replace}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t'cursor-pointer',\n\t\t\t\t\t\t\t\t\t\t\tthemes[theme].tab,\n\t\t\t\t\t\t\t\t\t\t\ti === index ? themes[theme].tabActive : themes[theme].tabInactive\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t{item.errors && item.errors > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color=\"red\" className=\"ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{item.errors}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t) : isButtonTabType(item) ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'cursor-pointer',\n\t\t\t\t\t\t\t\t\t\tthemes[theme].tab,\n\t\t\t\t\t\t\t\t\t\t(item.key !== undefined ? item.key : i) === index\n\t\t\t\t\t\t\t\t\t\t\t? themes[theme].tabActive\n\t\t\t\t\t\t\t\t\t\t\t: themes[theme].tabInactive\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonClick={() => item.onClick(item, i)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t{item.errors && item.errors > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Badge color=\"red\" className=\"ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t{item.errors}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Tabs\n","import { CalendarIcon, CursorClickIcon, RefreshIcon } from '@heroicons/react/outline'\nimport { ordinal } from '@primer/utils/funcs'\nimport React from 'react'\n\nexport const types = [\n\t{\n\t\tlabel: (\n\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t<CursorClickIcon className=\"w-5 h-5 text-gray-500\" />\n\t\t\t\t<div>Action</div>\n\t\t\t</div>\n\t\t),\n\t\tvalue: 'action',\n\t},\n\t{\n\t\tlabel: (\n\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t<RefreshIcon className=\"w-5 h-5 text-gray-500\" />\n\t\t\t\t<div>Repeat</div>\n\t\t\t</div>\n\t\t),\n\t\tvalue: 'repeat',\n\t},\n\t{\n\t\tlabel: (\n\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t<CalendarIcon className=\"w-5 h-5 text-gray-500\" />\n\t\t\t\t<div>Date</div>\n\t\t\t</div>\n\t\t),\n\t\tvalue: 'date',\n\t},\n]\n\nexport const repeatOptions = [\n\t{ label: 'day', value: 'day' },\n\t{ label: 'week', value: 'week' },\n\t{ label: 'month', value: 'month' },\n\t{ label: 'year', value: 'year' },\n]\n\nexport const weekOnOptions = [\n\t{ label: 'monday', value: 'monday' },\n\t{ label: 'tuesday', value: 'tuesday' },\n\t{ label: 'wednesday', value: 'wednesday' },\n\t{ label: 'thursday', value: 'thursday' },\n\t{ label: 'friday', value: 'friday' },\n\t{ label: 'saturday', value: 'saturday' },\n\t{ label: 'sunday', value: 'sunday' },\n]\n\nexport const yearInOptions = [\n\t{ label: 'january', value: 'january' },\n\t{ label: 'february', value: 'february' },\n\t{ label: 'march', value: 'march' },\n\t{ label: 'april', value: 'april' },\n\t{ label: 'may', value: 'may' },\n\t{ label: 'june', value: 'june' },\n\t{ label: 'july', value: 'july' },\n\t{ label: 'august', value: 'august' },\n\t{ label: 'september', value: 'september' },\n\t{ label: 'october', value: 'october' },\n\t{ label: 'november', value: 'november' },\n\t{ label: 'december', value: 'december' },\n]\n\nexport const generateMonthList = (length: number) =>\n\tnew Array(length).fill(null).map((_, i) => ({ label: ordinal(i + 1), value: i + 1 }))\n\nexport const getMonthOnOptions = (str: string) => {\n\t// @ts-ignore\n\treturn {\n\t\tjanuary: generateMonthList(31),\n\t\tfebruary: generateMonthList(28),\n\t\tmarch: generateMonthList(31),\n\t\tapril: generateMonthList(30),\n\t\tmay: generateMonthList(31),\n\t\tjune: generateMonthList(30),\n\t\tjuly: generateMonthList(31),\n\t\taugust: generateMonthList(31),\n\t\tseptember: generateMonthList(30),\n\t\toctober: generateMonthList(31),\n\t\tnovember: generateMonthList(30),\n\t\tdecember: generateMonthList(31),\n\t}[str]\n}\n\nexport const entityTiming = [\n\t{ label: 'minute', value: 'minute' },\n\t{ label: 'hour', value: 'hour' },\n\t{ label: 'day', value: 'day' },\n\t{ label: 'week', value: 'week' },\n\t{ label: 'month', value: 'month' },\n\t{ label: 'year', value: 'year' },\n]\n\nexport const entityTimingType = [\n\t{ label: 'before', value: 'before' },\n\t{ label: 'after', value: 'after' },\n]\n\nexport const getRuleOperatorOptions = (str: string) => {\n\t// @ts-ignore\n\treturn {\n\t\tdate: [\n\t\t\t{ label: 'is before', value: 'isBefore' },\n\t\t\t{ label: 'is after', value: 'isAfter' },\n\t\t\t{ label: 'is same minute as', value: 'sameMinute' },\n\t\t\t{ label: 'is same hour as', value: 'sameHour' },\n\t\t\t{ label: 'is same day as', value: 'sameDay' },\n\t\t],\n\t\tstring: [\n\t\t\t{ label: 'is', value: 'stringIs' },\n\t\t\t{ label: 'is not', value: 'stringNot' },\n\t\t\t{ label: 'includes', value: 'stringIncludes' },\n\t\t\t{ label: \"doesn't include\", value: 'stringNotIncludes' },\n\t\t\t{ label: 'starts with', value: 'stringStarts' },\n\t\t\t{ label: 'ends with', value: 'stringEnds' },\n\t\t\t{ label: 'is empty', value: 'stringEmpty' },\n\t\t\t{ label: 'is not empty', value: 'stringNotEmpty' },\n\t\t],\n\t\tnumber: [\n\t\t\t{ label: 'is', value: 'numberEquals' },\n\t\t\t{ label: 'is greater than', value: 'numberGT' },\n\t\t\t{ label: 'is at least', value: 'numberGTE' },\n\t\t\t{ label: 'is lesser than', value: 'numberLT' },\n\t\t\t{ label: 'is at most', value: 'numberLTE' },\n\t\t],\n\t\tboolean: [\n\t\t\t{ label: 'is true', value: 'true' },\n\t\t\t{ label: 'is false', value: 'false' },\n\t\t],\n\t\tusers: [\n\t\t\t{ label: 'includes', value: 'collectionIncludes' },\n\t\t\t{ label: \"doesn't include\", value: 'collectionNotIncludes' },\n\t\t],\n\t\tuser: [\n\t\t\t{ label: 'is', value: 'stringIs' },\n\t\t\t{ label: 'is not', value: 'stringNot' },\n\t\t],\n\t\toption: [\n\t\t\t{ label: 'is', value: 'stringIs' },\n\t\t\t{ label: 'is not', value: 'stringNot' },\n\t\t],\n\t}[str]\n}\n","import { useCallback, useRef, useEffect } from 'react'\nimport { FormikContextType } from 'formik'\nimport update from 'immutability-helper'\n\n// research into infer, keyof, etc etc\n// https://itnext.io/typescript-extract-unpack-a-type-from-a-generic-baca7af14e51\n// https://artsy.github.io/blog/2018/11/21/conditional-types-in-typescript/\n// https://stackoverflow.com/questions/58666092/get-typescript-interface-property-type-given-property-name-only\n// https://stackoverflow.com/questions/45546159/type-test-cannot-be-used-to-index-type-t\n// https://javascript.plainenglish.io/typescript-infer-keyword-explained-76f4a7208cb0\ntype UnpackArrayType<T> = T extends (infer R)[] ? R : T\n\n// problem: https://github.com/formium/formik/issues/1476\n// solution: https://gist.github.com/joshsalverda/d808d92f46a7085be062b2cbde978ae6\nconst useFieldArray = <T, K extends keyof T>(fieldName: K | string, context: FormikContextType<T>) => {\n\tlet setFieldValue = context.setFieldValue\n\n\tlet field = context.getFieldProps<UnpackArrayType<T[K]>[]>(fieldName)\n\tlet meta = context.getFieldMeta(field.name)\n\n\tlet fieldArray = useRef(field.value)\n\n\tuseEffect(() => {\n\t\tfieldArray.current = field.value\n\t}, [field.value])\n\n\tconst push = useCallback(\n\t\t(value) => {\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$push: [value],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst swap = useCallback(\n\t\t(indexA, indexB) => {\n\t\t\tconst swapA = fieldArray.current[indexA]\n\t\t\tconst swapB = fieldArray.current[indexB]\n\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$splice: [\n\t\t\t\t\t[indexA, 1, swapB],\n\t\t\t\t\t[indexB, 1, swapA],\n\t\t\t\t],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst move = useCallback(\n\t\t(from, to) => {\n\t\t\tconst toMove = fieldArray.current[from]\n\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$splice: [\n\t\t\t\t\t[from, 1],\n\t\t\t\t\t[to, 0, toMove],\n\t\t\t\t],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst insert = useCallback(\n\t\t(index, value) => {\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$splice: [[index, 0, value]],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst unshift = useCallback(\n\t\t(value) => {\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$unshift: [value],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t\treturn fieldArray.current.length\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst remove = useCallback(\n\t\t(index) => {\n\t\t\tconst removedItem = fieldArray.current[index]\n\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$splice: [[index, 1]],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t\treturn removedItem\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\tconst pop = useCallback(() => {\n\t\tconst lastIndex = fieldArray.current.length - 1\n\t\tconst poppedItem = fieldArray.current[lastIndex]\n\n\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t$splice: [[lastIndex, 1]],\n\t\t})\n\n\t\tsetFieldValue(field.name, fieldArray.current)\n\t\treturn poppedItem\n\t}, [field.name, setFieldValue])\n\n\tconst replace = useCallback(\n\t\t(index, value) => {\n\t\t\tfieldArray.current = update(fieldArray.current, {\n\t\t\t\t$splice: [[index, 1, value]],\n\t\t\t})\n\n\t\t\tsetFieldValue(field.name, fieldArray.current)\n\t\t},\n\t\t[field.name, setFieldValue]\n\t)\n\n\treturn {\n\t\tfield,\n\t\t// this is kind of weird, if the type of this field in your form is an array, then cool.\n\t\t// If you're trying to use useFieldArray on a field in your form that is not an array, then, you're an idiot\n\t\t// and the \"values\" property will be incorrectly typed as an arrayed version of the fields type\n\t\tvalues: field.value || [],\n\t\tmeta,\n\t\tarrayHelpers: {\n\t\t\tpush,\n\t\t\tswap,\n\t\t\tmove,\n\t\t\tinsert,\n\t\t\tunshift,\n\t\t\tremove,\n\t\t\tpop,\n\t\t\treplace,\n\t\t},\n\t}\n}\n\nexport default useFieldArray\n","import React, { forwardRef } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport ReactQuill from 'react-quill'\nimport Actions from '../Actions'\nimport { ActionType } from '@primer/types'\nimport { useField, useFormikContext } from 'formik'\nimport { FormValidations, validate } from './utils'\n\nexport const defaultEditorModules = {\n\ttoolbar: [\n\t\t[{ header: [1, 2, false] }],\n\t\t['bold', 'italic', { color: [] }],\n\t\t[{ list: 'ordered' }, { list: 'bullet' }],\n\t\t[{ align: [] }],\n\t\t['clean'],\n\t],\n}\n\ninterface FormEditorProps {\n\tname: string\n\tlabel?: string\n\tclassName?: ClassValue\n\tvalidations?: FormValidations\n\thideOptional?: boolean\n\tdisabled?: boolean\n\tmodules?: any\n\tactions?: ActionType[]\n}\n\nconst FormEditor = forwardRef<ReactQuill, FormEditorProps>(\n\t({ name, label, className, validations = {}, hideOptional, disabled, modules, actions }, ref) => {\n\t\tconst formik = useFormikContext()\n\n\t\tconst [{ value }, { error, touched }, { setValue, setTouched }] = useField({\n\t\t\tname,\n\t\t\tvalidate: validate(validations),\n\t\t})\n\n\t\tconst isRequired = !!validations.required\n\n\t\treturn (\n\t\t\t<div className={clsx(className)}>\n\t\t\t\t{label && (\n\t\t\t\t\t<div className=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default\">\n\t\t\t\t\t\t{label}{' '}\n\t\t\t\t\t\t{!isRequired && !hideOptional && (\n\t\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className={clsx('relative h-full', label && 'mt-1')}>\n\t\t\t\t\t{actions && (\n\t\t\t\t\t\t<div className=\"absolute top-0 right-0 mr-1.5 h-11 flex items-center\">\n\t\t\t\t\t\t\t<Actions actions={actions} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tvalue={value || ''}\n\t\t\t\t\t\tonChange={(content) => {\n\t\t\t\t\t\t\t// setTouched(true)\n\t\t\t\t\t\t\tsetValue(content)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmodules={modules || defaultEditorModules}\n\t\t\t\t\t\treadOnly={disabled || formik.isSubmitting}\n\t\t\t\t\t\tclassName=\"h-full\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{error && touched && <p className=\"mt-2 text-sm text-red-600\">{error}</p>}\n\t\t\t</div>\n\t\t)\n\t}\n)\n\nexport default FormEditor\n","import React, { Dispatch, FC, ReactNode, SetStateAction, useState } from 'react'\nimport clsx from 'clsx'\n\ninterface ExpandableProps {\n\tchildren: (setOpen: Dispatch<SetStateAction<boolean>>, isExpanded: boolean) => ReactNode\n}\n\nconst Expandable: FC<ExpandableProps> = ({ children }) => {\n\tconst [isExpanded, setExpanded] = useState(false)\n\n\treturn (\n\t\t<div className={clsx(isExpanded ? 'fixed z-[9999] w-screen h-screen' : 'static', 'top-0 left-0')}>\n\t\t\t{children(setExpanded, isExpanded)}\n\t\t</div>\n\t)\n}\n\nexport default Expandable\n","import React from 'react'\nimport { ChevronLeftIcon } from '@heroicons/react/outline'\nimport { ActionType } from '@primer/types'\nimport data from 'data'\n\nexport const templateTagActions = (insertFn: (x: string) => void, level: string): ActionType[] => {\n\tlet userEntityType = data.entityTypes.find((x) => x.key === 'user')\n\n\treturn [\n\t\t{\n\t\t\ttitle: 'Recipient',\n\t\t\ticon: <ChevronLeftIcon className=\"w-4 h-4\" />,\n\t\t\ticonSide: 'left',\n\t\t\thoverable: true,\n\t\t\tplacement: 'left-start',\n\t\t\tactions: data.metaTypes\n\t\t\t\t.all((x) => x.entityTypeId === userEntityType?.id)\n\t\t\t\t.map((x) => ({\n\t\t\t\t\ttitle: x.name,\n\t\t\t\t\tonClick: () => insertFn(`{{recipient-${x.key}}}`),\n\t\t\t\t})),\n\t\t},\n\t\t...data.entityTypes.all().map<ActionType>((entity) => ({\n\t\t\ttitle: entity.name,\n\t\t\ticon: <ChevronLeftIcon className=\"w-4 h-4\" />,\n\t\t\ticonSide: 'left',\n\t\t\thoverable: true,\n\t\t\tplacement: 'left-start',\n\t\t\tactions: data.metaTypes\n\t\t\t\t.all((x) => x.entityTypeId === entity.id)\n\t\t\t\t.map((x) => ({\n\t\t\t\t\ttitle: x.name,\n\t\t\t\t\tonClick: () => insertFn(`{{${entity.key}-${x.key}}}`),\n\t\t\t\t})),\n\t\t})),\n\t]\n}\n","import React, { FC, ReactNode, useRef } from 'react'\nimport clsx from 'clsx'\nimport ReactQuill from 'react-quill'\nimport { ArrowsExpandIcon, ChevronDownIcon, XIcon } from '@heroicons/react/outline'\nimport { FormValidations } from '@primer/components/Form2/utils'\nimport FormEditor from '@primer/components/Form2/FormEditor'\nimport FormLabel from '@primer/components/Form2/FormLabel'\nimport Expandable from '@primer/components/Expandable'\nimport { templateTagActions } from 'pages/Settings/Templates/utils/actions'\n\ninterface FormTemplateEditorProps {\n\tname: string\n\tlabel?: ReactNode\n\tvalidations?: FormValidations\n\tfocus: string\n}\n\nconst FormTemplateEditor: FC<FormTemplateEditorProps> = ({ name, label, validations, focus }) => {\n\tconst ref = useRef<ReactQuill>(null)\n\n\tconst insertTag = (str: string) => {\n\t\tlet editor = ref.current?.getEditor()\n\t\tlet selection = editor?.getSelection()\n\t\tlet text = editor?.getText()\n\n\t\tif (!editor || !text) return\n\n\t\tconst index = selection?.index\n\t\tconst length = selection?.length\n\n\t\tif (!index) {\n\t\t\teditor.insertText(editor.getText().length - 1, str)\n\t\t} else {\n\t\t\tif (length) editor.deleteText(index, length)\n\t\t\teditor.insertText(index, str)\n\t\t}\n\t}\n\n\treturn (\n\t\t<Expandable>\n\t\t\t{(setExpanded, isExpanded) => (\n\t\t\t\t<div className={clsx(isExpanded && 'bg-white h-full')}>\n\t\t\t\t\t{!isExpanded && label && <FormLabel>{label}</FormLabel>}\n\n\t\t\t\t\t<FormEditor\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tvalidations={validations}\n\t\t\t\t\t\tclassName={clsx(!isExpanded && label && 'mt-1', isExpanded && 'h-full pb-10')}\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Insert Tag',\n\t\t\t\t\t\t\t\ticon: <ChevronDownIcon className=\"w-4 h-4\" />,\n\t\t\t\t\t\t\t\ticonSide: 'right',\n\t\t\t\t\t\t\t\tintent: 'secondary',\n\t\t\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\t\t\tactions: templateTagActions(insertTag, focus) || [],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: isExpanded ? (\n\t\t\t\t\t\t\t\t\t<XIcon className=\"w-4 h-4 -mx-1\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ArrowsExpandIcon className=\"w-4 h-4 -mx-1\" />\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\t\t\tonClick: () => setExpanded((x) => !x),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Expandable>\n\t)\n}\n\nexport default FormTemplateEditor\n","import React, { FC, Fragment } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport { navigate, RouteComponentProps } from '@reach/router'\nimport Card from '@primer/components/Card'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageContent from '@primer/components/PageContent'\nimport Actions from '@primer/components/Actions'\nimport Stack from '@primer/components/Stack'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport FormLabel from '@primer/components/Form2/FormLabel'\nimport FormDate from '@primer/components/Form2/FormDate'\nimport FormSelect from '@primer/components/Form2/FormSelect'\nimport FormSection from '@primer/components/Form2/FormSection'\nimport FormToggle from '@primer/components/Form2/FormToggle'\nimport AutoHeight from '@primer/components/AutoHeight'\nimport Tabs from '@primer/components/Tabs'\nimport { ArrowLeftIcon, BeakerIcon, CheckIcon, ChevronDownIcon, PlusIcon } from '@heroicons/react/outline'\nimport { XIcon } from '@heroicons/react/solid'\nimport { onlyText } from 'react-children-utilities'\nimport { ActionType, isNotNone } from '@primer/types'\nimport {\n\ttypes,\n\trepeatOptions,\n\tyearInOptions,\n\tgetMonthOnOptions,\n\tweekOnOptions,\n\tgetRuleOperatorOptions,\n\tentityTiming,\n\tentityTimingType,\n} from './utils/options'\nimport useFieldArray from '@primer/components/Form2/useFieldArray'\nimport { watch, watchPath } from '@primer/components/Form2/utils'\nimport { useFormikContext } from 'formik'\nimport FormTemplateEditor from 'components/FormTemplateEditor'\nimport { templateTagActions } from 'pages/Settings/Templates/utils/actions'\nimport data from 'data'\nimport { confirm } from '@primer/alerts'\n\ninterface RuleType {\n\tentity: string\n\tfield: string\n\toperator: string\n\tvalue: string\n}\n\ninterface RuleGroupType {\n\trules: RuleType[]\n}\n\ninterface FormData {\n\tname: string\n\tenabled: boolean\n\tenabledDate: Date | undefined\n\tfocus: string\n\n\ttriggerType: string\n\ttriggerRepeat: number\n\n\ttriggerEvery: string\n\ttriggerYearIn: string\n\ttriggerMonthOn: string\n\ttriggerWeekOn: string\n\ttriggerDayAt: string\n\n\ttriggerAction: string\n\n\tobeyTriggerTiming: boolean\n\ttriggerTimingType: string\n\ttriggerTiming: string\n\ttriggerDate: string\n\n\truleGroups: RuleGroupType[]\n\n\tsubject: string\n\tcontent: string\n}\n\nconst NotificationForm: FC<RouteComponentProps<{ id: string; mode: 'create' | 'edit' }>> = ({ id, mode }) => {\n\tconst originalNotification = data.notifications.find(id)\n\n\tconst formContext = useForm<FormData>({\n\t\tinitialValues: {\n\t\t\tname: originalNotification?.name || '',\n\t\t\tfocus: originalNotification?.focus || '',\n\t\t\tenabled: originalNotification?.enabled || false,\n\t\t\tenabledDate: originalNotification?.enabledDate || undefined,\n\n\t\t\ttriggerType: originalNotification?.triggerType || 'action',\n\t\t\ttriggerRepeat: originalNotification?.triggerRepeat || 1,\n\n\t\t\ttriggerEvery: originalNotification?.triggerEvery || '',\n\t\t\ttriggerYearIn: originalNotification?.triggerYearIn || '',\n\t\t\ttriggerMonthOn: originalNotification?.triggerMonthOn || '',\n\t\t\ttriggerWeekOn: originalNotification?.triggerWeekOn || '',\n\t\t\ttriggerDayAt: originalNotification?.triggerDayAt || '',\n\n\t\t\ttriggerAction: originalNotification?.triggerAction || '',\n\n\t\t\tobeyTriggerTiming: originalNotification?.obeyTriggerTiming || true,\n\t\t\ttriggerTimingType: originalNotification?.triggerTimingType || '',\n\t\t\ttriggerTiming: originalNotification?.triggerTiming || '',\n\t\t\ttriggerDate: originalNotification?.triggerDate || '',\n\n\t\t\truleGroups: originalNotification?.ruleGroups || [],\n\n\t\t\tsubject: originalNotification?.subject || '',\n\t\t\tcontent: originalNotification?.content || '',\n\t\t},\n\t\tonSubmit: (formData) => {\n\t\t\tdata.notifications.save({\n\t\t\t\tid: uuid(),\n\t\t\t\t...(originalNotification || {}),\n\t\t\t\t...formData,\n\t\t\t})\n\n\t\t\tnavigate('/settings/notifications')\n\t\t},\n\t})\n\n\tconst {\n\t\tvalues: ruleGroups,\n\t\tarrayHelpers: { push: appendRuleGroup, remove: removeRuleGroup },\n\t} = useFieldArray('ruleGroups', formContext)\n\n\t// obeyTriggerTiming,\n\n\tconst triggerType = watch(formContext, 'triggerType')\n\tconst triggerRepeat = watch(formContext, 'triggerRepeat')\n\tconst triggerEvery = watch(formContext, 'triggerEvery')\n\tconst triggerYearIn = watch(formContext, 'triggerYearIn')\n\tconst triggerMonthOn = watch(formContext, 'triggerMonthOn')\n\tconst triggerWeekOn = watch(formContext, 'triggerWeekOn')\n\tconst triggerTiming = watch(formContext, 'triggerTiming')\n\tconst triggerTimingType = watch(formContext, 'triggerTimingType')\n\tconst enabled = watch(formContext, 'enabled')\n\tconst subject = watch(formContext, 'subject')\n\tconst focus = watch(formContext, 'focus')\n\n\tconst activeIndex: number = types.findIndex((x) => x.value === triggerType)\n\n\tconst title = mode === 'create' ? 'Create Notification' : 'Edit Notification'\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading\n\t\t\t\tpageTitle={title}\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ticon: <ArrowLeftIcon className=\"w-5 h-5 -mx-2\" />,\n\t\t\t\t\t\t\t\tintent: 'borderless',\n\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\tto: '/settings/notifications',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>{title}</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<PageContent>\n\t\t\t\t<Form context={formContext}>\n\t\t\t\t\t<Stack dividers>\n\t\t\t\t\t\t<FormSection title=\"Details\" subtitle=\"Basic information about the notification\">\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Name is required' }}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t<FormLabel>Notification is about</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\tname=\"focus\"\n\t\t\t\t\t\t\t\t\t\t\toptions={data.entityTypes\n\t\t\t\t\t\t\t\t\t\t\t\t.all()\n\t\t\t\t\t\t\t\t\t\t\t\t.map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Focus is required' }}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[150px]\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<FormToggle name=\"enabled\" label=\"Enabled\" />\n\n\t\t\t\t\t\t\t\t\t<AutoHeight show={!!enabled}>\n\t\t\t\t\t\t\t\t\t\t<FormDate name=\"enabledDate\" label=\"Enabled from\" />\n\t\t\t\t\t\t\t\t\t</AutoHeight>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Trigger\"\n\t\t\t\t\t\t\tsubtitle={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div>Choose how to trigger the notification</div>\n\t\t\t\t\t\t\t\t\t<ul className=\"list-disc pl-5 text-xs\">\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Action</strong>: When a certain action occurs within the platform\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Repeat</strong>: On a recurring schedule\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Date</strong>: Relative to a defined date\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"pl-2\">\n\t\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\t\tactiveIndex={activeIndex}\n\t\t\t\t\t\t\t\t\ttheme=\"card\"\n\t\t\t\t\t\t\t\t\titems={types.map((x, i) => ({\n\t\t\t\t\t\t\t\t\t\ttitle: <div className=\"flex items-center space-x-3\">{x.label}</div>,\n\t\t\t\t\t\t\t\t\t\tsimpleTitle: onlyText(x.label),\n\t\t\t\t\t\t\t\t\t\tonClick: () => formContext.setFieldValue('triggerType', x.value),\n\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"relative z-10\">\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Stack className={triggerType === 'action' ? '' : 'hidden'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[300px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerAction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={data.entityActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.all((x) => x.entityTypeId === focus)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// validations={{ required: 'Action is required' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select action...\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\n\t\t\t\t\t\t\t\t\t\t\t<Stack className={triggerType === 'repeat' ? '' : 'hidden'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>Every</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[60px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerRepeat\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: 'required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Every must be at least 1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerEvery\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={repeatOptions.map((x) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.label + ((triggerRepeat || 1) > 1 ? 's' : ''),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: x.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{triggerEvery === 'year' && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>in</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerYearIn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={yearInOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: 'Time is required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(triggerEvery === 'month' ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(triggerEvery === 'year' && isNotNone(triggerYearIn))) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>on the</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerMonthOn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttriggerEvery === 'month'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetMonthOnOptions(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttriggerYearIn || 'february'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) || []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ).concat([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'last day',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: Infinity,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: getMonthOnOptions(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttriggerYearIn || 'february'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ) || []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: 'Time is required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{triggerEvery === 'week' && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>on</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerWeekOn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={weekOnOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: 'Time is required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(triggerEvery === 'day' ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotNone(triggerWeekOn) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotNone(triggerMonthOn)) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>at</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[130px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput name=\"triggerDayAt\" type=\"time\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\n\t\t\t\t\t\t\t\t\t\t\t<Stack className={triggerType === 'date' ? '' : 'hidden'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[60px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerRepeat\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: 'required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'min 1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerTiming\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={entityTiming.map((x) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: x.label + ((triggerRepeat || 1) > 1 ? 's' : ''),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: x.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{triggerTiming && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[100px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerTimingType\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={entityTimingType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'required' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{triggerTimingType && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"triggerDate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={data.metaTypes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.all(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(x) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.entityTypeId === focus &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.type === 'date'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'required' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Conditions\"\n\t\t\t\t\t\t\tsubtitle=\"Fine grained controls over if the notification gets sent\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t{ruleGroups.map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<RuleGroup path={`ruleGroups[${i}]`} remove={() => removeRuleGroup(i)} />\n\t\t\t\t\t\t\t\t\t\t\t{i !== ruleGroups.length - 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium px-4 py-1 rounded-full bg-indigo-600 text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOR\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add condition set',\n\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tonClick: () => appendRuleGroup({ rules: [] }),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Template\"\n\t\t\t\t\t\t\tsubtitle={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div>Customise the content of the email message</div>\n\t\t\t\t\t\t\t\t\t<div>Use the tag reference to add placeholders for real values</div>\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Import Template',\n\t\t\t\t\t\t\t\t\t\t\t\ticon: <ChevronDownIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\t\ticonSide: 'right',\n\t\t\t\t\t\t\t\t\t\t\t\tplacement: 'bottom-start',\n\t\t\t\t\t\t\t\t\t\t\t\tactions: data.templates.all().map<ActionType>((x) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: x.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet pass = false\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.values.content !== '' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.values.content !== '<p><br></p>'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait confirm({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Are you sure?',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'This will overwrite your existing email content',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpass = true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpass = true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (pass) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.setFieldValue('content', x.content)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start\">\n\t\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subject line\"\n\t\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Subject line is required' }}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1 mr-3\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-6\">\n\t\t\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Insert Tag',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: <ChevronDownIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonSide: 'right',\n\t\t\t\t\t\t\t\t\t\t\t\t\tactions:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplateTagActions((x) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.setFieldValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'subject',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubject?.length ? `${subject}${x}` : `${x}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, focus) || [],\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<FormTemplateEditor\n\t\t\t\t\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Content\"\n\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Content is required' }}\n\t\t\t\t\t\t\t\t\t\tfocus={focus}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t{/* <AutoHeight show={focus !== '' && focus !== 'user'}>\n\t\t\t\t\t\t\t<FormSection title=\"Recipients\" subtitle=\"Who will receive this email notification\">\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<MultiColumns\n\t\t\t\t\t\t\t\t\t\tcolumns={2}\n\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t(focus === 'case' || focus === 'event') && (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox name=\"recipients.caseApplicant\" label=\"Case Applicant\" />\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t(focus === 'case' || focus === 'event') && (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"recipients.caseRespondent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Case Respondent\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tfocus === 'event' && (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox name=\"recipients.eventAttendee\" label=\"Event Attendees\" />\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</FormSection>\n\t\t\t\t\t\t</AutoHeight> */}\n\n\t\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: 'Test',\n\t\t\t\t\t\t\t\t\t\tintent: 'secondary',\n\t\t\t\t\t\t\t\t\t\ticon: <BeakerIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\tonClick: () => {},\n\t\t\t\t\t\t\t\t\t\tdisabled: !isNotNone(focus) || true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: mode === 'create' ? 'Create' : 'Update',\n\t\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t\t\t\tdisabled: !isNotNone(focus),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Form>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nconst RuleGroup: FC<{ path: string; remove: () => void }> = ({ path, remove }) => {\n\tconst formContext = useFormikContext<FormData>()\n\n\tconst {\n\t\tvalues: rules,\n\t\tarrayHelpers: { push: appendRule, remove: removeRule },\n\t} = useFieldArray(`${path}.rules`, formContext)\n\n\treturn (\n\t\t<div className=\"relative\">\n\t\t\t<div className=\"absolute top-0 right-0 -mr-3 -my-3\">\n\t\t\t\t<Actions\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ticon: <XIcon className=\"w-4 h-4 -mx-1 text-red-500\" />,\n\t\t\t\t\t\tintent: 'secondary',\n\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\tonClick: remove,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<Stack className=\"p-4 rounded-md bg-gray-100 dark:bg-gray-750\">\n\t\t\t\t{rules.map((_, i) => (\n\t\t\t\t\t<Rule\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tpath={`${path}.rules[${i}]`}\n\t\t\t\t\t\tremove={() => removeRule(i)}\n\t\t\t\t\t\tprefix={i === 0 ? 'IF' : 'AND'}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t\t<Actions\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ttitle: 'Add condition',\n\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\tonClick: () => appendRule({ entity: '', field: '', operator: '', value: '' }),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Stack>\n\t\t</div>\n\t)\n}\n\nconst Rule: FC<{ path: string; prefix: string; remove: () => void }> = ({ path, prefix, remove }) => {\n\tconst formContext = useFormikContext()\n\n\tconst entity = watchPath(formContext, `${path}.entity`) as string\n\tconst field = watchPath(formContext, `${path}.field`) as string\n\tconst operator = watchPath(formContext, `${path}.operator`) as string\n\tconst metaType = data.metaTypes.find(field)\n\tconst type = metaType?.type || 'string'\n\tconst options = metaType?.options || []\n\n\treturn (\n\t\t<div className=\"flex items-center justify-between space-x-3\">\n\t\t\t<div className=\"flex items-center space-x-3 flex-1\">\n\t\t\t\t<span className=\"text-sm font-medium text-center p-1 w-full max-w-[50px] rounded-full bg-white dark:bg-gray-800 text-indigo-600 dark:text-indigo-400 border border-gray-300 dark:border-gray-600\">\n\t\t\t\t\t{prefix}\n\t\t\t\t</span>\n\n\t\t\t\t<FormSelect\n\t\t\t\t\tname={`${path}.entity`}\n\t\t\t\t\toptions={data.entityTypes.all().map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\tclassName=\"w-full max-w-[100px]\"\n\t\t\t\t/>\n\n\t\t\t\t<FormSelect\n\t\t\t\t\tname={`${path}.field`}\n\t\t\t\t\toptions={\n\t\t\t\t\t\tdata.metaTypes\n\t\t\t\t\t\t\t.all((x) => x.entityTypeId === entity)\n\t\t\t\t\t\t\t.map((x) => ({ value: x.id, label: x.name })) || []\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"w-full max-w-[200px]\"\n\t\t\t\t/>\n\n\t\t\t\t<FormSelect\n\t\t\t\t\tname={`${path}.operator`}\n\t\t\t\t\toptions={getRuleOperatorOptions(type) || []}\n\t\t\t\t\tclassName=\"w-full max-w-[200px]\"\n\t\t\t\t/>\n\n\t\t\t\t{type === 'date' ? (\n\t\t\t\t\t<FormDate name={`${path}.value`} className=\"w-full max-w-[200px]\" />\n\t\t\t\t) : type === 'string' && operator !== 'stringEmpty' && operator !== 'stringNotEmpty' ? (\n\t\t\t\t\t<FormInput name={`${path}.value`} className=\"w-full max-w-[200px]\" />\n\t\t\t\t) : type === 'option' ? (\n\t\t\t\t\t<FormSelect\n\t\t\t\t\t\tname={`${path}.value`}\n\t\t\t\t\t\toptions={options.map((x) => ({ value: x, label: x }))}\n\t\t\t\t\t\tclassName=\"w-full max-w-[200px]\"\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<Actions\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ticon: <XIcon className=\"w-4 h-4 text-red-500 -mx-2\" />,\n\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\tonClick: remove,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default NotificationForm\n","import React, { FC } from 'react'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageNavbar from '@primer/components/PageNavbar'\nimport { RouteComponentProps } from '@reach/router'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport { BeakerIcon, DotsHorizontalIcon, PencilIcon, PlusIcon, TrashIcon } from '@heroicons/react/outline'\nimport { links } from '../Settings'\nimport SectionHeader from '@primer/components/SectionHeader'\nimport Stack from '@primer/components/Stack'\nimport { TemplateModel } from 'types/models'\nimport data from 'data'\n\nconst Templates: FC<RouteComponentProps> = () => {\n\tconst deleteNotification = (x: TemplateModel) => null\n\n\tconst schema: TableSchema<TemplateModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t],\n\t\tactions: (x) => [\n\t\t\t{\n\t\t\t\ticon: <DotsHorizontalIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tactions: [\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Edit',\n\t\t\t\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tto: `${x.id}/edit`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Test',\n\t\t\t\t\t\t\ticon: <BeakerIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => {},\n\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Delete',\n\t\t\t\t\t\t\tintent: 'danger',\n\t\t\t\t\t\t\ticon: <TrashIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => deleteNotification(x),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Settings\" />\n\n\t\t\t<PageNavbar links={links}>\n\t\t\t\t<Stack>\n\t\t\t\t\t<div className=\"px-6 pt-6\">\n\t\t\t\t\t\t<SectionHeader\n\t\t\t\t\t\t\ttitle=\"Templates\"\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Create Template',\n\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\tto: '/settings/templates/create',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Table schema={schema} items={data.templates.all()} className=\"-mb-px\" />\n\t\t\t\t</Stack>\n\t\t\t</PageNavbar>\n\t\t</>\n\t)\n}\n\nexport default Templates\n","import React, { FC } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport { navigate, RouteComponentProps } from '@reach/router'\nimport { ArrowLeftIcon, BeakerIcon, CheckIcon } from '@heroicons/react/outline'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport Actions from '@primer/components/Actions'\nimport PageContent from '@primer/components/PageContent'\nimport PageHeading from '@primer/components/PageHeading'\nimport { CardWrapper, CardContent, CardFooter } from '@primer/components/Card'\nimport Stack from '@primer/components/Stack'\nimport FormTemplateEditor from 'components/FormTemplateEditor'\nimport data from 'data'\n\ninterface FormData {\n\tname: string\n\tcontent: string\n}\n\nconst CreateTemplate: FC<RouteComponentProps<{ id: string; mode: 'create' | 'edit' }>> = ({ id, mode }) => {\n\tconst originalTemplate = data.templates.find(id)\n\n\tconst formContext = useForm<FormData>({\n\t\tinitialValues: {\n\t\t\tname: originalTemplate?.name || '',\n\t\t\tcontent: originalTemplate?.content || '',\n\t\t},\n\t\tonSubmit: (formData) => {\n\t\t\tdata.templates.save({\n\t\t\t\tid: uuid(),\n\t\t\t\t...(originalTemplate || {}),\n\t\t\t\t...formData,\n\t\t\t})\n\n\t\t\tnavigate('/settings/templates')\n\t\t},\n\t})\n\n\tconst title = mode === 'create' ? 'Create Template' : 'Edit Template'\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading\n\t\t\t\tpageTitle={title}\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ticon: <ArrowLeftIcon className=\"w-5 h-5 -mx-2\" />,\n\t\t\t\t\t\t\t\tintent: 'borderless',\n\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\tto: '/settings/templates',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>{title}</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<PageContent>\n\t\t\t\t<Form context={formContext}>\n\t\t\t\t\t<CardWrapper>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t<FormInput name=\"name\" label=\"Name\" validations={{ required: 'Name is required' }} />\n\n\t\t\t\t\t\t\t\t<FormTemplateEditor\n\t\t\t\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\t\t\t\tlabel=\"Content\"\n\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Content is required' }}\n\t\t\t\t\t\t\t\t\tfocus={'all'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</CardContent>\n\n\t\t\t\t\t\t<CardFooter>\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Test',\n\t\t\t\t\t\t\t\t\t\t\tintent: 'secondary',\n\t\t\t\t\t\t\t\t\t\t\ticon: <BeakerIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tonClick: () => {},\n\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Create',\n\t\t\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CardFooter>\n\t\t\t\t\t</CardWrapper>\n\t\t\t\t</Form>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default CreateTemplate\n","import { v4 as uuidv4 } from 'uuid'\n\nexport interface NotificationModel {\n\tid: number\n\tname: string\n\tenabled: boolean\n}\n\nexport const notifications: NotificationModel[] = [\n\t{ id: 1, name: 'ConfirmUser', enabled: true },\n\t{ id: 2, name: 'DocumentUpload', enabled: true },\n\t{ id: 3, name: 'AppointmentInquiry', enabled: true },\n\t{ id: 4, name: 'AppointmentAccepted', enabled: true },\n\t{ id: 5, name: 'TwoFactorToken', enabled: false },\n\t{ id: 6, name: 'ConfirmUser', enabled: true },\n\t{ id: 7, name: 'DocumentUpload', enabled: false },\n\t{ id: 8, name: 'AppointmentInquiry', enabled: true },\n\t{ id: 9, name: 'AppointmentAccepted', enabled: true },\n\t{ id: 10, name: 'TwoFactorToken', enabled: true },\n]\n\nexport interface UserModel {\n\tid: string\n\tfirstName: string\n\tlastName: string\n\tfullName: string\n}\n\nexport const users: UserModel[] = [\n\t{ id: uuidv4(), firstName: 'Kaya', lastName: 'Pryor', fullName: 'Kaya Pryor' },\n\t{ id: uuidv4(), firstName: 'Jacob', lastName: 'Ginnish', fullName: 'Jacob Ginnish' },\n\t{ id: uuidv4(), firstName: 'Shayan', lastName: 'Thorpe', fullName: 'Shayan Thorpe' },\n\t{ id: uuidv4(), firstName: 'Lilja', lastName: 'Peltola', fullName: 'Lilja Peltola' },\n\t{ id: uuidv4(), firstName: 'Inara', lastName: 'Britt', fullName: 'Inara Britt' },\n\t{ id: uuidv4(), firstName: 'Janely', lastName: 'Kelley', fullName: 'Janely Kelley' },\n\t{ id: uuidv4(), firstName: 'Demi', lastName: 'Wilkinson', fullName: 'Demi Wilkinson' },\n\t{ id: uuidv4(), firstName: 'Nevaeh', lastName: 'Cates', fullName: 'Nevaeh Cates' },\n\t{ id: uuidv4(), firstName: 'Jordy', lastName: 'Eubanks', fullName: 'Jordy Eubanks' },\n\t{ id: uuidv4(), firstName: 'Daniela', lastName: 'Dewitt', fullName: 'Daniela Dewitt' },\n\t{ id: uuidv4(), firstName: 'Sophie', lastName: 'French', fullName: 'Sophie French' },\n\t{ id: uuidv4(), firstName: 'Avalon', lastName: 'Carey', fullName: 'Avalon Carey' },\n\t{ id: uuidv4(), firstName: 'Glen', lastName: 'Rouse', fullName: 'Glen Rouse' },\n\t{ id: uuidv4(), firstName: 'Aada', lastName: 'Laine', fullName: 'Aada Laine' },\n\t{ id: uuidv4(), firstName: 'Dawson', lastName: 'Dixon', fullName: 'Dawson Dixon' },\n\t{ id: uuidv4(), firstName: 'Sarah', lastName: 'Steiner', fullName: 'Sarah Steiner' },\n\t{ id: uuidv4(), firstName: 'Leo', lastName: 'Fritz', fullName: 'Leo Fritz' },\n\t{ id: uuidv4(), firstName: 'Krish', lastName: 'Kendall', fullName: 'Krish Kendall' },\n\t{ id: uuidv4(), firstName: 'Regan', lastName: 'Rosen', fullName: 'Regan Rosen' },\n\t{ id: uuidv4(), firstName: 'Vilma', lastName: 'Jarvi', fullName: 'Vilma Jarvi' },\n]\n\nexport interface RoleModel {\n\tid: string\n\tname: string\n}\n\nexport const roles: RoleModel[] = [\n\t{ id: uuidv4(), name: 'Administrator' },\n\t{ id: uuidv4(), name: 'Reviewer' },\n\t{ id: uuidv4(), name: 'Mediator' },\n]\n\nexport interface EntityTypeModel {\n\tid: string\n\tname: string\n\tlabel: string\n}\n\nexport const entityTypes: EntityTypeModel[] = [\n\t{ id: uuidv4(), name: 'user', label: 'User' },\n\t{ id: uuidv4(), name: 'case', label: 'Case' },\n\t{ id: uuidv4(), name: 'event', label: 'Event' },\n]\n\nexport type MetaType = 'string' | 'number' | 'boolean' | 'option' | 'entityType' | 'entity'\n\nexport interface MetaModel {\n\tid: string\n\tname: string\n\tlabel: string\n\tplural?: string\n\ttemplate?: string\n\ttype: MetaType\n}\n\nexport const metas: MetaModel[] = [\n\t{ id: uuidv4(), name: 'casenumber', label: 'Case Number', template: 'casenumber', type: 'string' },\n\t{ id: uuidv4(), name: 'claimnumber', label: 'Claim Number', template: 'claimnumber', type: 'string' },\n\t{ id: uuidv4(), name: 'complexity', label: 'Complexity', template: 'complexity', type: 'option' },\n\t{ id: uuidv4(), name: 'type', label: 'Type', template: 'type', type: 'option' },\n\t{ id: uuidv4(), name: 'review', label: 'Review', type: 'entityType', template: 'review', plural: 'Reviews' },\n]\n","import React, { FC } from 'react'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageNavbar from '@primer/components/PageNavbar'\nimport { RouteComponentProps } from '@reach/router'\nimport { roles, RoleModel } from 'fakedata'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport { DotsHorizontalIcon, PencilIcon, PlusIcon, TrashIcon } from '@heroicons/react/outline'\nimport { links } from '../Settings'\nimport SectionHeader from '@primer/components/SectionHeader'\nimport Stack from '@primer/components/Stack'\n\nconst Roles: FC<RouteComponentProps> = () => {\n\tconst editRole = (x: RoleModel) => null\n\tconst deleteRole = (x: RoleModel) => null\n\n\tconst schema: TableSchema<RoleModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t],\n\t\tactions: (x) => [\n\t\t\t{\n\t\t\t\ticon: <DotsHorizontalIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tactions: [\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Edit',\n\t\t\t\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => editRole(x),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Delete',\n\t\t\t\t\t\t\tintent: 'danger',\n\t\t\t\t\t\t\ticon: <TrashIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => deleteRole(x),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Settings\" />\n\n\t\t\t<PageNavbar links={links}>\n\t\t\t\t<Stack>\n\t\t\t\t\t<div className=\"px-6 pt-6\">\n\t\t\t\t\t\t<SectionHeader\n\t\t\t\t\t\t\ttitle=\"Roles\"\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Create Role',\n\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\tto: '/settings/roles/create',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Table schema={schema} items={roles} className=\"-mb-px\" />\n\t\t\t\t</Stack>\n\t\t\t</PageNavbar>\n\t\t</>\n\t)\n}\n\nexport default Roles\n","import React, { ReactNode } from 'react'\nimport { FormProvider, UseFormMethods } from 'react-hook-form'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface FormProps<T> {\n\tcontext: UseFormMethods<T>\n\tonSubmit?: (x: any) => void | Promise<any>\n\tclassName?: ClassValue\n\tchildren: ReactNode\n}\n\nconst Form = <T,>({ context, onSubmit, className, children }: FormProps<T>) => {\n\treturn (\n\t\t<FormProvider {...context}>\n\t\t\t<form onSubmit={onSubmit && context.handleSubmit(onSubmit)} className={clsx(className)}>\n\t\t\t\t{children}\n\t\t\t</form>\n\t\t</FormProvider>\n\t)\n}\n\nexport default Form\n","import React, { FC, ReactNode, ElementType, useState } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { useFormContext, RegisterOptions, useController } from 'react-hook-form'\nimport { path } from 'ramda'\nimport { split } from '@primer/utils/funcs'\nimport useAutoFocus from '@primer/hooks/useAutoFocus'\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface FormInputProps {\n\tas?: ElementType | string\n\tname: string\n\ttype?: string\n\tlabel?: ReactNode\n\tdefaultValue?: any\n\tplaceholder?: string\n\tdisabled?: boolean\n\tstep?: number\n\tdescription?: string\n\tvalidations?: RegisterOptions\n\thideOptional?: boolean\n\tclassName?: ClassValue\n\tinputProps?: {\n\t\tmin?: number\n\t\tmax?: number\n\t\tstep?: number\n\t}\n\tautoFocus?: boolean\n\tcustomErrors?: {\n\t\t[x: string]: string\n\t}\n}\n\nconst FormInput: FC<FormInputProps> = ({\n\tas = 'input',\n\tname,\n\ttype = 'text',\n\tlabel,\n\tdefaultValue,\n\tplaceholder,\n\tdisabled = false,\n\tstep,\n\tdescription,\n\tvalidations = {},\n\thideOptional = false,\n\tclassName,\n\tinputProps,\n\tautoFocus,\n\tcustomErrors = {},\n}) => {\n\tconst {\n\t\terrors,\n\t\tformState: { isSubmitting },\n\t} = useFormContext()\n\n\tconst error: { type: string; message: string } | undefined = path(split(name), errors)\n\n\tconst isRequired = !!validations.required\n\n\tconst Comp = as\n\n\tconst ref = useAutoFocus<HTMLInputElement>(!!autoFocus)\n\n\tconst {\n\t\tfield: { onChange, onBlur, value },\n\t} = useController({ name, defaultValue, rules: validations })\n\n\tconst [token] = useState(uuidv4())\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<div\n\t\t\t\tclassName=\"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 cursor-default\"\n\t\t\t\tonClick={() => ref.current?.focus()}\n\t\t\t>\n\t\t\t\t{label && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{label}{' '}\n\t\t\t\t\t\t{!isRequired && !hideOptional && (\n\t\t\t\t\t\t\t<span className=\"text-gray-400 dark:text-gray-300 font-normal text-xs leading-4 opacity-75\">\n\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"text-[0px] leading-none select-none\">{token}</div>\n\n\t\t\t<div className={clsx('relative rounded-md', label && 'mt-1')}>\n\t\t\t\t<Comp\n\t\t\t\t\ttype={type}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tref={ref}\n\t\t\t\t\tdisabled={disabled || isSubmitting}\n\t\t\t\t\tvalue={value !== null ? value : ''}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t// autoFocus={autoFocus}\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t'form-input block w-full sm:text-sm sm:leading-5',\n\t\t\t\t\t\terror &&\n\t\t\t\t\t\t\t'pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500'\n\t\t\t\t\t)}\n\t\t\t\t\t{...(Comp === 'input' ? inputProps : {})}\n\t\t\t\t/>\n\n\t\t\t\t{error && (\n\t\t\t\t\t<div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n\t\t\t\t\t\t<svg className=\"h-5 w-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\"\n\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{description && !error && <p className=\"mt-2 text-sm text-gray-500\">{description}</p>}\n\n\t\t\t{error && error.message && <p className=\"mt-2 text-sm text-red-600\">{error.message}</p>}\n\t\t\t{error && error.type && customErrors[error.type] && (\n\t\t\t\t<p className=\"mt-2 text-sm text-red-600\">{customErrors[error.type]}</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default FormInput\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { useController, useFormContext } from 'react-hook-form'\n\ninterface FormCheckboxProps {\n\tname: string\n\tlabel?: ReactNode\n\tdefaultValue?: any\n\tdisabled?: boolean\n\tinputClassName?: ClassValue\n\tclassName?: ClassValue\n\tcolor?: string\n}\n\nconst FormCheckbox: FC<FormCheckboxProps> = ({\n\tname,\n\tlabel,\n\tdefaultValue,\n\tdisabled,\n\tinputClassName,\n\tcolor = 'text-primary-600 dark:text-emerald-500',\n\tclassName,\n}) => {\n\tconst {\n\t\tformState: { isSubmitting },\n\t} = useFormContext()\n\n\tconst {\n\t\tfield: { onChange, value },\n\t} = useController({ name, defaultValue })\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<label className=\"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={value}\n\t\t\t\t\tonChange={(e) => onChange(e.target.checked)}\n\t\t\t\t\tclassName={clsx('form-checkbox', inputClassName, {\n\t\t\t\t\t\t[color]: !disabled,\n\t\t\t\t\t\t'text-gray-400': disabled,\n\t\t\t\t\t})}\n\t\t\t\t\tdisabled={disabled || isSubmitting}\n\t\t\t\t/>\n\t\t\t\t{label && <span className=\"ml-3\">{label}</span>}\n\t\t\t</label>\n\t\t</div>\n\t)\n}\n\nexport default FormCheckbox\n","import React, { ChangeEvent, FC } from 'react'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface CheckboxProps {\n\tchecked: boolean\n\tname?: string\n\tlabel?: string\n\tclassName?: ClassValue\n\tdisabled?: boolean\n\tonChange?: (event: ChangeEvent<HTMLInputElement>) => void\n\tcolor?: string\n}\n\nconst Checkbox: FC<CheckboxProps> = ({\n\tchecked,\n\tname,\n\tlabel = '',\n\tclassName,\n\tdisabled,\n\tonChange,\n\tcolor = 'text-emerald-600 dark:text-emerald-500',\n}) => {\n\treturn (\n\t\t<label\n\t\t\tclassName={clsx(\n\t\t\t\t'text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-start cursor-pointer',\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tname={name}\n\t\t\t\tid={name}\n\t\t\t\tchecked={checked}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonChange={onChange}\n\t\t\t\tclassName={clsx('form-checkbox rounded-sm border-gray-300 mt-1', {\n\t\t\t\t\t[color]: !disabled,\n\t\t\t\t\t'text-gray-400': disabled,\n\t\t\t\t})}\n\t\t\t/>\n\t\t\t{label && <span className=\"ml-3 mt-0.5 select-none\">{label}</span>}\n\t\t</label>\n\t)\n}\n\nexport default Checkbox\n","import React, { FC } from 'react'\nimport Actions from './Actions'\nimport { ActionType } from '@primer/types'\nimport clsx, { ClassValue } from 'clsx'\nimport ButtonSpacer from './ButtonSpacer'\n\ninterface CardHeaderProps {\n\ttitle: string\n\tsubtitle?: string\n\tactions?: ActionType[]\n\tclassName?: ClassValue\n}\n\nconst CardHeader: FC<CardHeaderProps> = ({ title, subtitle, actions, className }) => {\n\treturn (\n\t\t<div className=\"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-600\">\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'flex flex-col sm:flex-row justify-between items-start sm:items-center flex-wrap sm:flex-nowrap space-y-4 sm:space-y-0',\n\t\t\t\t\tclassName\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100\">{title}</h3>\n\t\t\t\t\t{subtitle && <p className=\"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-400\">{subtitle}</p>}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex-shrink-0 my-0 sm:-my-2\">\n\t\t\t\t\t{actions && actions.length > 0 ? (\n\t\t\t\t\t\t<Actions actions={actions} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"hidden sm:block\">\n\t\t\t\t\t\t\t<ButtonSpacer />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CardHeader\n","import React, { FC, useState } from 'react'\nimport { RouteComponentProps } from '@reach/router'\nimport { useForm } from 'react-hook-form'\nimport { ArrowLeftIcon, CheckIcon, FilterIcon } from '@heroicons/react/outline'\nimport Form from '@primer/components/Form/Form'\nimport FormInput from '@primer/components/Form/FormInput'\nimport Actions from '@primer/components/Actions'\nimport PageContent from '@primer/components/PageContent'\nimport PageHeading from '@primer/components/PageHeading'\nimport Card, { CardWrapper } from '@primer/components/Card'\nimport Stack from '@primer/components/Stack'\nimport FormCheckbox from '@primer/components/Form/FormCheckbox'\nimport clsx from 'clsx'\nimport Checkbox from '@primer/components/Checkbox'\nimport CardHeader from '@primer/components/CardHeader'\n\nconst userPermissions = [\n\t{ name: 'createUser', label: 'Create User' },\n\t{ name: 'viewUserDetails', label: 'View User Details' },\n\t{ name: 'updateUserDetails', label: 'Update User Details' },\n\t{ name: 'viewUserRole', label: 'View User Role' },\n\t{ name: 'updateUserRole', label: 'Update User Role' },\n\t{ name: 'deleteUser', label: 'Delete User' },\n\t{ name: 'viewUserCases', label: 'View User Cases' },\n\t{ name: 'viewUserNotifications', label: 'View User Notifications' },\n]\n\nconst casePermissions = [\n\t{ name: 'createCase', label: 'Create Case' },\n\t{ name: 'viewCaseDetails', label: 'View Case Details' },\n\t{ name: 'updateCaseDetails', label: 'Update Case Details' },\n\t{ name: 'updateCaseRole', label: 'Update Case Role' },\n\t{ name: 'deleteCase', label: 'Delete Case' },\n]\n\nconst eventPermissions = [\n\t{ name: 'createEvent', label: 'Create Event' },\n\t{ name: 'updateEventDetails', label: 'Update Event Details' },\n\t{ name: 'updateEventRole', label: 'Update Event Role' },\n\t{ name: 'deleteEvent', label: 'Delete Event' },\n\t{ name: 'addEvent', label: 'Delete Event' },\n]\n\ninterface PermissionSet {\n\t[x: string]: boolean\n}\n\ninterface FormData {\n\tname: string\n\tpermissions: PermissionSet\n}\n\nconst CreateRole: FC<RouteComponentProps> = () => {\n\tconst formContext = useForm<FormData>({\n\t\tdefaultValues: {\n\t\t\tname: '',\n\t\t\tpermissions: {\n\t\t\t\t...userPermissions.reduce(\n\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t[name]: !!Math.floor(Math.random() * 2),\n\t\t\t\t\t}),\n\t\t\t\t\t{}\n\t\t\t\t),\n\t\t\t\t...casePermissions.reduce(\n\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t[name]: !!Math.floor(Math.random() * 2),\n\t\t\t\t\t}),\n\t\t\t\t\t{}\n\t\t\t\t),\n\t\t\t\t...eventPermissions.reduce(\n\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t[name]: !!Math.floor(Math.random() * 2),\n\t\t\t\t\t}),\n\t\t\t\t\t{}\n\t\t\t\t),\n\t\t\t},\n\t\t},\n\t})\n\n\tconst permissions = formContext.watch('permissions')\n\n\tconst [userPermissionsFilter, setUserPermissionsFilter] = useState('')\n\tconst [eventPermissionsFilter, setEventPermissionsFilter] = useState('')\n\tconst [casePermissionsFilter, setCasePermissionsFilter] = useState('')\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading\n\t\t\t\tpageTitle=\"Create Role\"\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ticon: <ArrowLeftIcon className=\"w-5 h-5 -mx-2\" />,\n\t\t\t\t\t\t\t\tintent: 'borderless',\n\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\tto: '/settings/roles',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>Create Role</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<PageContent>\n\t\t\t\t<Form context={formContext} onSubmit={() => {}}>\n\t\t\t\t\t<Stack>\n\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\theader={<CardHeader title=\"Details\" subtitle=\"Basic details about the role\"></CardHeader>}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Name is required' }}\n\t\t\t\t\t\t\t\t\tclassName=\"w-[300px]\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t<CardWrapper>\n\t\t\t\t\t\t\t<CardHeader title=\"Permissions\" subtitle=\"What is the role allowed to do\" />\n\n\t\t\t\t\t\t\t<div className=\"py-6 px-2 flex flex-col sm:flex-row space-y-6 sm:space-y-0 divide-x divide-gray-200\">\n\t\t\t\t\t\t\t\t<div className=\"flex-1 px-4\">\n\t\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-lg\">Users</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-input block w-full sm:text-xs sm:leading-4 pl-8\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={userPermissionsFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserPermissionsFilter(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<FilterIcon className=\"w-4 h-4 absolute top-0 left-0 mt-2.5 ml-2.5 text-gray-400\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4 pb-3 border-b border-gray-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={Object.entries(permissions)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t([name]) => !!userPermissions.find((x) => x.name === name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce<boolean>((bool, [_, val]) => bool && val, true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.setValue('permissions', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...permissions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...userPermissions.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[name]: e.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Check All\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t{userPermissions.map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`permissions.${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={x.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(userPermissionsFilter.toLowerCase()) > -1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'mb-6 last:mb-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"flex-1 px-4\">\n\t\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-lg\">Cases</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-input block w-full sm:text-xs sm:leading-4 pl-8\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={casePermissionsFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setCasePermissionsFilter(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<FilterIcon className=\"w-4 h-4 absolute top-0 left-0 mt-2.5 ml-2.5 text-gray-400\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4 pb-3 border-b border-gray-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={Object.entries(permissions)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t([name]) => !!casePermissions.find((x) => x.name === name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce<boolean>((bool, [_, val]) => bool && val, true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.setValue('permissions', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...permissions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...casePermissions.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[name]: e.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Check All\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{casePermissions.map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`permissions.${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={x.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(casePermissionsFilter.toLowerCase()) > -1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'mb-6 last:mb-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"flex-1 px-4\">\n\t\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-lg\">Events</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-input block w-full sm:text-xs sm:leading-4 pl-8\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={eventPermissionsFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEventPermissionsFilter(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<FilterIcon className=\"w-4 h-4 absolute top-0 left-0 mt-2.5 ml-2.5 text-gray-400\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4 pb-3 border-b border-gray-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={Object.entries(permissions)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t([name]) => !!eventPermissions.find((x) => x.name === name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce<boolean>((bool, [_, val]) => bool && val, true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformContext.setValue('permissions', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...permissions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...eventPermissions.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(perms, { name }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...perms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[name]: e.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Check All\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{eventPermissions.map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`permissions.${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={x.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(eventPermissionsFilter.toLowerCase()) > -1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'mb-6 last:mb-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CardWrapper>\n\n\t\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: 'Create',\n\t\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Form>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default CreateRole\n","import React, { FC } from 'react'\nimport PageHeading from '@primer/components/PageHeading'\nimport { RouteComponentProps } from '@reach/router'\nimport data from 'data'\nimport { EntityTypeModel } from 'types/models'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport { DotsHorizontalIcon, PencilIcon, PlusIcon, TrashIcon } from '@heroicons/react/outline'\nimport { links } from '../Settings'\nimport PageNavbar from '@primer/components/PageNavbar'\nimport Stack from '@primer/components/Stack'\nimport SectionHeader from '@primer/components/SectionHeader'\n\nconst Entities: FC<RouteComponentProps> = () => {\n\tconst deleteRole = (x: EntityTypeModel) => data.entityTypes.remove(x.id)\n\n\tconst schema: TableSchema<EntityTypeModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Field Types',\n\t\t\t\tvalue: (x) => data.metaTypes.all((y) => y.entityTypeId === x.id).length || '',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Actions',\n\t\t\t\tvalue: (x) => data.entityActions.all((y) => y.entityTypeId === x.id).length || '',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Connections',\n\t\t\t\tvalue: (x) => data.entityConnections.all((y) => y.entityTypeId === x.id).length || '',\n\t\t\t},\n\t\t],\n\t\tactions: (x) => [\n\t\t\t{\n\t\t\t\ticon: <DotsHorizontalIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tactions: [\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Edit',\n\t\t\t\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tto: `${x.id}/edit`,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Delete',\n\t\t\t\t\t\t\tintent: 'danger',\n\t\t\t\t\t\t\ticon: <TrashIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tonClick: () => deleteRole(x),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Settings\" />\n\n\t\t\t<PageNavbar links={links}>\n\t\t\t\t<Stack>\n\t\t\t\t\t<div className=\"px-6 pt-6\">\n\t\t\t\t\t\t<SectionHeader\n\t\t\t\t\t\t\ttitle=\"Entity Types\"\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Create Entity Type',\n\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\tto: '/settings/entities/create',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"overflow-hidden rounded-br-md\">\n\t\t\t\t\t\t<Table schema={schema} items={data.entityTypes.all()} className=\"-mb-px\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Stack>\n\t\t\t</PageNavbar>\n\t\t</>\n\t)\n}\n\nexport default Entities\n","import React, { FC, Component, ElementType, Suspense } from 'react'\nimport DefaultLoader from '@primer/components/Loader'\nimport * as Sentry from '@sentry/react'\nimport { isNotNone } from '@primer/types'\n\ninterface ErrorBoundaryProps {\n\trender: ElementType\n}\n\ninterface ErrorBoundaryState {\n\terror?: Error\n}\n\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n\tstatic getDerivedStateFromError(error: Error) {\n\t\treturn { error }\n\t}\n\n\tcomponentDidCatch(error: Error) {\n\t\t// You can also log the error to an error reporting service\n\t\t// logErrorToMyService(error, info)\n\t\tSentry.captureException(error)\n\t\tconsole.dir(error)\n\t}\n\n\trender() {\n\t\tif (isNotNone(this.state?.error)) {\n\t\t\treturn <this.props.render error={this.state.error} />\n\t\t}\n\n\t\treturn this.props.children\n\t}\n}\n\ninterface DefaultErrorProps {\n\terror: Error\n}\n\nexport const defaultError: FC<DefaultErrorProps> = ({ error }) => (\n\t<div className=\"alert alert-danger\" role=\"alert\">\n\t\t<h4 className=\"alert-heading\">Something went wrong</h4>\n\t\t<hr />\n\t\t{error.message && <p className=\"m-0\">{error.message}</p>}\n\t</div>\n)\n\nconst withSuspense =\n\t(Component: ElementType, { loader = <DefaultLoader />, error = defaultError } = {}) =>\n\t(props: any) => {\n\t\treturn (\n\t\t\t<ErrorBoundary render={error}>\n\t\t\t\t<Suspense fallback={loader}>\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t</Suspense>\n\t\t\t</ErrorBoundary>\n\t\t)\n\t}\n\nconst Suspender = withSuspense(({ render }) => render)\n\nexport default Suspender\n","import React, { FC, ReactNode } from 'react'\nimport { slideout } from '@primer/alerts'\nimport Suspender from '@primer/components/Suspender'\nimport Actions from '@primer/components/Actions'\nimport { ActionType, SlideoutResolveFn } from '@primer/types'\nimport { SizeValue } from '@primer/alerts/Slideout'\nimport { XIcon } from '@heroicons/react/outline'\nimport clsx, { ClassValue } from 'clsx'\n\ntype CloseFn = () => void\n\ninterface OpenSlideoutProps<T> {\n\trender: (close: SlideoutResolveFn<boolean | T>) => ReactNode\n\tsize?: SizeValue\n\tmode?: 'dark' | ''\n}\n\nasync function openSlideout<T>({ render, size = 'md', mode = '' }: OpenSlideoutProps<T>) {\n\treturn await slideout<T>({\n\t\tsize,\n\t\tmode,\n\t\tchildren: (close) => <SlideoutInner render={render} close={close} />,\n\t})\n}\n\ninterface SlideoutInnerProps {\n\trender: (x: CloseFn) => ReactNode\n\tclose: CloseFn\n}\n\nconst SlideoutInner: FC<SlideoutInnerProps> = ({ render, close }) => {\n\treturn (\n\t\t<div className=\"h-full w-screen max-w-md relative\">\n\t\t\t<div className=\"absolute top-0 left-0 -mx-12 mt-2\">\n\t\t\t\t<Actions\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: <XIcon className=\"w-5 h-5 -mx-2 text-white\" />,\n\t\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\t\tonClick: () => close(),\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\" h-full divide-y divide-gray-200 dark:divide-gray-600 flex flex-col bg-white dark:bg-gray-700 shadow-xl\">\n\t\t\t\t<div className=\"flex-1 h-0 flex flex-col\">\n\t\t\t\t\t<Suspender render={render(close)} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\ninterface SlideoutHeaderProps {\n\ttitle: ReactNode\n\tsubtitle?: ReactNode\n\tactions?: ActionType[]\n}\n\nexport const SlideoutHeader: FC<SlideoutHeaderProps> = ({ title, subtitle, actions }) => {\n\treturn (\n\t\t<div className=\"py-6 px-4 bg-gray-100 dark:bg-gray-800 sm:px-6 flex-shrink-0\">\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<div className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">{title}</div>\n\t\t\t\t<div className=\"ml-3 h-7 flex items-center\">{actions && <Actions actions={actions} />}</div>\n\t\t\t</div>\n\t\t\t{subtitle && (\n\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t<div className=\"text-sm text-gray-500 dark:text-gray-400\">{subtitle}</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\ninterface SlideoutContentProps {\n\tclassName?: ClassValue\n}\n\nexport const SlideoutContent: FC<SlideoutContentProps> = ({ className, children }) => {\n\treturn <div className={clsx('flex-1 flex flex-col justify-between overflow-y-auto', className)}>{children}</div>\n}\n\nexport default openSlideout\n","import React, { ChangeEvent, ElementType, FC, ReactNode, useState } from 'react'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\nimport useAutoFocus from '@primer/hooks/useAutoFocus'\nimport { FormValidations, validate } from './utils'\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface FormInputProps {\n\tas?: ElementType | string\n\tname: string\n\tlabel?: ReactNode\n\ttype?: string\n\tclassName?: ClassValue\n\tautoFocus?: boolean\n\tvalidations?: FormValidations\n\tplaceholder?: string\n\tdisabled?: boolean\n\tstep?: number\n\tinputProps?: {\n\t\tmin?: number\n\t\tmax?: number\n\t\tstep?: number\n\t\tclassName?: string\n\t}\n}\n\nconst FormInput: FC<FormInputProps> = ({\n\tas = 'input',\n\tname,\n\tlabel,\n\ttype = 'text',\n\tclassName,\n\tautoFocus = false,\n\tvalidations = {},\n\tplaceholder,\n\tdisabled = false,\n\tinputProps = {},\n}) => {\n\tconst ref = useAutoFocus<HTMLInputElement>(autoFocus)\n\n\tconst Comp = as\n\n\tconst [{ value }, , { setValue, setTouched }] = useField({\n\t\tname,\n\t\ttype,\n\t\tvalidate: validate(validations),\n\t})\n\n\tconst formik = useFormikContext()\n\n\tconst [token] = useState(uuidv4())\n\n\tconst { className: extraClassName, ...extraProps } = inputProps\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<div className=\"text-[0px] leading-none select-none\">{token}</div>\n\n\t\t\t<div className={clsx('relative rounded-md', label && 'mt-1')}>\n\t\t\t\t<Comp\n\t\t\t\t\tref={ref}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => setValue(e.target.value)}\n\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\tsetTouched(true)\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tdisabled={disabled || formik.isSubmitting}\n\t\t\t\t\tclassName={clsx(extraClassName)}\n\t\t\t\t\t{...(Comp === 'input' ? extraProps : {})}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FormInput\n","import clsx, { ClassValue } from 'clsx'\nimport React, { FC } from 'react'\n\ninterface TableFrameProps {\n\tclassName?: ClassValue\n}\n\nconst TableFrame: FC<TableFrameProps> = ({ children, className }) => {\n\treturn (\n\t\t<div className={clsx('border border-gray-200 dark:border-gray-600 rounded-md overflow-hidden', className)}>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nexport default TableFrame\n","import React, { FC } from 'react'\nimport openSlideout, { SlideoutHeader, SlideoutContent } from '@primer/hooks/openSlideout'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport { watch } from '@primer/components/Form2/utils'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport FormSelect from '@primer/components/Form2/FormSelect'\nimport Stack from '@primer/components/Stack'\nimport { MetaType, MetaTypeModel, RoleModel, Unsaved } from 'types/models'\nimport FormDate from '@primer/components/Form2/FormDate'\nimport { CheckIcon, PlusIcon, XIcon } from '@heroicons/react/outline'\nimport Actions from '@primer/components/Actions'\nimport FormInputRaw from '@primer/components/Form2/FormInputRaw'\nimport useFieldArray from '@primer/components/Form2/useFieldArray'\nimport clsx from 'clsx'\nimport { SlideoutResolveFn } from '@primer/types'\nimport { slugify } from '@primer/utils/funcs'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport FormLabel from '@primer/components/Form2/FormLabel'\nimport TableFrame from '@primer/components/TableFrame'\nimport { roles } from 'fakedata'\n\nexport const typeOptions = [\n\t{ value: 'string', label: 'Text' },\n\t{ value: 'number', label: 'Number' },\n\t{ value: 'boolean', label: 'Boolean' },\n\t{ value: 'date', label: 'Date' },\n\t{ value: 'option', label: 'Options' },\n]\n\ninterface OpenMetaTypeProps {\n\tmode?: 'create' | 'edit'\n\tdata: MetaTypeModel\n}\n\nconst openMetaType = (props: OpenMetaTypeProps) => {\n\treturn openSlideout<MetaTypeModel | Unsaved<MetaTypeModel>>({\n\t\trender: (close) => <Component close={close} {...props} />,\n\t})\n}\n\ninterface FormSchema {\n\tentityTypeId: string\n\tname: string\n\tplural?: string\n\ttemplate?: string\n\ttype: MetaType\n\toptions: string[]\n}\n\nconst Component: FC<OpenMetaTypeProps & { close: SlideoutResolveFn<MetaTypeModel | Unsaved<MetaTypeModel>> }> = ({\n\tmode = 'create',\n\tdata,\n\tclose,\n}) => {\n\tconst formContext = useForm<FormSchema>({\n\t\tinitialValues: data as FormSchema,\n\t\tonSubmit: (formData) => {\n\t\t\tclose({\n\t\t\t\t...formData,\n\t\t\t\tkey: slugify(formData.name),\n\t\t\t})\n\t\t},\n\t})\n\n\tconst type = watch(formContext, 'type')\n\tconst { values: options, arrayHelpers: optionsHelpers } = useFieldArray('options', formContext)\n\n\tconst permissionsSchema: TableSchema<RoleModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Role',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'View',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Modify',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<Form context={formContext} className=\"contents\">\n\t\t\t<SlideoutHeader title={mode === 'edit' ? 'Edit Meta Type' : 'Create Meta Type'} />\n\n\t\t\t<SlideoutContent>\n\t\t\t\t<Stack className=\"py-6\">\n\t\t\t\t\t<div className=\"px-6\">\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Name is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\t\toptions={typeOptions}\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Type is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{type === 'string' && <FormInput name=\"defaultValue\" label=\"Default Value\" />}\n\t\t\t\t\t\t\t{type === 'number' && <FormInput name=\"defaultValue\" label=\"Default Value\" type=\"number\" />}\n\t\t\t\t\t\t\t{type === 'boolean' && (\n\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\tname=\"defaultValue\"\n\t\t\t\t\t\t\t\t\tlabel=\"Default Value\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ value: 0, label: 'False' },\n\t\t\t\t\t\t\t\t\t\t{ value: 1, label: 'True' },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{type === 'date' && <FormDate name=\"defaultValue\" label=\"Default Value\" />}\n\t\t\t\t\t\t\t{type === 'option' && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{options.map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute z-[2] top-0 left-0 ml-3 h-full flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs font-medium rounded-full w-5 h-5 bg-gray-200 dark:bg-gray-700 dark:text-gray-100 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<FormInputRaw\n\t\t\t\t\t\t\t\t\t\t\t\tname={`options[${i}]`}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'py-2 pl-12 pr-8 -mb-px relative text-sm w-full border border-gray-300 dark:border-gray-600 focus:z-[1] focus:ring-1 focus:ring-primary-500 focus:border-primary-500 dark:focus:border-primary-500 bg-white dark:bg-gray-800 dark:text-gray-100',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti === 0 && 'rounded-t-md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti === options.length - 1 && 'rounded-b-md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{options.length > 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute z-[1] top-0 right-0 mr-3 h-full flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full w-5 h-5 bg-red-100 dark:bg-red-500 dark:bg-opacity-25 text-red-500 flex items-center justify-center focus:ring-2 focus:ring-red-500 transition-shadow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => optionsHelpers.remove(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<XIcon className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2 flex justify-end\">\n\t\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add Option',\n\t\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => optionsHelpers.push(''),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<FormInput name=\"defaultValue\" label=\"Default Value\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FormInput name=\"description\" label=\"Description\" />\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<FormLabel>Permissions</FormLabel>\n\t\t\t\t\t\t\t\t<TableFrame className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<Table schema={permissionsSchema} items={roles} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</TableFrame>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</div>\n\t\t\t\t</Stack>\n\t\t\t</SlideoutContent>\n\n\t\t\t<div className=\"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end\">\n\t\t\t\t<Actions\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Cancel',\n\t\t\t\t\t\t\tonClick: () => close(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Save',\n\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tintent: 'save',\n\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n\nexport default openMetaType\n","import clsx, { ClassValue } from 'clsx'\nimport React, { FC } from 'react'\n\ninterface WellProps {\n\tclassName?: ClassValue\n\tonClick?: () => void\n}\n\nconst Well: FC<WellProps> = ({ children, className, onClick }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\t'p-4 bg-gray-100 dark:bg-gray-750 border border-gray-200 dark:border-gray-600 rounded',\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nexport default Well\n","import React, { FC } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport openSlideout, { SlideoutHeader, SlideoutContent } from '@primer/hooks/openSlideout'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport Stack from '@primer/components/Stack'\nimport { EntityActionChangeModel, EntityActionModel, MetaTypeModel, RoleModel, Unsaved } from 'types/models'\nimport { CheckIcon, PlusIcon } from '@heroicons/react/outline'\nimport Actions from '@primer/components/Actions'\nimport useFieldArray from '@primer/components/Form2/useFieldArray'\nimport FormLabel from '@primer/components/Form2/FormLabel'\nimport { SlideoutResolveFn } from '@primer/types'\nimport FormSelect from '@primer/components/Form2/FormSelect'\nimport Well from '@primer/components/Well'\nimport { slugify } from '@primer/utils/funcs'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport TableFrame from '@primer/components/TableFrame'\nimport { roles } from 'fakedata'\n\ninterface OpenEntityActionProps {\n\tmode?: 'create' | 'edit'\n\tdata: EntityActionModel\n\tmetaTypes: MetaTypeModel[]\n}\n\nconst openEntityAction = (props: OpenEntityActionProps) => {\n\treturn openSlideout<EntityActionModel | Unsaved<EntityActionModel>>({\n\t\trender: (close) => <Component close={close} {...props} />,\n\t})\n}\n\ninterface FormSchema {\n\tentityTypeId: string\n\tname: string\n\tchanges?: EntityActionChangeModel[]\n}\n\nconst Component: FC<\n\tOpenEntityActionProps & { close: SlideoutResolveFn<EntityActionModel | Unsaved<EntityActionModel>> }\n> = ({ mode = 'create', data, metaTypes, close }) => {\n\tconst formContext = useForm<FormSchema>({\n\t\tinitialValues: data as FormSchema,\n\t\tonSubmit: (formData) => {\n\t\t\tclose({\n\t\t\t\t...formData,\n\t\t\t\tkey: slugify(formData.name),\n\t\t\t})\n\t\t},\n\t})\n\n\tconst { values: changes, arrayHelpers: changesHelpers } = useFieldArray('changes', formContext)\n\n\tconst getMetaType = (id: string) => metaTypes.find((x) => x.id === id)\n\n\tconst permissionsSchema: TableSchema<RoleModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Role',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'View',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Modify',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<Form context={formContext} className=\"contents\">\n\t\t\t<SlideoutHeader title={mode === 'edit' ? 'Edit Action' : 'Create Action'} />\n\n\t\t\t<SlideoutContent>\n\t\t\t\t<Stack className=\"py-6\">\n\t\t\t\t\t<div className=\"px-6\">\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\tname=\"label\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Name is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Well>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t{changes.map((change, i) => (\n\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <FormInput name={`${path}.changes[${i}].newValue`} label=\"New Value\" /> */}\n\t\t\t\t\t\t\t\t\t\t\t<FormLabel>Change</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`changes[${i}].metaType`}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={metaTypes.map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t{/** @ts-ignore */}\n\t\t\t\t\t\t\t\t\t\t\t{getMetaType(change.metaType)?.type === 'boolean' && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>to</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`changes[${i}].newValue`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: 'True', value: 'true' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: 'False', value: 'false' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{/** @ts-ignore */}\n\t\t\t\t\t\t\t\t\t\t\t{getMetaType(change.metaType)?.type === 'string' && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>to</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput name={`changes[${i}].newValue`} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{/** @ts-ignore */}\n\t\t\t\t\t\t\t\t\t\t\t{getMetaType(change.metaType)?.type === 'date' && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>to</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-[300px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`changes[${i}].newValue`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={[{ label: 'Current Time', value: 'current-time' }]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add change',\n\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tchangesHelpers.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserDefined: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Well>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<FormLabel>Permissions</FormLabel>\n\t\t\t\t\t\t\t\t<TableFrame className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<Table schema={permissionsSchema} items={roles} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</TableFrame>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</div>\n\t\t\t\t</Stack>\n\t\t\t</SlideoutContent>\n\n\t\t\t<div className=\"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end\">\n\t\t\t\t<Actions\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Cancel',\n\t\t\t\t\t\t\tonClick: () => close(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Save',\n\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tintent: 'save',\n\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n\nexport default openEntityAction\n","import React, { FC } from 'react'\nimport openSlideout, { SlideoutHeader, SlideoutContent } from '@primer/hooks/openSlideout'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport Stack from '@primer/components/Stack'\nimport { ConnectionType, EntityConnectionModel, RoleModel, Unsaved } from 'types/models'\nimport { CheckIcon } from '@heroicons/react/outline'\nimport Actions from '@primer/components/Actions'\nimport { SlideoutResolveFn } from '@primer/types'\nimport FormSelect from '@primer/components/Form2/FormSelect'\nimport db from 'data'\nimport { slugify } from '@primer/utils/funcs'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport FormLabel from '@primer/components/Form2/FormLabel'\nimport TableFrame from '@primer/components/TableFrame'\nimport { roles } from 'fakedata'\n\nexport const connectionTypeOptions = [\n\t{ value: 'one-to-one', label: 'Single' },\n\t{ value: 'one-to-many', label: 'Many' },\n]\n\ninterface OpenEntityConnectionProps {\n\tmode?: 'create' | 'edit'\n\tdata: EntityConnectionModel\n}\n\nconst openEntityConnection = (props: OpenEntityConnectionProps) => {\n\treturn openSlideout<EntityConnectionModel | Unsaved<EntityConnectionModel>>({\n\t\trender: (close) => <Component close={close} {...props} />,\n\t})\n}\n\ninterface FormSchema {\n\tname: string\n\tentityTypeId: string\n\trelationId: string\n\ttype: ConnectionType\n}\n\nconst Component: FC<\n\tOpenEntityConnectionProps & { close: SlideoutResolveFn<EntityConnectionModel | Unsaved<EntityConnectionModel>> }\n> = ({ mode = 'create', data, close }) => {\n\tconst formContext = useForm<FormSchema>({\n\t\tinitialValues: data as FormSchema,\n\t\tonSubmit: (formData) => {\n\t\t\tclose({\n\t\t\t\t...formData,\n\t\t\t\tkey: slugify(formData.name),\n\t\t\t})\n\t\t},\n\t})\n\n\tconst permissionsSchema: TableSchema<RoleModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Role',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'View',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Modify',\n\t\t\t\tvalue: (_, i) => (\n\t\t\t\t\t<div className=\"w-full flex justify-center\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclassName=\"form-checkbox text-primary-500\"\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\twidth: 'minmax(auto, max-content)',\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<Form context={formContext} className=\"contents\">\n\t\t\t<SlideoutHeader title={mode === 'edit' ? 'Edit Connection' : 'Create Connection'} />\n\n\t\t\t<SlideoutContent>\n\t\t\t\t<Stack className=\"py-6\">\n\t\t\t\t\t<div className=\"px-6\">\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<FormInput name=\"name\" label=\"Name\" validations={{ required: 'Name is required' }} />\n\n\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\tname=\"relationId\"\n\t\t\t\t\t\t\t\tlabel=\"Entity Type\"\n\t\t\t\t\t\t\t\toptions={db.entityTypes.all().map((x) => ({ value: x.id, label: x.name }))}\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Entity Type is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\t\t\tlabel=\"Cardinality\"\n\t\t\t\t\t\t\t\toptions={connectionTypeOptions}\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Cardinality is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<FormLabel>Permissions</FormLabel>\n\t\t\t\t\t\t\t\t<TableFrame className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<Table schema={permissionsSchema} items={roles} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</TableFrame>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</div>\n\t\t\t\t</Stack>\n\t\t\t</SlideoutContent>\n\n\t\t\t<div className=\"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-750 flex justify-end\">\n\t\t\t\t<Actions\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Cancel',\n\t\t\t\t\t\t\tonClick: () => close(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Save',\n\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\tintent: 'save',\n\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n\nexport default openEntityConnection\n","import React, { FC } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport Card, { CardWrapper } from '@primer/components/Card'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageContent from '@primer/components/PageContent'\nimport { navigate, RouteComponentProps } from '@reach/router'\nimport { ArrowLeftIcon, CheckIcon, PencilIcon, PlusIcon, XIcon } from '@heroicons/react/outline'\nimport Actions from '@primer/components/Actions'\nimport Stack from '@primer/components/Stack'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport data from 'data'\nimport { EntityActionModel, EntityConnectionModel, MetaTypeModel } from 'types/models'\nimport useFieldArray from '@primer/components/Form2/useFieldArray'\nimport FormSection from '@primer/components/Form2/FormSection'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport openMetaType, { typeOptions } from 'slideouts/openMetaType'\nimport openEntityAction from 'slideouts/openEntityAction'\nimport { confirm } from '@primer/alerts'\nimport { slugify } from '@primer/utils/funcs'\nimport openEntityConnection, { connectionTypeOptions } from 'slideouts/openEntityConnection'\n\ninterface FormSchema {\n\tname: string\n\tplural: string\n\tmetaTypes: MetaTypeModel[]\n\tentityActions: EntityActionModel[]\n\tentityConnections: EntityConnectionModel[]\n}\n\nconst EditEntityType: FC<RouteComponentProps<{ id: string; mode: 'create' | 'edit' }>> = ({ id, mode }) => {\n\tconst original = data.entityTypes.find(id)\n\tconst originalMetaTypes = data.metaTypes.all((x) => x.entityTypeId === id)\n\tconst originalEntityActions = data.entityActions.all((x) => x.entityTypeId === id)\n\tconst originalEntityConnections = data.entityConnections.all((x) => x.entityTypeId === id)\n\n\tconst formContext = useForm<FormSchema>({\n\t\tinitialValues: {\n\t\t\tname: original?.name || '',\n\t\t\tplural: original?.plural || '',\n\t\t\tmetaTypes: originalMetaTypes || [],\n\t\t\tentityActions: originalEntityActions || [],\n\t\t\tentityConnections: originalEntityConnections || [],\n\t\t},\n\t\tonSubmit: (formSchema) => {\n\t\t\tconst newEntityType = data.entityTypes.save({\n\t\t\t\t...original,\n\t\t\t\tkey: slugify(formSchema.name),\n\t\t\t\tname: formSchema.name,\n\t\t\t\tplural: formSchema.plural,\n\t\t\t})\n\n\t\t\tformSchema.metaTypes.forEach((x) => {\n\t\t\t\tdata.metaTypes.save({\n\t\t\t\t\t...x,\n\t\t\t\t\tentityTypeId: newEntityType.id,\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tformSchema.entityActions.forEach((x) => {\n\t\t\t\tdata.entityActions.save({\n\t\t\t\t\t...x,\n\t\t\t\t\tentityTypeId: newEntityType.id,\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tformSchema.entityConnections.forEach((x) => {\n\t\t\t\tdata.entityConnections.save({\n\t\t\t\t\t...x,\n\t\t\t\t\tentityTypeId: newEntityType.id,\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tnavigate('/settings/entities')\n\t\t},\n\t})\n\n\tconst { values: metaTypes, arrayHelpers: metaTypeHelpers } = useFieldArray('metaTypes', formContext)\n\tconst { values: entityActions, arrayHelpers: entityActionsHelpers } = useFieldArray('entityActions', formContext)\n\tconst { values: entityConnections, arrayHelpers: entityConnectionsHelpers } = useFieldArray(\n\t\t'entityConnections',\n\t\tformContext\n\t)\n\n\tconst metaTypeSchema: TableSchema<MetaTypeModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Type',\n\t\t\t\tvalue: (x) => typeOptions.find((y) => y.value === x.type)?.label || '',\n\t\t\t},\n\t\t],\n\t\tactions: (x, i) => [\n\t\t\t{\n\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tonClick: async () => {\n\t\t\t\t\tconst editedMetaType = await openMetaType({ mode: 'edit', data: x })\n\t\t\t\t\tif (editedMetaType) metaTypeHelpers.replace(i, editedMetaType)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: <XIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu-danger',\n\t\t\t\tonClick: () => {\n\t\t\t\t\tconfirm({\n\t\t\t\t\t\ttitle: 'Are you sure?',\n\t\t\t\t\t\tmessage: 'This cannot be undone',\n\t\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t\tmetaTypeHelpers.remove(i)\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t}\n\n\tconst entityActionsSchema: TableSchema<EntityActionModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t],\n\t\tactions: (x, i) => [\n\t\t\t{\n\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tonClick: async () => {\n\t\t\t\t\tconst editedEntityAction = await openEntityAction({ mode: 'edit', data: x, metaTypes })\n\t\t\t\t\tif (editedEntityAction) entityActionsHelpers.replace(i, editedEntityAction)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: <XIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu-danger',\n\t\t\t\tonClick: () => {\n\t\t\t\t\tconfirm({\n\t\t\t\t\t\ttitle: 'Are you sure?',\n\t\t\t\t\t\tmessage: 'This cannot be undone',\n\t\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t\tentityActionsHelpers.remove(i)\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t}\n\n\tconst connectionSchema: TableSchema<EntityConnectionModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Entity',\n\t\t\t\tvalue: (x) => data.entityTypes.find((y) => y.id === x.relationId)?.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Cardinality',\n\t\t\t\tvalue: (x) => connectionTypeOptions.find((y) => y.value === x.type)?.label,\n\t\t\t},\n\t\t],\n\t\tactions: (x, i) => [\n\t\t\t{\n\t\t\t\ticon: <PencilIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu',\n\t\t\t\tonClick: async () => {\n\t\t\t\t\tconst editedEntityConnection = await openEntityConnection({ mode: 'edit', data: x })\n\t\t\t\t\tif (editedEntityConnection) entityActionsHelpers.replace(i, editedEntityConnection)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: <XIcon className=\"w-5 h-5\" />,\n\t\t\t\tintent: 'menu-danger',\n\t\t\t\tonClick: () => {\n\t\t\t\t\tconfirm({\n\t\t\t\t\t\ttitle: 'Are you sure?',\n\t\t\t\t\t\tmessage: 'This cannot be undone',\n\t\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t\tentityConnectionsHelpers.remove(i)\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t}\n\n\tconst title = mode === 'create' ? 'Create Entity Type' : 'Edit Entity Type'\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading\n\t\t\t\tpageTitle={title}\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ticon: <ArrowLeftIcon className=\"w-5 h-5 -mx-2\" />,\n\t\t\t\t\t\t\t\tintent: 'borderless',\n\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\tto: '/settings/entities',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>{title}</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Form context={formContext}>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<Stack dividers>\n\t\t\t\t\t\t<FormSection title=\"Details\" subtitle=\"The name and different types of labels for the entity\">\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\t\t\tvalidations={{ required: 'Name is required' }}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<FormInput name=\"plural\" label=\"Plural\" />\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Field Types\"\n\t\t\t\t\t\t\tsubtitle=\"Field Types are custom fields that are attached to this entity, that can be configured to contain many different kinds of data\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t<CardWrapper className=\"rounded-md overflow-hidden\">\n\t\t\t\t\t\t\t\t\t<Table items={metaTypes} schema={metaTypeSchema} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</CardWrapper>\n\n\t\t\t\t\t\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add Field Type',\n\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\t\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newMetaType = await openMetaType({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityTypeId: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplural: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions: [''],\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (newMetaType) metaTypeHelpers.push(newMetaType)\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Actions\"\n\t\t\t\t\t\t\tsubtitle=\"Actions are custom interactions that the user can use do to this entity. They can modify a Meta Value, or be used as triggers for notifications.\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t<CardWrapper className=\"rounded-md overflow-hidden\">\n\t\t\t\t\t\t\t\t\t<Table items={entityActions} schema={entityActionsSchema} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</CardWrapper>\n\n\t\t\t\t\t\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add Action',\n\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\t\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newEntityAction = await openEntityAction({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityTypeId: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchanges: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaTypes,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (newEntityAction) entityActionsHelpers.push(newEntityAction)\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<FormSection\n\t\t\t\t\t\t\ttitle=\"Connections\"\n\t\t\t\t\t\t\tsubtitle={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tConnections are a way to define a relationship between this entity type, and\n\t\t\t\t\t\t\t\t\t\tanother entity type.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tFor example, if a \"case has many events\", then a case should have a connection\n\t\t\t\t\t\t\t\t\t\tnamed \"Events\", set to the Event entity and a cardinality of \"Many\"\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t<CardWrapper className=\"rounded-md overflow-hidden\">\n\t\t\t\t\t\t\t\t\t<Table items={entityConnections} schema={connectionSchema} className=\"-my-px\" />\n\t\t\t\t\t\t\t\t</CardWrapper>\n\n\t\t\t\t\t\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Add Connection',\n\t\t\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\t\tintent: 'invisible',\n\t\t\t\t\t\t\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newConnection = await openEntityConnection({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityTypeId: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trelationId: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'one-to-many',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (newConnection) entityConnectionsHelpers.push(newConnection)\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</FormSection>\n\n\t\t\t\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: 'Submit',\n\t\t\t\t\t\t\t\t\t\tintent: 'save',\n\t\t\t\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Stack>\n\t\t\t\t</PageContent>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nexport default EditEntityType\n","import React, { FC } from 'react'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageNavbar from '@primer/components/PageNavbar'\nimport { RouteComponentProps } from '@reach/router'\nimport Table, { TableSchema } from '@primer/components/Table'\nimport { PlusIcon } from '@heroicons/react/outline'\nimport { links } from '../Settings'\nimport SectionHeader from '@primer/components/SectionHeader'\nimport Stack from '@primer/components/Stack'\n\ninterface ModuleModel {\n\tname: string\n}\n\nconst modules = [{ name: 'Shared Workspace' }, { name: 'Document Production' }, { name: 'Document Exchange' }]\n\nconst Modules: FC<RouteComponentProps> = () => {\n\t// const editNotification = (x: ModuleModel) => null\n\t// const deleteNotification = (x: ModuleModel) => null\n\n\tconst schema: TableSchema<ModuleModel> = {\n\t\tcols: [\n\t\t\t{\n\t\t\t\ttitle: 'Name',\n\t\t\t\tvalue: (x) => x.name,\n\t\t\t},\n\t\t],\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"Settings\" />\n\n\t\t\t<PageNavbar links={links}>\n\t\t\t\t<Stack>\n\t\t\t\t\t<div className=\"px-6 pt-6\">\n\t\t\t\t\t\t<SectionHeader\n\t\t\t\t\t\t\ttitle=\"Modules\"\n\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Add Module',\n\t\t\t\t\t\t\t\t\ticon: <PlusIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\tto: '/settings/modules/add',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Table schema={schema} items={modules} className=\"-mb-px\" />\n\t\t\t\t</Stack>\n\t\t\t</PageNavbar>\n\t\t</>\n\t)\n}\n\nexport default Modules\n","import React, { FC, ReactNode } from 'react'\nimport clsx, { ClassValue } from 'clsx'\nimport { isNotNone, None } from '@primer/types'\n\ninterface DataItemType {\n\ttitle: string\n\tvalue?: ReactNode\n}\n\ninterface DataListColumnsProps {\n\titems: (DataItemType | None)[]\n\tcolumns?: 1 | 2 | 3\n\tclassName?: ClassValue\n}\n\nconst columnClassNames = {\n\t1: '',\n\t2: 'sm:w-1/2',\n\t3: 'sm:w-1/3',\n}\n\nconst DataListColumns: FC<DataListColumnsProps> = ({ items, columns = 2, className }) => {\n\tconst cols = items\n\t\t.filter(isNotNone)\n\t\t.filter((x) => x.value)\n\t\t.reduce(\n\t\t\t(list: DataItemType[][], item: DataItemType) => {\n\t\t\t\tif (list[list.length - 1].length < columns) {\n\t\t\t\t\tlist[list.length - 1].push(item)\n\t\t\t\t\treturn list\n\t\t\t\t} else {\n\t\t\t\t\treturn [...list, [item]]\n\t\t\t\t}\n\t\t\t},\n\t\t\t[[]]\n\t\t)\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<dl className=\"flex flex-col space-y-8\">\n\t\t\t\t{cols.map((lists, i) => (\n\t\t\t\t\t<div key={i} className=\"flex flex-col sm:flex-row sm:space-x-8 space-y-8 sm:space-y-0\">\n\t\t\t\t\t\t{lists.map((item, j) => (\n\t\t\t\t\t\t\t<div key={j} className={clsx('w-full', columnClassNames[columns])}>\n\t\t\t\t\t\t\t\t<dt className=\"text-sm leading-5 text-gray-500 dark:text-gray-300\">{item.title}</dt>\n\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-5 break-all text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t{item.value}\n\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</dl>\n\t\t</div>\n\t)\n}\n\nexport default DataListColumns\n","import React, { FC, useState } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport PageHeading from '@primer/components/PageHeading'\nimport { RouteComponentProps } from '@reach/router'\nimport { ArrowLeftIcon, CheckIcon } from '@heroicons/react/outline'\nimport Stack from '@primer/components/Stack'\nimport Actions from '@primer/components/Actions'\nimport PageContent from '@primer/components/PageContent'\nimport Card from '@primer/components/Card'\nimport clsx from 'clsx'\nimport DataListColumns from '@primer/components/DataListColumns'\nimport Checkbox from '@primer/components/Checkbox'\n\nconst modules = [\n\t{ id: uuid(), name: 'Shared Workspace' },\n\t{ id: uuid(), name: 'Document Production' },\n\t{ id: uuid(), name: 'Document Exchange' },\n\t{ id: uuid(), name: 'Video Conferencing' },\n\t{ id: uuid(), name: 'Peer Review' },\n]\n\nconst AddModule: FC<RouteComponentProps> = () => {\n\tconst [selected, setSelected] = useState<string[]>([])\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading\n\t\t\t\tpageTitle=\"Add Module\"\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ticon: <ArrowLeftIcon className=\"w-5 h-5 -mx-2\" />,\n\t\t\t\t\t\t\t\tintent: 'borderless',\n\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\tto: '/settings/modules',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>Add Module</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<PageContent>\n\t\t\t\t<Stack>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-6\">\n\t\t\t\t\t\t\t{modules.map((x) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={x.id}\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'border rounded relative cursor-pointer shadow-sm',\n\t\t\t\t\t\t\t\t\t\t'col-span-1 min-h-[300px]',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'bg-white dark:bg-gray-750 border-gray-200 dark:border-gray-600':\n\t\t\t\t\t\t\t\t\t\t\t\t!selected.includes(x.id),\n\t\t\t\t\t\t\t\t\t\t\t'bg-primary-50 dark:bg-primary-500 dark:bg-opacity-25 border-primary-500 dark:border-primary-500 ring-1 ring-primary-500':\n\t\t\t\t\t\t\t\t\t\t\t\tselected.includes(x.id),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (selected.includes(x.id)) {\n\t\t\t\t\t\t\t\t\t\t\tsetSelected((s) => s.filter((y) => y !== x.id))\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetSelected((s) => [...s, x.id])\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Stack className=\"p-4\">\n\t\t\t\t\t\t\t\t\t\t<DataListColumns\n\t\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Name',\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: <span className=\"text-lg font-medium\">{x.name}</span>,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Includes',\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-disc pl-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>3 Entities</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>5 Templates</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>5 Notifications</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\tcolumns={1}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button className=\"text-primary-600 text-sm font-medium underline\">\n\t\t\t\t\t\t\t\t\t\t\tView More\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t<div className=\"p-4 absolute top-0 right-0\">\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(x.id)}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.checked) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelected((s) => s.filter((y) => y !== x.id))\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelected((s) => [...s, x.id])\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\tactions={{\n\t\t\t\t\t\t\t\ttitle: 'Save',\n\t\t\t\t\t\t\t\ticon: <CheckIcon className=\"w-5 h-5\" />,\n\t\t\t\t\t\t\t\tintent: 'save',\n\t\t\t\t\t\t\t\tonClick: () => {},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Stack>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default AddModule\n","import React, { FC, ReactNode } from 'react'\nimport { useField, useFormikContext } from 'formik'\nimport clsx, { ClassValue } from 'clsx'\n\ninterface FormCheckboxProps {\n\tname: string\n\tlabel?: ReactNode\n\tdefaultValue?: any\n\tdisabled?: boolean\n\tinputClassName?: ClassValue\n\tclassName?: ClassValue\n\tcolor?: string\n}\n\nconst FormCheckbox: FC<FormCheckboxProps> = ({\n\tname,\n\tlabel,\n\tdisabled,\n\tinputClassName,\n\tcolor = 'text-primary-600 dark:text-emerald-500',\n\tclassName,\n}) => {\n\t// helpers: {setValue: ƒ, setTouched: ƒ, setError: ƒ}\n\tconst [field] = useField({\n\t\tname,\n\t\ttype: 'checkbox',\n\t})\n\n\tconst formik = useFormikContext()\n\n\treturn (\n\t\t<div className={clsx(className)}>\n\t\t\t<label className=\"text-sm font-medium leading-5 text-gray-700 dark:text-gray-200 inline-flex items-center cursor-pointer\">\n\t\t\t\t<input\n\t\t\t\t\t{...field}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclassName={clsx('form-checkbox', inputClassName, {\n\t\t\t\t\t\t[color]: !disabled,\n\t\t\t\t\t\t'text-gray-400': disabled,\n\t\t\t\t\t})}\n\t\t\t\t\tdisabled={disabled || formik.isSubmitting}\n\t\t\t\t/>\n\t\t\t\t{label && <span className=\"ml-3\">{label}</span>}\n\t\t\t</label>\n\t\t</div>\n\t)\n}\n\nexport default FormCheckbox\n","import React, { FC } from 'react'\nimport { RouteComponentProps } from '@reach/router'\nimport PageHeading from '@primer/components/PageHeading'\nimport PageContent from '@primer/components/PageContent'\nimport Card from '@primer/components/Card'\nimport Form, { useForm } from '@primer/components/Form2/Form'\nimport FormInput from '@primer/components/Form2/FormInput'\nimport FormCheckbox from '@primer/components/Form2/FormCheckbox'\nimport FormSelect from '@primer/components/Form2/FormSelect'\nimport FormDate from '@primer/components/Form2/FormDate'\nimport Actions from '@primer/components/Actions'\nimport Stack from '@primer/components/Stack'\nimport useFieldArray from '@primer/components/Form2/useFieldArray'\nimport Well from '@primer/components/Well'\n\nconst fruitOptions = [\n\t{ label: 'Apple', value: 'apple' },\n\t{ label: 'Banana', value: 'banana' },\n\t{ label: 'Orange', value: 'orange' },\n]\n\ninterface FormData {\n\tname: string\n\tnewsletter: boolean\n\tfruit: string | null\n\tdate: Date | null\n\toptions: string[]\n\tdates: Date[]\n}\n\nconst Test: FC<RouteComponentProps> = () => {\n\tconst formContext = useForm<FormData>({\n\t\tinitialValues: {\n\t\t\tname: 'ayy',\n\t\t\tnewsletter: true,\n\t\t\tfruit: null,\n\t\t\tdate: null,\n\t\t\toptions: [],\n\t\t\tdates: [],\n\t\t},\n\t\tonSubmit: (formData) => {\n\t\t\tconsole.log('formData', formData)\n\t\t},\n\t})\n\n\tconst { values, arrayHelpers } = useFieldArray('dates', formContext)\n\n\t// do whatever with formContext here\n\tconsole.log('name', formContext.values.name)\n\n\treturn (\n\t\t<>\n\t\t\t<PageHeading title=\"New Form Components\" />\n\n\t\t\t<PageContent>\n\t\t\t\t<Form context={formContext}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<FormInput name=\"name\" label=\"Name\" validations={{ required: 'Name is required' }} />\n\n\t\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\t\tname=\"fruit\"\n\t\t\t\t\t\t\t\tlabel=\"Fruit\"\n\t\t\t\t\t\t\t\toptions={fruitOptions}\n\t\t\t\t\t\t\t\tvalidations={{ required: 'Fruit is required' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<FormCheckbox name=\"newsletter\" label=\"Newsletter\" />\n\n\t\t\t\t\t\t\t<FormDate name=\"date\" label=\"Date\" validations={{ required: 'Date is required' }} />\n\n\t\t\t\t\t\t\t<Well>\n\t\t\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t\t\t{values.map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<FormInput name={`options.${i}`} label={`Option ${i}`} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'add',\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => arrayHelpers.push(''),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Well>\n\n\t\t\t\t\t\t\t<Actions\n\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: 'Submit',\n\t\t\t\t\t\t\t\t\t\tintent: 'primary',\n\t\t\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Card>\n\t\t\t\t</Form>\n\t\t\t</PageContent>\n\t\t</>\n\t)\n}\n\nexport default Test\n","import React, { FC, Suspense } from 'react'\nimport { Router, Redirect, RouteComponentProps } from '@reach/router'\n\nimport PageSidebar from '@primer/components/Layouts/PageSidebar'\n// import PageTopbar from '@primer/components/Layouts/PageTopbar'\n\n// logged in\nimport Home from 'pages/Home'\nimport NotFound from 'pages/NotFound'\n\n// settings\nimport Settings from 'pages/Settings/Settings'\n\n// notifications\nimport Notifications from 'pages/Settings/Notifications/Notifications'\nimport NotificationForm from 'pages/Settings/Notifications/NotificationForm'\n\n// templates\nimport Templates from 'pages/Settings/Templates/Templates'\nimport TemplateForm from 'pages/Settings/Templates/TemplateForm'\n\n// roles\nimport Roles from 'pages/Settings/Roles/Roles'\nimport CreateRole from 'pages/Settings/Roles/CreateRole'\n\n// entities\nimport Entities from 'pages/Settings/Entities/Entities'\nimport EntityForm from 'pages/Settings/Entities/EntityForm'\n\n// Modules\nimport Modules from 'pages/Settings/Modules/Modules'\nimport AddModule from 'pages/Settings/Modules/AddModule'\n\nimport Test from 'pages/Test'\n// import CreateRoles from 'pages/Roles/CreateRoles'\n\nconst isDev = !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n\nconst Route: FC<RouteComponentProps> = ({ children }) => <>{children}</>\n\nconsole.log('process.env', process.env)\n\nconst Router2 = () => {\n\tconst Wrapper = PageSidebar\n\n\treturn (\n\t\t<Suspense fallback={null}>\n\t\t\t<Router basepath={process.env.PUBLIC_URL}>\n\t\t\t\t<Wrapper path=\"/\">\n\t\t\t\t\t<Redirect from=\"/\" to=\"home\" noThrow={isDev} />\n\t\t\t\t\t<NotFound default />\n\t\t\t\t\t<Home path=\"/home\" />\n\t\t\t\t\t<Home path=\"/cases\" />\n\t\t\t\t\t<Home path=\"/events\" />\n\t\t\t\t\t<Home path=\"/users\" />\n\n\t\t\t\t\t<Settings path=\"/settings\">\n\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t<Redirect from=\"/\" to=\"entities\" noThrow={isDev} />\n\n\t\t\t\t\t\t<Route path=\"/entities\">\n\t\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t\t<Entities path=\"/\" />\n\t\t\t\t\t\t\t<EntityForm path=\"/create\" mode=\"create\" />\n\t\t\t\t\t\t\t<EntityForm path=\":id/edit\" mode=\"edit\" />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/roles\">\n\t\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t\t<Roles path=\"/\" />\n\t\t\t\t\t\t\t<CreateRole path=\"/create\" />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/templates\">\n\t\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t\t<Templates path=\"/\" />\n\t\t\t\t\t\t\t<TemplateForm path=\"/create\" mode=\"create\" />\n\t\t\t\t\t\t\t<TemplateForm path=\":id/edit\" mode=\"edit\" />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/notifications\">\n\t\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t\t<Notifications path=\"/\" />\n\t\t\t\t\t\t\t<NotificationForm path=\"/create\" mode=\"create\" />\n\t\t\t\t\t\t\t<NotificationForm path=\":id/edit\" mode=\"edit\" />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/modules\">\n\t\t\t\t\t\t\t<NotFound default />\n\t\t\t\t\t\t\t<Modules path=\"/\" />\n\t\t\t\t\t\t\t<AddModule path=\"/add\" />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Settings>\n\n\t\t\t\t\t<Test path=\"/test\" />\n\t\t\t\t</Wrapper>\n\t\t\t</Router>\n\t\t</Suspense>\n\t)\n}\n\nexport default Router2\n","import React, { useEffect, useReducer } from 'react'\nimport Router from './Router'\nimport 'react-quill/dist/quill.snow.css'\nimport './main.css'\nimport { renderContainer } from 'data'\n\nconst App = () => {\n\tconst [, dispatch] = useReducer(() => ({}), {})\n\tuseEffect(() => {\n\t\trenderContainer.current = dispatch\n\t}, [dispatch])\n\n\treturn <Router />\n}\n\nexport default App\n","import React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nconsole.log('build #' + process.env.REACT_APP_COMMIT)\n\nReactDOM.render(\n\t<Suspense fallback={null}>\n\t\t<App />\n\t</Suspense>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}